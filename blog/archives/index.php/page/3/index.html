<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Archives | Kam&#39;s Idea Log</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Kam&#39;s Idea Log">
<meta property="og:url" content="https://kamsar.net/blog/archives/index.php/page/3/index.html">
<meta property="og:site_name" content="Kam&#39;s Idea Log">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Kam Figy">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@kamsar">
  
    <link rel="alternative" href="/index.php/feed" title="Kam&#39;s Idea Log" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-62284328-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


<meta name="generator" content="Hexo 5.4.0"></head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo">
        <span class="site-title">Kam&#39;s Idea Log</span>
        <span class="subtitle">C#, Jamstack, and Shenanigans</span>
      </a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        <div class="profile" id="profile-nav">
          <a id="profile-anchor" href="javascript:;"><img class="avatar" src="https://www.gravatar.com/avatar/314826f5d569260f26ac9f26f9e38b86?s=40" srcset="https://www.gravatar.com/avatar/314826f5d569260f26ac9f26f9e38b86?s=80 2x" alt="omg the beard"><i class="fa fa-caret-down"></i></a>
        </div>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="sitesearch" value="https://kamsar.net"></form>
      </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
      
        <td><a class="main-nav-link" href="/">Home</a></td>
      
        <td><a class="main-nav-link" href="/blog/archives">Archives</a></td>
      
      <td>
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="https://kamsar.net"></form>
      </td>
      </tr>
    </table>
  </div>
  
  <div id="header-sub" class="header-sub header-inner">
    <div class="outer">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/index.php/category/April-1/">April 1</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Blade/">Blade</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Build-Scripts/">Build Scripts</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/C/">C#</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Dianoga/">Dianoga</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/JSS/">JSS</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Jamstack/">Jamstack</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/JavaScript/">JavaScript</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Node-js/">Node.js</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/">Sitecore</a><span class="category-list-count">39</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Synthesis/">Synthesis</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Unicorn/">Unicorn</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/WebConsole/">WebConsole</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>
  
</header>
    <div class="outer">
      <aside id="profile">
  <div class="inner profile-inner">
  	<div class="base-info profile-block">
		  <img id="avatar" src="https://www.gravatar.com/avatar/314826f5d569260f26ac9f26f9e38b86?s=128" srcset="https://www.gravatar.com/avatar/314826f5d569260f26ac9f26f9e38b86?s=256 2x" alt="#sitecorebeard">
      <h2 id="name">Kam Figy</h2>
      <h3 id="title">Principal Platform Architect at</h3>
      <a class="corp-logo" href="https://uniform.dev" target="_blank"><img src="/css/images/uniform-logo.svg" alt="Uniform" width="180"></a>
      <span id="location"><i class="fa fa-map-marker"></i>Vancouver, WA USA</span>
      <a id="follow" target="_blank" rel="noopener" href="https://twitter.com/kamsar">FOLLOW</a>
  	</div>
    <div class="contact-info profile-block">
      <table class="contact-list">
        <tr>
        
          <td><a target="_blank" rel="noopener" href="https://github.com/kamsar" title="github"><i class="fa fa-github"></i></a></td>
        
          <td><a target="_blank" rel="noopener" href="https://twitter.com/kamsar" title="twitter"><i class="fa fa-twitter"></i></a></td>
        
          <td><a href="/index.php/feed" title="rss"><i class="fa fa-rss"></i></a></td>
        
        </tr>
      </table>
    </div>
    <div class="article-info profile-block bio">
      <h2>About</h2>
      <p>Kam has been making websites since 1996, starting out with a 14.4k modem on a <a href="https://en.wikipedia.org/wiki/Party_line_(telephony)" target="_blank">party line</a> in the Hawaiian rainforest. A veteran developer, architect, and speaker, he's been working in the content management space for well over a decade. Kam is the author of <a href="https://github.com/kamsar/Unicorn" target="_blank">Unicorn</a>, <a href="https://github.com/kamsar/Synthesis" target="_blank">Synthesis</a>, <a href="https://github.com/kamsar/Dianoga" target="_blank">Dianoga</a>, and several other open-source libraries.</p>
    </div>
  </div>
</aside>
      <section id="main">
  
  
    
    
      
        <div class="archive-year-wrap">
          <i class="fa fa-calendar"></i>
          <a href="/archives/2017" class="archive-year">2017</a>
        </div>
    
    <article id="post-Unicorn-4-Preview-Project-Dilithium" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2017/02/Unicorn-4-Preview-Project-Dilithium/">Unicorn 4 Preview, Part 1: Project Dilithium</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2017/02/Unicorn-4-Preview-Project-Dilithium/">
    <time datetime="2017-02-02T04:51:13.000Z" itemprop="datePublished">February 1, 2017</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Unicorn/">Unicorn</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Not too long ago I was considering the future of Unicorn. Rather na√Øvely, I couldn‚Äôt think of all that much that needed fixing. I wondered if there would ever be a Unicorn 4. </p>
<p>Now since you‚Äôve read the title of this blog post, something tells me you don‚Äôt think that attitude lasted very long. It didn‚Äôt. Because there‚Äôs a pretty simple truth about Unicorn, even with all the <a href="https://kamsar.net/index.php/2015/09/Unicorn-3-What-s-new/#Performance-50-more-of-it">optimizations I put in to Unicorn 3</a>:</p>
<img src="/index.php/2017/02/Unicorn-4-Preview-Project-Dilithium/tdh.jpg" class="">

<p>There were two primary causes of this:</p>
<ol>
<li>The Sitecore API is slow and not suited to dealing with large quantities of items</li>
<li>Unicorn was originally designed to optimize for a few configurations, and Helix was blasting the number of active configurations to large numbers</li>
</ol>
<p>I found that the sync time was becoming annoyingly long. Long enough that it was a distraction, long enough that a piddly 20% faster from more profiling just wasn‚Äôt good enough.</p>
<p>What to do, what to do.</p>
<h2 id="Introducing-Project-Dilithium"><a href="#Introducing-Project-Dilithium" class="headerlink" title="Introducing Project Dilithium"></a>Introducing Project Dilithium</h2><p>I started on a crazy quest to speed up syncing performance. Sitecore‚Äôs recently added <a target="_blank" rel="noopener" href="https://stephenpope.github.io/publishing">Publishing Service</a> gained drastic speed gains in publishing by leveraging direct database access. Publishing, like syncing, is a batch-oriented operation. The Sitecore API is a single-item-oriented API. It does no optimizations, aside from caching, when you want more than one item. I resolved to try out SQL and see how it went. It went. See for yourself:</p>
<img src="/index.php/2017/02/Unicorn-4-Preview-Project-Dilithium/perf.png" class="">

<p>(benchmarks on i5-3570k@4GHz, SSDs, freshly restarted IIS + SQL, average of 3 runs each)</p>
<img src="/index.php/2017/02/Unicorn-4-Preview-Project-Dilithium/whoa.jpg" class="">

<h3 id="So-what-is-Dilithium"><a href="#So-what-is-Dilithium" class="headerlink" title="So what is Dilithium?"></a>So what is <a target="_blank" rel="noopener" href="http://bit.ly/2kjLK50">Dilithium</a>?</h3><p>There are two pieces of the Dilithium project: SQL and Serialized. Both operate in a similar fashion: before a sync operation begins, all items that will be involved in that sync are read in a single big batch either from SQL or disk. The actual sync then occurs against the pre-batched items. In case you‚Äôre wondering, the graph above <em>includes</em> the batching times for Dilithium - no cheating :)</p>
<p>The SQL version takes advantage of the <code>Descendants</code> table to grab all predicate-included items for every configuration in a single huge SQL query (this does mean that <code>FastQueryDescendantsDisabled</code> must be turned off). These items are then indexed and prepared for fast access. In this way, the entire data contents of the stock <code>core</code> database can be read in about 1500ms, compared to the Sitecore API‚Äôs 8 seconds.</p>
<p>The serialized version skips all the checks that usually are needed to traverse a Serialization File System tree - expensive operations that guarantee that the children you‚Äôre getting all belong to the same item ID, for example. It‚Äôs essentially reading all files sequentially and caching them for sync just like the SQL version.</p>
<p>When both DiSerialized and DiSQL are used together, they enable <em>parallel loading</em> of both sources at once. This reduces the load time quite significantly, as you can see on the shortest bar on the chart above.</p>
<h3 id="Questions"><a href="#Questions" class="headerlink" title="Questions?"></a>Questions?</h3><h4 id="Direct-SQL-are-you-nuts"><a href="#Direct-SQL-are-you-nuts" class="headerlink" title="Direct SQL, are you nuts?"></a>Direct SQL, are you nuts?</h4><p>Yes. Yes I am. Directly querying the Sitecore database is a terrible idea in almost every situation‚Ä¶except this. The schema for content has also been very stable for several major revisions of the product. And Stephen Pope said it was ok :)</p>
<h4 id="Is-it-any-faster-adding-or-modifying-items"><a href="#Is-it-any-faster-adding-or-modifying-items" class="headerlink" title="Is it any faster adding or modifying items?"></a>Is it any faster adding or modifying items?</h4><p>No. I‚Äôm not crazy enough to also do direct SQL writes, so all modifications go through normal Sitecore item saving APIs and perform pretty much the same as Unicorn 3. This also means that they‚Äôre mature, well-tested code - Unicorn 4 under the hood is not much different from v3, except for Dilithium.</p>
<h4 id="Can-I-turn-it-off"><a href="#Can-I-turn-it-off" class="headerlink" title="Can I turn it off?"></a>Can I turn it off?</h4><p>Heck yes. You can enable or disable Dilithium on a per-configuration basis. It also works just fine if you sync Dilithium and standard configurations together.</p>
<p>Serialized items and formats are identical between Dilithium and normal, so you can also enable and disable at will with no migration process.</p>
<h4 id="Will-this-eat-up-all-my-RAM"><a href="#Will-this-eat-up-all-my-RAM" class="headerlink" title="Will this eat up all my RAM?"></a>Will this eat up all my RAM?</h4><p>If you‚Äôre syncing gigabytes of media items‚Ä¶yes, definitely. For more normal developer and light content items, nope. DiSQL does not read blob data, so if you become RAM constrained turn off DiSerialized first.</p>
<p>Note that the precaches are disposed of immediately after the sync completes, so memory spikes are temporary.</p>
<h4 id="Let‚Äôs-address-the-üêò-in-the-room-how-is-Unicorn-4-60-faster-than-3-without-Dilithium"><a href="#Let‚Äôs-address-the-üêò-in-the-room-how-is-Unicorn-4-60-faster-than-3-without-Dilithium" class="headerlink" title="Let‚Äôs address the üêò in the room, how is Unicorn 4 60% faster than 3 without Dilithium?"></a>Let‚Äôs address the üêò in the room, how is Unicorn 4 60% faster than 3 without Dilithium?</h4><p>Actually pretty simple: eliminating a cache bombing that was done between syncing configurations that was needed for Transparent Sync. Well, it wasn‚Äôt needed if you‚Äôre syncing a non-Transparent configuration. Doing that meant that sites like Habitat with a ton of small non-Transparent configurations perform a <em>lot</em> faster.</p>
<h4 id="Any-other-performance-tricks"><a href="#Any-other-performance-tricks" class="headerlink" title="Any other performance tricks?"></a>Any other performance tricks?</h4><p>In my daily development I use a mix of Transparent Sync for developer items (templates, renderings), and standard sync for content items. Since Transparent Sync is disk-based anyway there is little point to running a sync on Transparent Sync configurations when you‚Äôre just doing local development. As such, there‚Äôs now an option to <em>skip</em> Transparent Sync-enabled configurations when you sync all. This is an option in the PowerShell API in Unicorn 4, as well as an option in the control panel (same place as log level).</p>
<p>Depending on how many Transparent Sync configurations you have, your time savings can be significant from enabling this. You should not however do this when deploying transparent configurations to a shared server.</p>
<h2 id="Can-I-have-it"><a href="#Can-I-have-it" class="headerlink" title="Can I have it?"></a>Can I have it?</h2><p>Not yet, it still needs some additional testing and vetting before I call it alpha. If you‚Äôre interested in being a brave early tester, get ahold of me on Sitecore Slack :)</p>
<h2 id="Is-this-the-only-new-thing-in-Unicorn-4"><a href="#Is-this-the-only-new-thing-in-Unicorn-4" class="headerlink" title="Is this the only new thing in Unicorn 4?"></a>Is this the only new thing in Unicorn 4?</h2><p>Nope. I‚Äôve got some more tricks up my sleeve, so stay tuned for some more preview blogs coming soon&trade;</p>
<p><img src="https://i.giphy.com/26uf80oUzpxWmuTOo.gif"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2017/02/Unicorn-4-Preview-Project-Dilithium/" data-id="ckrl9emyi004p98q7bq7805x0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Controlling-Rendering-Order-in-Sitecore-MVC" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2017/01/Controlling-Rendering-Order-in-Sitecore-MVC/">Controlling Rendering Order in Sitecore MVC</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2017/01/Controlling-Rendering-Order-in-Sitecore-MVC/">
    <time datetime="2017-01-14T00:25:47.000Z" itemprop="datePublished">January 13, 2017</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Sitecore/">Sitecore</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Back in the bad old Web Forms days, rendering a page was a multi-step process. There were <code>Init</code>, <code>Load</code>, <code>PreRender</code>, and <code>Render</code>, just to name a few. This was mostly a pain to deal with as it made it hard to know when in the page lifecycle you should place your code to deal with framework side effects. It also made its fair share of inane interview questions.</p>
<p>But it <em>did</em> mean one useful thing: there was a place you could put code where it would always run even if a rendering was output cached, that went before the page actually rendered. Why was this useful? Suppose you needed a certain CSS class on <code>&lt;body&gt;</code> when a specific rendering was added to the page. Maybe a rendering would override the <code>&lt;title&gt;</code>, or any number of other techniques* which require code to execute prior to page layout composition.</p>
<p>* most of these techniques are just as bad as Web Forms :P</p>
<p>When MVC became popular, it brought its own single-step rendering pipeline. This is awesome because it‚Äôs easy to understand: the page rendering starts at the top and works its way down, rendering partials and the like in order. No more ‚Äúthe form value is missing because you added the dynamic field after init so data binding had already run.‚Äù (Seriously?) Simple.</p>
<p>But in a single step pipeline, there‚Äôs no room for a later component to signal an earlier component anything. Take this for example:</p>
<pre><code>// support class
public class Body
&#123;
    public static string CssClass &#123; get; set; &#125;
&#125;

// layout
&lt;body class=&quot;@Body.CssClass&quot;&gt;
    @Html.Sitecore().Placeholder(&quot;wrapper&quot;)
&lt;/body&gt;

// inside wrapper, in a controller
public ActionResult Rendering()
&#123;
    Body.CssClass = &quot;üêò&quot;;
    return View();
&#125;
</code></pre>
<p>What will happen? Well, first the body tag will execute, then the <code>wrapper</code> placeholder will be executed. The body class will be set <em>after</em> the <code>&lt;body&gt;</code> tag has been rendered: there will be no class on the <code>body</code>.</p>
<p>There are two ways I know of to get around this.</p>
<h2 id="Use-a-Layout"><a href="#Use-a-Layout" class="headerlink" title="Use a Layout"></a>Use a Layout</h2><img src="/index.php/2017/01/Controlling-Rendering-Order-in-Sitecore-MVC/dawg.jpg" class="">

<p>A layout? Aren‚Äôt we already using one of those? Nope: an <a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/aspnet/core/mvc/views/layout">MVC layout</a>, not a Sitecore layout. In our example above, we could refactor the layout like this:</p>
<pre><code>// _Layout.cshtml
&lt;body class=&quot;@Body.CssClass&quot;&gt;
    @RenderBody()
&lt;/body&gt; 

// SitecoreLayout.cshtml
@&#123;
    Layout = &quot;~/Path/To/_Layout.cshtml&quot;;
&#125;

// the body of this is placed in the @RenderBody() in the MVC layout
@Html.Sitecore().Placeholder(&quot;wrapper&quot;)
</code></pre>
<p>Here the Sitecore layout inherits the MVC layout by setting the <code>Layout</code> property. This also has the side effect that the Sitecore view is executed <em>before</em> the MVC layout. So in our example, now the <code>SitecoreLayout.cshtml</code> is rendered (including the rendering which sets the body class), and then the <code>_Layout.cshtml</code> renders and places the Sitecore content in the <code>@RenderBody()</code>. The body class is thus set how we want.</p>
<p>MVC layouts are also a lovely tool if you have several Sitecore layouts which share a lot of common boilerplate wrapper code - for example, the same meta tags, favicon, or version footer - without duplicating them several times. <a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/aspnet/core/mvc/views/layout#sections">Sections</a> enable you to have your Sitecore layout also write to specific places in the MVC layout. For example you might choose to expose a <code>head</code> section to enable the Sitecore layout to add CSS files or analytics scripts to the MVC layout <code>&lt;head&gt;</code>.</p>
<h2 id="Reversed-Rendering"><a href="#Reversed-Rendering" class="headerlink" title="Reversed Rendering"></a>Reversed Rendering</h2><img src="/index.php/2017/01/Controlling-Rendering-Order-in-Sitecore-MVC/redpill.jpg" class="">

<p>The second way to control your renderings‚Äô order is to use a technique I call Reversed Rendering. This is a simple trick that relies on the fact that HTML helpers are really just functions. This is a completely valid layout:</p>
<pre><code>@&#123;
    var wrapper = Html.Sitecore().Placeholder(&quot;wrapper&quot;);
&#125;

&lt;body class=&quot;@Body.CssClass&quot;&gt;
    @wrapper
&lt;/body&gt;
</code></pre>
<p>The <code>Placeholder()</code> method returns a <code>HtmlString</code> object, which contains the markup for the placeholder. You can take advantage of this to change the order by assigning the placeholder to a variable instead of rendering it directly into the output. Then you can control the order in which things render to make the body content render before the parent tags, thus facilitating communications.</p>
<p>I haven‚Äôt tried it (and performance wouldn‚Äôt be great dealing with large strings), but you could also theoretically use this trick to perform HTML post-processing on rendered renderings.</p>
<h2 id="What-about-output-caching"><a href="#What-about-output-caching" class="headerlink" title="What about output caching?"></a>What about output caching?</h2><p>Output caching gains performance by not executing the whole rendering pipeline and instead serving a pre-cached static version or a rendering. The problem is that by bypassing the rendering pipeline it also bypasses the code (controller or view) that pushes data up to the layout.</p>
<p>So when using these techniques, make sure to not enable output caching on any renderings that are setting variables used in the layout - or else the variables won‚Äôt be set as soon as the caching kicks in.</p>
<p>So there you have it. Go forth and have fun!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2017/01/Controlling-Rendering-Order-in-Sitecore-MVC/" data-id="ckrl9emyh004n98q75lmv2wwm" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-EditContext-Considered-Harmful" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2017/01/EditContext-Considered-Harmful/">EditContext Considered Harmful</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2017/01/EditContext-Considered-Harmful/">
    <time datetime="2017-01-13T01:52:42.000Z" itemprop="datePublished">January 12, 2017</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Sitecore/">Sitecore</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>If you‚Äôve worked with Sitecore for very long, you have probably needed to update an item‚Äôs content programmatically. A pattern in common usage for this is to use the <code>EditContext</code> class, for example:</p>
<pre><code>Item item;
using(new EditContext(item))
&#123;
    item[&quot;FieldName&quot;] = &quot;A new value&quot;;
&#125;
</code></pre>
<p>Unfortunately, it has a fatal flaw. A fatal flaw that Jakob Christensen <a target="_blank" rel="noopener" href="http://sitecore.alexiasoft.nl/2006/04/03/new-way-of-editing-items/#comment-16">pointed out <em>in 2006</em></a>. Unfortunately it‚Äôs still in wide use, and is not marked as obsolete. Hopefully this post can help change that!</p>
<p>The problem lies in the way the <code>using</code> statement works. It is effectively equivalent to this:</p>
<pre><code>var context = new EditContext(item);
try
&#123;
    item[&quot;FieldName&quot;] = &quot;A new value&quot;;
&#125;
finally
&#123;
    context.Dispose();
&#125;
</code></pre>
<p>An astute observer will notice that due to the <code>finally</code> semantic, the <code>EditContext</code> is <em>always disposed</em>, regardless of whether an exception occurs. Take this code for example:</p>
<pre><code>Item item;
using(new EditContext(item))
&#123;
    item[&quot;FieldA&quot;] = &quot;Sample&quot;;
    item[&quot;FieldB&quot;] = GetFieldValue();
    item[&quot;FieldC&quot;] = &quot;A new value&quot;;
&#125;

public string GetFieldValue() 
&#123;
    throw new ArgumentException(&quot;Let&#39;s address the elephant in the room.&quot;);
&#125;
</code></pre>
<p>In this example <code>GetFieldValue()</code> throws an exception. This will cause an immediate drop through to the <code>finally</code> of the <code>using</code> statement, which executes whether an exception is thrown or not. Which will <em>commit</em> the partial item change to <code>FieldA</code> without <code>FieldB</code> or <code>FieldC</code>, leaving the Sitecore item in an inconsistent state. Which you probably do not want.</p>
<h2 id="So-what-should-we-use"><a href="#So-what-should-we-use" class="headerlink" title="So what should we use?"></a>So what <em>should</em> we use?</h2><p>The correct way to edit an item is with the <code>Editing</code> property, for example:</p>
<pre><code>Item item;
item.Editing.BeginEdit();
item[&quot;FieldA&quot;] = &quot;Sample&quot;;
item[&quot;FieldB&quot;] = GetFieldValue();
item[&quot;FieldC&quot;] = &quot;A new value&quot;;
item.Editing.EndEdit();
</code></pre>
<p>Note how <code>EndEdit()</code> will <em>not</em> be called if an exception occurs. This prevents Sitecore from writing any field changes to the database (changes are queued up and committed all together when <code>EndEdit()</code> is called).</p>
<p>This syntax is however a bit hard to read, because it is difficult to parse the code compared to the neat indentation of <code>EditContext</code>. I would like to propose an alternative syntax, taking advantage of the fact that you can use <em>arbitrary braces</em> in C#:</p>
<pre><code>Item item;

item.Editing.BeginEdit();
&#123;
    item[&quot;FieldA&quot;] = &quot;Sample&quot;;
    item[&quot;FieldB&quot;] = GetFieldValue();
    item[&quot;FieldC&quot;] = &quot;A new value&quot;;
&#125;
item.Editing.EndEdit();
</code></pre>
<p>There! Now it reads nearly like <code>EditContext</code>, but does not suffer from its downsides :)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2017/01/EditContext-Considered-Harmful/" data-id="ckrl9emyh004l98q77tzhbo68" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
      
        <div class="archive-year-wrap">
          <i class="fa fa-calendar"></i>
          <a href="/archives/2016" class="archive-year">2016</a>
        </div>
    
    <article id="post-Synthesis-8-2-2-Released" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2016/11/Synthesis-8-2-2-Released/">Synthesis 8.2.2 Released</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2016/11/Synthesis-8-2-2-Released/">
    <time datetime="2016-11-18T22:12:34.000Z" itemprop="datePublished">November 18, 2016</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Synthesis/">Synthesis</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>I am happy to announce the release of <a target="_blank" rel="noopener" href="https://github.com/kamsar/Synthesis">Synthesis</a> 8.2.2. </p>
<p>Synthesis is an object mapping framework for Sitecore that enables developing more reliable and maintainable sites in less time than traditional Sitecore development. It is a strongly typed template object generator that is easily understandable for developers with either a Sitecore or traditional .NET background.</p>
<h2 id="What‚Äôs-new"><a href="#What‚Äôs-new" class="headerlink" title="What‚Äôs new?"></a>What‚Äôs new?</h2><h3 id="Automatic-Model-Regeneration"><a href="#Automatic-Model-Regeneration" class="headerlink" title="Automatic Model Regeneration"></a>Automatic Model Regeneration</h3><p>Synthesis now ships by default with event handlers that automatically regenerate your model classes when templates are changed, renamed, moved, or deleted. Whereas before you‚Äôd have to manually request a regeneration, now you can just save the template and within 2-3 seconds your model classes have been updated.</p>
<p>Automatic Model Regeneration turns itself off if <code>&lt;compilation debug=&quot;false&quot;&gt;</code> is set in the web.config. You can choose to disable it in published scenarios either this way or by deleting its <code>Synthesis.AutoRegenerate.config</code> file when deploying. <a target="_blank" rel="noopener" href="https://github.com/kamsar/Synthesis/issues/37">#37</a></p>
<h3 id="Hyperlink-Tag-Body-Rendering"><a href="#Hyperlink-Tag-Body-Rendering" class="headerlink" title="Hyperlink Tag Body Rendering"></a>Hyperlink Tag Body Rendering</h3><p>Previously Synthesis‚Äô MVC helpers did not have a way to render a hyperlink field with an arbitrary HTML body within (e.g. an image, etc). This has been rectified in 8.2.2, with the new <code>BeginHyperlinkFor</code> helper. <a target="_blank" rel="noopener" href="https://github.com/kamsar/Synthesis/issues/31">#31</a></p>
<pre><code>@using(Html.BeginHyperlinkFor(m =&gt; m.HyperlinkField)) &#123;
    &lt;h1&gt;Woohoo!&lt;/h1&gt;
    &lt;img src=&quot;homer.gif&quot;&gt;
&#125;
</code></pre>
<h3 id="Config-Files-In-Their-Own-Folder"><a href="#Config-Files-In-Their-Own-Folder" class="headerlink" title="Config Files In Their Own Folder"></a>Config Files In Their Own Folder</h3><p>The Synthesis configuration files have been moved to <code>App_Config/Include/Synthesis</code> for clarity. The NuGet package upgrade will take care of the migration.</p>
<h3 id="NET-Framework-4-5-2"><a href="#NET-Framework-4-5-2" class="headerlink" title=".NET Framework 4.5.2"></a>.NET Framework 4.5.2</h3><p>Synthesis 8.2.2 requires that the project it is installed on be targeting the .NET Framework 4.5.2 or later. This enables full Sitecore 8.2 compatibility. Synthesis 8.2.2 should work on Sitecore 8.1 or later.</p>
<h2 id="Bug-Fixes"><a href="#Bug-Fixes" class="headerlink" title="Bug Fixes"></a>Bug Fixes</h2><ul>
<li>Model source files whose contents have not changed in the current regeneration are now not rewritten to disk. This prevents their timestamp from changing and thus triggering a need to rebuild their host project. When using modular architecture, this can greatly reduce build times. <a target="_blank" rel="noopener" href="https://github.com/kamsar/Synthesis/issues/32">#32</a></li>
<li>Fixed a bug when using Solr indexes where Synthesis‚Äô regenerate process would throw an exception and possibly result in an incomplete model <a target="_blank" rel="noopener" href="https://github.com/kamsar/Synthesis/issues/34">#34</a></li>
<li>Specifying a model output path in a directory that does not exist will now create that directory instead of erroring <a target="_blank" rel="noopener" href="https://github.com/kamsar/Synthesis/issues/35">#35</a></li>
<li>The content search configuration has been adapted to register the Synthesis <code>_templatesimplemented</code> computed field in such a way that it works with 8.1 and 8.2‚Äôs new registration scheme, as well as with Solr indexes. Note that the Synthesis content search integrations (querying) do not otherwise support Solr still.</li>
<li>You can now disable the generation of Content Search elements in your models if you wish, using the <code>EnableContentSearch</code> setting. The default value is set in <code>Synthesis.config</code>. This will enable using models with fewer project reference requirements, if you do not need the search integrations.</li>
</ul>
<h2 id="Upgrading"><a href="#Upgrading" class="headerlink" title="Upgrading"></a>Upgrading</h2><p>If coming from Synthesis 8.2.x, the upgrade is via a simple NuGet upgrade. For earlier versions, consult the instructions on the release posts for the versions between what you‚Äôre on and where you‚Äôre going.</p>
<h2 id="Thanks"><a href="#Thanks" class="headerlink" title="Thanks"></a>Thanks</h2><p>Thanks to the community members who contributed to this release.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/zimpy">Peter Holm</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/rolek">rolek</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2016/11/Synthesis-8-2-2-Released/" data-id="ckrl9emyf004j98q70ckt13jd" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-The-Basics-Conditional-Inversion" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2016/11/The-Basics-Conditional-Inversion/">The Basics: Conditional Inversion</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2016/11/The-Basics-Conditional-Inversion/">
    <time datetime="2016-11-16T03:11:10.000Z" itemprop="datePublished">November 15, 2016</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/C/">C#</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Conditional inversion is a simple but powerful technique that makes your code easier to read. I‚Äôve noticed that not a lot of people in the Sitecore community seem to know about it, so I thought I‚Äôd blog about it.</p>
<h2 id="Inverting-your-ifs"><a href="#Inverting-your-ifs" class="headerlink" title="Inverting your ifs"></a>Inverting your <code>if</code>s</h2><p>Deeply nested code is pretty hard to read. Let‚Äôs take this example:</p>
<pre><code>public class Class1
&#123;
    private static object Lock = new object();
    private static string Value = false;

    public string GetValue()
    &#123;
        if (Value == null)
        &#123;
            lock (Lock)
            &#123;
                if (Value == null)
                &#123;
                    Value = ExpensiveCreateValueMethod();
                &#125;
            &#125;
        &#125;

        return Value;
    &#125;
&#125;
</code></pre>
<p>This is a very common pattern in multithreaded code, the double-check lock. It ensures that the Value is not initialized more than once at the same time by different threads. It‚Äôs also fairly hard to follow the code: it has a lot of nested blocks, and the information density is not very high.</p>
<p>Let‚Äôs take a different approach to the same code.</p>
<img src="/index.php/2016/11/The-Basics-Conditional-Inversion/invert.jpg" class="">

<p>Let‚Äôs invert our <code>if</code> statements so we can <em>get out of our method as quickly as possible</em>.</p>
<pre><code>public class Class1
&#123;
    private static object Lock = new object();
    private static string Value = false;

    public string GetValue()
    &#123;
        if (Value != null) return Value;
        
        lock (Lock)
        &#123;
            if (Value != null) return Value;
            
            return Value = ExpensiveCreateValueMethod();
        &#125;
    &#125;
&#125;
</code></pre>
<p>With inverted <code>if</code> statements we check not for success but for failure. This method has two fewer nesting levels, is four lines shorter, and is significantly more readable because you don‚Äôt have to traverse a long <code>if</code> block to see what code will be executed next on success. Imagine outside a contrived example like this one, where your <code>if</code> might be 50 lines long.</p>
<p>So next time you‚Äôre writing conditionals, think about handling the failure before the success. Instead of:</p>
<pre><code>public string Foo(string bar) 
&#123;
    if(bar != null) &#123;
        // do
        // stuff
        return something;
    &#125;

    return null;
&#125;
</code></pre>
<p>Do this:</p>
<pre><code>public string Foo(string bar) 
&#123;
    if(bar == null) return null;

    // do
    // stuff
    return something;
&#125;
</code></pre>
<p>Nicer, right?</p>
<h2 id="Feeling-loopy"><a href="#Feeling-loopy" class="headerlink" title="Feeling loopy?"></a>Feeling loopy?</h2><img src="/index.php/2016/11/The-Basics-Conditional-Inversion/loop.gif" class="">

<p>The same inversion technique is also lovely for loop control. Have you ever written a loop like this?</p>
<pre><code>foreach (var foo in bar)
&#123;
    if (foo != null)
    &#123;
        // do
        // stuff
    &#125;
&#125;
</code></pre>
<p>When inverting loop control you make use of the <code>continue</code> statement. This is an underused gem that skips the current loop iteration just like <code>return</code> skips the rest of a method. We can rewrite the loop above for better readability like so:</p>
<pre><code>foreach (var foo in bar)
&#123;
    if (foo == null) continue;
    
    // do
    // stuff
&#125;
</code></pre>
<p>Now if <code>foo</code> is null, we just skip the rest of the loop body and go to the next item. Handy, right?</p>
<h2 id="Bonus-points-asserting-reference-types"><a href="#Bonus-points-asserting-reference-types" class="headerlink" title="Bonus points: asserting reference types"></a>Bonus points: asserting reference types</h2><p>A special case of this kind of inversion is the use of the <code>Sitecore.Diagnostics.Assert</code> class. When you‚Äôre designing a method, any reference type parameters to that method <em>are allowed to be</em> <code>null</code>. I‚Äôll bet you didn‚Äôt expect someone to pass <code>null</code>, right? (I‚Äôll bet I didn‚Äôt either!)</p>
<pre><code>public void DoStuff()
&#123;
    // null is usually not overtly passed, e.g. looping over dynamic data
    var stuffFromRestService = new[] &#123; &quot;foo&quot;, null, &quot;bar&quot; &#125;;
    foreach (var attribute in stuffFromRestService)
    &#123;
        DoAThing(attribute);
    &#125;
&#125;

public void DoAThing(string attribute)
&#123;
    // boom
    attribute.ToLowerInvariant();
&#125;
</code></pre>
<p>Then you get this most favourite error, with a ‚Äòhelpful‚Äô stack trace in the middle of the offending method:</p>
<img src="/index.php/2016/11/The-Basics-Conditional-Inversion/ysod.png" class="">

<p>Not helpful, right? Well we can handle this more gracefully if we <em>assert</em> that our parameters that are reference types are not null - then we get an exception at the top of the method that is useful and tells us what really happened:</p>
<pre><code>// using Sitecore.Diagnostics;
public void DoAThing(string attribute) 
&#123;
    Assert.ArgumentNotNull(attribute, nameof(attribute));

    // do stuff
    attribute.ToLowerInvariant();
&#125;
</code></pre>
<p>And we get a better error message that tells us the argument name and what happened:</p>
<img src="/index.php/2016/11/The-Basics-Conditional-Inversion/arg.png" class="">

<p>Pretty handy, right? Now go forth and code!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2016/11/The-Basics-Conditional-Inversion/" data-id="ckrl9emyf004h98q793zi0qqs" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Unicorn-3-3-Released" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2016/10/Unicorn-3-3-Released/">Unicorn 3.3 Released</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2016/10/Unicorn-3-3-Released/">
    <time datetime="2016-10-27T03:54:07.000Z" itemprop="datePublished">October 26, 2016</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Unicorn/">Unicorn</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <img src="/nuget/unicorn/logo.png" class="">
<p>I‚Äôm happy to announce the release of Unicorn 3.3 and Rainbow 1.4. This is primarily a maintenance and bug fix release and is recommended for all users of Unicorn 3.x.</p>
<p>As there was no official announcement for Unicorn 3.2, this will also note what was new in 3.2. Items from 3.2 will be noted as such.</p>
<h2 id="What‚Äôs-new"><a href="#What‚Äôs-new" class="headerlink" title="What‚Äôs new?"></a>What‚Äôs new?</h2><h3 id="Improved-Configuration-Dependencies"><a href="#Improved-Configuration-Dependencies" class="headerlink" title="Improved Configuration Dependencies"></a>Improved Configuration Dependencies</h3><p>Dependencies between configurations have been improved to include <em>implicit</em> dependencies that are created when one configuration includes a path that is a child of another configuration. This simplifies the need to define explicit dependencies in many cases. <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/src/Unicorn/Standard%20Config%20Files/Unicorn.Configs.Dependency.config.example#L32">This config file</a> documents how this works and how to disable it if you need to. <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/165">#165</a></p>
<h3 id="Improved-Debugging-with-PowerShell-API"><a href="#Improved-Debugging-with-PowerShell-API" class="headerlink" title="Improved Debugging with PowerShell API"></a>Improved Debugging with PowerShell API</h3><p>You can now enable diagnostic logging of the CHAP base signature on the client and server side, so if you have issues getting the tool authentication working you can diagnose why. See <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/5b99817aa2e49d6c6a8e5ee8729ca9ccd465ea20/doc/PowerShell%20Remote%20Scripting/sample.ps1#L18">this</a> and <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/5b99817aa2e49d6c6a8e5ee8729ca9ccd465ea20/src/Unicorn/Standard%20Config%20Files/Unicorn.UI.config#L26">this</a> for configuration information. <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/182">#182</a></p>
<h3 id="Full-Sitecore-8-2-Compatibility"><a href="#Full-Sitecore-8-2-Compatibility" class="headerlink" title="Full Sitecore 8.2 Compatibility"></a>Full Sitecore 8.2 Compatibility</h3><p>Unicorn and Rainbow now build against and require .NET 4.5.2 for Sitecore 8.2 compatibility. This means that <em>your project referencing Unicorn must also target framework 4.5.2 or later</em>, even if not using Sitecore 8.2. Unicorn should work with Sitecore 7 and later. <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/175">#175</a></p>
<h3 id="3-2-Improved-Exclusion-Grammar"><a href="#3-2-Improved-Exclusion-Grammar" class="headerlink" title="(3.2) Improved Exclusion Grammar"></a>(3.2) Improved Exclusion Grammar</h3><p>You can now exclude children of a child of an included path. <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/138">#138</a></p>
<h3 id="3-2-User-and-Role-Serialization"><a href="#3-2-User-and-Role-Serialization" class="headerlink" title="(3.2) User and Role Serialization"></a>(3.2) User and Role Serialization</h3><p>Unicorn 3.2 introduced YAML-based user and role serialization via the Unicorn.Users and Unicorn.Roles NuGet packages. User and role serialization works similarly to item serialization. To add this capability to your Unicorn installation you simply install the correct NuGet package and the readme will guide you, or you can read the documentation using the links below.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/Build/Unicorn.Roles.nuget/readme.txt">Roles README</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/src/Unicorn.Roles/Standard%20Config%20Files/Unicorn.Configs.Default.Roles.config.example">How to configure roles</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/Build/Unicorn.Users.nuget/readme.txt">Users README</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/src/Unicorn.Users/Standard%20Config%20Files/Unicorn.Configs.Default.Users.config.example">How to configure users</a></li>
</ul>
<h2 id="Bug-fixes"><a href="#Bug-fixes" class="headerlink" title="Bug fixes"></a>Bug fixes</h2><img src="/index.php/2016/10/Unicorn-3-3-Released/fixedbugs.jpg" class="">

<ul>
<li>When deserializing an item that contains a field missing in Sitecore, the field hint is shown instead of just its ID. This aids in tracking down the offending field, since it does not exist to find in the DB. <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/169">#169</a></li>
<li>The <code>Unicorn.SharedSecret.config.example</code> has been renamed to include a <code>z</code> so that simply renaming it to use does not cause a config load order issue <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/181">#181</a></li>
<li>Fixed an issue with null vs empty field values that could cause an exception in Rainbow <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow/issues/16">#16</a></li>
<li>Fixed an issue that would cause missing language data when you removed a version from a tracked item using the Sitecore API within an <code>EventDisabler</code> block <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/168">#168</a></li>
<li>Fixed an error that occurred when an item changed template, but the old template was already deleted as part of the same sync process and thus no longer existed <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/164">#164</a></li>
<li>An issue that could cause spurious ‚ÄúItem changed, do you want to overwrite?‚Äù popups when saving an item in Experience Editor and using Transparent Sync has been fixed <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/163">#163</a></li>
<li>Fixed an issue that could cause a spurious Unicorn conflict warning when saving items with checkboxes in certain cases <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/151">#151</a></li>
<li>Serialized items with field values that equaled the standard values defined in the database are no longer left as standard values, and are correctly explicitly set to their serialized value. This was a common cause of items that ‚Äòsynced every time‚Äô. <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/162">#162</a></li>
<li>Moving an item between Unicorn configurations will correctly respect exclusions that exclude some children of the target location <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/161">#161</a></li>
<li>Unicorn is now free of uses of <code>EditContext</code>, which is <a target="_blank" rel="noopener" href="http://sitecore.alexiasoft.nl/2006/04/03/new-way-of-editing-items/#comment-16">a 10-year-old antipattern</a> <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/160">#160</a></li>
<li>Pathing that escaped from the webroot using <code>~/</code> no longer breaks when set as the serialization path <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/157">#157</a></li>
<li>Errors about being unable to send headers after they have already been sent in Sitecore 8.1 Update-3 and later have been resolved <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/155">#155</a></li>
<li>Unicorn Auto Publish now works correctly if it is set to publish to more than one publishing target <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/152">#152</a></li>
<li>Renaming items whose filenames have been truncated on disk (very long db item names) will no longer result in the creation of duplicate files <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/146">#146</a></li>
<li>Items whose only change between db and disk is the <code>BranchID</code> are now synced correctly <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/144">#144</a></li>
<li>YAML values containing <code>\</code> and <code>&quot;</code> are now correctly treated as multiline values so that serialized files are valid YAML. This is a non-breaking change, but you may notice values such as <code>__Created by</code> being altered as items are saved. All Unicorn 3.x versions can parse either format without issue. <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/143">#143</a></li>
<li>You can now explicitly add a wildcard item (an item named <code>*</code>) to a Unicorn configuration without it being interpreted as a wildcard character. See <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/src/Unicorn.Tests/Predicates/TestConfiguration.xml#L81">test cases</a> <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/142">#142</a></li>
<li>The Unicorn data provider now returns <code>null</code> for <code>ChildIDs</code> if no children exist to enhance compatibility with the Sitecore data provider‚Äôs behaviour <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/141">#141</a></li>
<li>A race condition when using multithreaded sync and auto publishing has been fixed <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/183">#183</a></li>
<li>Rapidly clicking a checkbox in the control panel will no longer potentially corrupt the page state <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/158">#158</a></li>
<li>Unicorn and Rainbow both now reference Sitecore from the Official NuGet Feed, so if you need to build from source copying Sitecore assemblies is no longer required. Just clone and build!</li>
<li><strong>3.2</strong> Setting exclusions on a configuration that uses Transparent Sync is now an exception (this has never been a supported configuration, just now it‚Äôs an error too)</li>
<li><strong>3.2</strong> Configuration predicates with no include nodes are now an error instead of including all items</li>
</ul>
<h2 id="Upgrading"><a href="#Upgrading" class="headerlink" title="Upgrading"></a>Upgrading</h2><p>To upgrade to Unicorn 3.3, you need to make sure the project hosting Unicorn and Rainbow is targeting .NET 4.5.2 or later. Then simply upgrade the NuGet package, if you have Unicorn 3.1 or later.</p>
<p>For earlier versions, follow the upgrade instructions on the appropriate launch blog post (e.g. for 3.0 or 3.1) before you upgrade to 3.3.</p>
<h2 id="Installing"><a href="#Installing" class="headerlink" title="Installing"></a>Installing</h2><p>Install the <code>Unicorn</code> package from NuGet. A readme will be shown to help you get started after install. You must be using <code>packages.config</code> (NuGet 2.x style) package management for Unicorn and Rainbow, because they install content items to the project. If you wish to use <code>project.json</code> (NuGet 3.x style), you must manually install the configuration files for Unicorn and Rainbow because of limitations in NuGet 3.x.</p>
<h2 id="Thanks"><a href="#Thanks" class="headerlink" title="Thanks"></a>Thanks</h2><p>As usual Unicorn is not just me, it‚Äôs a community project. Thank you all for your pull requests, issue reports, and for using my work.</p>
<p>I‚Äôd like to specially thank Mark Cassidy for spending a lot of time tracking down - and fixing - some Unicorn issues he was having. All contributors to this release include:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/TAllen">Tyler Allen</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/jason-booth">Jason Booth</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/cassidydotdk">Mark Cassidy</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/steeevec">Steve Crabb</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/JeffDarchuk">Jeff Darchuk</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/MadsDue">Mads Due</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Eldblom">Thomas Eldblom</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/HenkMahieu">HenkMahieu</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/blipson89">Ben Lipson</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/mzizka">mzizka</a></li>
<li><a target="_blank" rel="noopener" href="http://sitecore.stackexchange.com/users/324/jawad">Jawad Sabra</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/istern">Thomas Stern</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/tonycwang">Tony Wang</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/wolfeno">wolfeno</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/eris86">Una Verhoeven</a></li>
</ul>
<img src="/index.php/2016/10/Unicorn-3-3-Released/theroom.gif" class="">
      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2016/10/Unicorn-3-3-Released/" data-id="ckrl9emyf004f98q70t1eggvs" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Dianoga-3-0-is-released" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2016/10/Dianoga-3-0-is-released/">Dianoga 3.0 is released</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2016/10/Dianoga-3-0-is-released/">
    <time datetime="2016-10-24T23:42:30.000Z" itemprop="datePublished">October 24, 2016</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Dianoga/">Dianoga</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>I‚Äôm happy to announce the release of Dianoga 3.0. This release brings significant improvements compared to previous releases, and is recommended for existing users.</p>
<h2 id="What‚Äôs-Dianoga"><a href="#What‚Äôs-Dianoga" class="headerlink" title="What‚Äôs Dianoga?"></a>What‚Äôs Dianoga?</h2><p>Dianoga is a tool that optimizes images uploaded to the Sitecore media library to save bandwidth and improve page loading times as a result.</p>
<img src="/index.php/2016/10/Dianoga-3-0-is-released/dianoga.jpg" class="" title="It" alt="s also the monster that lives in the Star Wars trash compactor. What?">

<p>Dianoga ensures that your site is always serving fully optimised media library images even if you are using Sitecore‚Äôs dynamic resizing features (for example with <a target="_blank" rel="noopener" href="https://marketplace.sitecore.net/en/Modules/Sitecore_Adaptive_Images.aspx">Adaptive Images</a>). Even if you have already optimized every image uploaded into the media library, after Sitecore performs image processing the result is <em>not</em> optimized (an unfortunate limitation of other image optimization libraries for Sitecore is that they only apply to the original image).</p>
<p>Dianoga is also great for situations where content editors may not be image editing experts and upload images that contain gobs of EXIF data and other nonessential metadata - these are removed automatically before being shown to visitors. All of the optimizations done are lossless (no quantizing, etc) so you lose no image quality.</p>
<h2 id="What‚Äôs-new-in-3-0"><a href="#What‚Äôs-new-in-3-0" class="headerlink" title="What‚Äôs new in 3.0?"></a>What‚Äôs new in 3.0?</h2><h3 id="SVG-support"><a href="#SVG-support" class="headerlink" title="SVG support"></a>SVG support</h3><p>With the rise of <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics">SVG</a> as a common format for media library media, it became apparent Dianoga needed to support optimizing SVG. Dianoga 3 includes SVG optimization!</p>
<p>SVG media is automatically:</p>
<ul>
<li>Optimized for size (the SVG is processed using <a target="_blank" rel="noopener" href="https://github.com/svg/svgo">SVGO</a>)</li>
<li>Gzipped before going in the media cache, and served using the cached gzipped version (reduces size over the wire)</li>
<li>Apropos configuration to enable SVG support in media library on Sitecore &lt; 8.1 is enabled by default (thanks to Kamruz Jaman and Anders Laub for the blogs e.g. <a target="_blank" rel="noopener" href="https://jammykam.wordpress.com/2015/11/18/svg-in-media-library-polluting-log-files-with-errors/">this</a> and <a target="_blank" rel="noopener" href="https://laubplusco.net/compress-svg-images-sitecore-media-library/">this</a>)</li>
</ul>
<h3 id="Optimization-strategies"><a href="#Optimization-strategies" class="headerlink" title="Optimization strategies"></a>Optimization strategies</h3><p>Dianoga 1.x used a synchronous optimization technique that resulted in a slower initial image load time, but always served optimized images. Dianoga 2.x instead relied on an asynchronous technique where the first media served would be unoptimized and subsequent hits were optimized, but the response time was never impacted.</p>
<p>It became apparent that both of these strategies have their place, for example you need to be synchronous when uploading to a CDN, and so Dianoga 3 supports <em>optimization strategies</em> that let you choose when to optimize. If you don‚Äôt like any of the strategies or want to optimize only when sending media to a CDN programmatically, you can also invoke the optimization pipeline directly to optimize precisely when you need to (the <code>MediaOptimizer</code> class is what you‚Äôre after here).</p>
<h3 id="Pipeline-based-optimization"><a href="#Pipeline-based-optimization" class="headerlink" title="Pipeline-based optimization"></a>Pipeline-based optimization</h3><p>Dianoga is now powered by Sitecore pipelines, providing simple and flexible extension options. The root <code>&lt;dianogaOptimize&gt;</code> pipeline runs for all optimizations, and spins off into <code>&lt;dianogaOptimizeJpeg&gt;</code> and other similar sub-pipelines for individual file types.</p>
<h3 id="Optimizer-chaining"><a href="#Optimizer-chaining" class="headerlink" title="Optimizer chaining"></a>Optimizer chaining</h3><p>With Dianoga 2, you could not simply apply more than one optimizer to a file format. For example, you might wish to quantize a PNG (which is lossy), and then also optimize its encoding after quantization to further reduce file size. This is very simple with Dianoga 3 - now each optimizer is just a step in a pipeline. Add or remove optimizers as you wish.</p>
<h3 id="Media-path-exclusion"><a href="#Media-path-exclusion" class="headerlink" title="Media path exclusion"></a>Media path exclusion</h3><p>Got a folder of huge photos you don‚Äôt want optimized because they should be kept pristine for downloads? Have another reason you want to not optimize specific parts of the media library? Great - Dianoga 3 now supports that.</p>
<p>Because optimization is pipeline based, this just takes the form of a processor that aborts optimization when the input is to be ignored. See <code>Dianoga.ExcludePaths.config.example</code> which ships with the NuGet package for how to use this.</p>
<h3 id="Framework-version-requirements"><a href="#Framework-version-requirements" class="headerlink" title="Framework version requirements"></a>Framework version requirements</h3><p>Dianoga 3 requires .NET 4.5.2 or later to be the target framework of the project it is referenced in. This provides compatibility with Sitecore 8.2. Dianoga 3 requires Sitecore 7.x or later.</p>
<h2 id="Bugs-and-fixes"><a href="#Bugs-and-fixes" class="headerlink" title="Bugs and fixes"></a>Bugs and fixes</h2><ul>
<li>Asynchronous optimization has been significantly simplified and reliability improved compared to Dianoga 2. File in use issues should be completely eliminated.</li>
<li>Unit tests have been added to the codebase (I blame Dan Solovay)</li>
<li>Optimization tools are moved to App_Data so that IIS will never consider serving their files (as opposed to /Dianoga Tools in 2.x and earlier)</li>
<li>Optimization tools have been updated:<ul>
<li>libjpeg is now <a target="_blank" rel="noopener" href="https://github.com/mozilla/mozjpeg">mozjpeg</a>, which results in better optimization for the web specifically</li>
<li><a target="_blank" rel="noopener" href="https://github.com/svg/svgo">SVGO</a> has been added to optimize SVGs</li>
<li>PNG optimization remains unchanged using <a target="_blank" rel="noopener" href="http://psydk.org/pngoptimizer">PNGOptimizer</a>, other than now being chainable with the <a target="_blank" rel="noopener" href="https://pngquant.org/">PNGQuant lossy quantizer</a>.</li>
</ul>
</li>
</ul>
<h2 id="Installing"><a href="#Installing" class="headerlink" title="Installing"></a>Installing</h2><p>Dianoga is <a target="_blank" rel="noopener" href="https://www.nuget.org/packages/Dianoga/">available from NuGet</a>. You must be using <code>packages.config</code> (NuGet 2.x style) package management for Dianoga, because it installs content items to the project. If you wish to use <code>project.json</code> (NuGet 3.x style), you must manually install the tools and configuration files because of limitations in NuGet 3.x.</p>
<h2 id="Upgrading"><a href="#Upgrading" class="headerlink" title="Upgrading"></a>Upgrading</h2><p>Easy. Make sure your host project is targeting .NET 4.5.2 (or later - I use it with 4.6.x), and then upgrade your NuGet package.</p>
<p>Have fun!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2016/10/Dianoga-3-0-is-released/" data-id="ckrl9emye004d98q7e66a7k5l" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Become-a-Sitecore-admin-without-a-login" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2016/10/Become-a-Sitecore-admin-without-a-login/">Become a Sitecore admin without a login</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2016/10/Become-a-Sitecore-admin-without-a-login/">
    <time datetime="2016-10-24T22:48:51.000Z" itemprop="datePublished">October 24, 2016</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Sitecore/">Sitecore</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Suppose someone sends you a Sitecore solution to review, and they forgot to send you a username and password. You could ask for one, or you could just make yourself an account with this handy trick that I call ‚ÄúThe Shiv.‚Äù This is the entirety of the trick:</p>
<ol>
<li><p>Create a <code>Shiv.aspx</code> file somewhere under the webroot. It can be named anything.</p>
</li>
<li><p>Paste the following code in it</p>
<pre><code> &lt;%@ Page Language=&quot;C#&quot; AutoEventWireup=&quot;true&quot; %&gt;
 &lt;%@ Import Namespace=&quot;Sitecore.Security.Authentication&quot; %&gt;

 &lt;%
     AuthenticationManager.Login(&quot;sitecore\\admin&quot;, false, true);
     Response.Redirect(&quot;/sitecore/shell&quot;);
 %&gt;
</code></pre>
</li>
<li><p>Hit the page in a browser</p>
</li>
<li><p>Boom, you‚Äôre an administrator</p>
</li>
<li><p><strong>IMPORTANT</strong>: Delete the file. For obvious reasons.</p>
</li>
</ol>
<p>Handy, eh?</p>
<p>You can do a very similar thing using the ‚ÄúLogin as administrator‚Äù option in <a target="_blank" rel="noopener" href="http://dl.sitecore.net/updater/sim/">SIM</a>, however I often find myself in environments without SIM and this code works anywhere.</p>
<p><img src="https://i.giphy.com/Njjakmj3DC7pS.gif" alt="bang"></p>
<p>This code is also a good security reminder: if someone malicious can upload an arbitrary file somewhere in your webroot that is then executed, <em>they can upload this shiv-file</em> and your security is gone. It doesn‚Äôt matter if you have encrypted 64-character database passwords, they‚Äôre in. It doesn‚Äôt matter if you‚Äôve locked down TLS and imposed SAML logins, they‚Äôre in. Game over. So <a target="_blank" rel="noopener" href="https://doc.sitecore.net/sitecore_experience_platform/setting_up__maintaining/security_hardening/configuring/secure_the_file_upload_functionality">secure your filesystem</a> and be awfully wary of accepting users‚Äô uploads anywhere on disk.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2016/10/Become-a-Sitecore-admin-without-a-login/" data-id="ckrl9emye004b98q72hfgentj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Nugetify-your-Sitecore-References" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2016/09/Nugetify-your-Sitecore-References/">Nugetify your Sitecore References</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2016/09/Nugetify-your-Sitecore-References/">
    <time datetime="2016-09-20T23:01:17.000Z" itemprop="datePublished">September 20, 2016</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Sitecore/">Sitecore</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Recently, in a fit of brilliance, Sitecore released a <a target="_blank" rel="noopener" href="https://doc.sitecore.net/sitecore_experience_platform/developing/developing_with_sitecore/sitecore_public_nuget_packages_faq">public NuGet feed</a> that you can use to reference Sitecore assemblies from your projects. While some people have been doing this with home grown packages for years, it‚Äôs nice to have a stable, official source to get your references from. </p>
<p>If you‚Äôre not familiar with how this works, <a target="_blank" rel="noopener" href="https://jermdavis.wordpress.com/2016/09/05/the-official-sitecore-nuget-feed-is-here/">Jeremy Davis wrote a great post</a> about the details of using the official feed.</p>
<h2 id="Okay-so-what-are-you-on-about"><a href="#Okay-so-what-are-you-on-about" class="headerlink" title="Okay so what are you on about?"></a>Okay so what are you on about?</h2><p>If you‚Äôve got a project of reasonable size, especially one using <a target="_blank" rel="noopener" href="http://helix.sitecore.net/">Helix</a>, you probably have a bucketload of references to Sitecore assemblies. Manually converting all these references to packages is a bit of a tedious process, and you know what we do to tedious processes around here.</p>
<img src="/index.php/2016/09/Nugetify-your-Sitecore-References/nugetify.jpg" class="">

<p>That‚Äôs right, we script them.</p>
<h2 id="How"><a href="#How" class="headerlink" title="How?"></a>How?</h2><p>Migrating your direct Sitecore references to NuGet is a quite simple process with this script. For obvious reasons, use source control so you have a fallback in case the script doesn‚Äôt work for your particular setup. It worked for me on several projects, but just in case :)</p>
<h3 id="1-Install-NuGet-config"><a href="#1-Install-NuGet-config" class="headerlink" title="1. Install NuGet.config"></a>1. Install NuGet.config</h3><p>Copy this to the root of your solution:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;configuration&gt;
  &lt;!--
  Used to specify the default Sources for list, install and update.
  --&gt;
  &lt;packageSources&gt;
    &lt;add key=&quot;Official Sitecore&quot; value=&quot;https://sitecore.myget.org/F/sc-packages/api/v3/index.json&quot; /&gt;
  &lt;/packageSources&gt;
  
  &lt;activePackageSource&gt;
    &lt;!-- this tells that all of them are active --&gt;
    &lt;add key=&quot;All&quot; value=&quot;(Aggregate source)&quot; /&gt;
  &lt;/activePackageSource&gt;
&lt;/configuration&gt;
</code></pre>
<p>This will add the official Sitecore NuGet package feed to your solution. Unlike adding it via Visual Studio, this will also apply for CI and MSBuild-executed builds.</p>
<h3 id="2-Copy-Nugetify-ps1"><a href="#2-Copy-Nugetify-ps1" class="headerlink" title="2. Copy Nugetify.ps1"></a>2. Copy <strong>Nugetify.ps1</strong></h3><p>Copy the following PowerShell script to the root of your solution. <strong>Open it in a text editor and set the correct <code>$SitecoreVersion</code> and <code>$FrameworkVersion</code></strong> for your solution. The NuGet feed has packages for Sitecore 7.0-8.2.</p>
<pre><code># Script to convert all sitecore assembly references to Sitecore Public NuGet feed
# Run from root solution folder (where your packages folder is)
# execute this script with powershell
Param
(
    $sitecoreVersion = &#39;8.2.160729&#39;, # NuGet package version to convert to. Format is major.minor.releasedate.
    $frameworkVersion = &#39;net452&#39; # for 8.2: net452. For 7.0-8.1: net45
)

$ScriptPath = $MyInvocation.MyCommand.Path
$ScriptDir  = Split-Path -Parent $ScriptPath
$MsbNSString = &#39;http://schemas.microsoft.com/developer/msbuild/2003&#39;
$MsbNS = @&#123;msb = $MsbNSString&#125;
$PackagesConfigFileName = &#39;packages.config&#39;

#Create project.json from packages.config
Write-Host &#39;Scanning for projects to update...&#39; -ForegroundColor Green
Get-ChildItem -path &#39;.&#39; -Recurse -Include $PackagesConfigFileName |
    ForEach &#123;
        $PackageFilePath = $_.FullName
        $PackageFileDir = $_.Directory
        Write-Host &quot;Processing $PackageFilePath&quot; -ForegroundColor Green

        # Find existing csproj to match direct references
        $csproj = Resolve-Path &quot;$($_.Directory)\*.csproj&quot;
        $proj = [xml] (Get-Content $csproj)

        # Find existing Sitecore references and NuGet-ify them
        Write-Host &quot;Checking for non-NuGet Sitecore references in $csproj&quot;
        $xpath = &quot;//msb:Reference/msb:HintPath[not(contains(.,&#39;packages\&#39;))]&quot;

        $changedProj = $false
        $sitecoreNuGetPackages = @(Select-Xml -xpath $xpath $proj -Namespace $MsbNS | foreach &#123;
            $node = $_.Node.ParentNode

            $referenceName = $node.Attributes[&#39;Include&#39;].Value.Split(&#39;,&#39;)[0]

              # Filter non-NuGet references to transform into NuGet packages
            if($referenceName.StartsWith(&quot;Sitecore&quot;) `
                -and -not $referenceName.StartsWith(&#39;Sitecore.Modules&#39;) `
                -and -not $referenceName.Contains(&#39;WFFM&#39;) `
                -and -not $referenceName.StartsWith(&#39;Sitecore.Forms&#39;) `
                -and -not $referenceName.StartsWith(&#39;Sitecore.Foundation&#39;) `
                -and -not $referenceName.StartsWith(&#39;Sitecore.Feature&#39;) `
                -and -not ($referenceName.StartsWith(&#39;Sitecore&#39;) -and $referenceName.EndsWith(&#39;Website&#39;))) &#123;

                $changedProj = $true

                Write-Host &quot;NuGet-ifying assembly reference $referenceName&quot;

                # set hintPath to package path
                Push-Location -Path $PackageFileDir
                $hintPathRoot = Resolve-Path &quot;$ScriptDir\packages&quot; -Relative
                Pop-Location

                $hintPath = &quot;$hintPathRoot\$referenceName.NoReferences.$sitecoreVersion\lib\$frameworkVersion\$referenceName.dll&quot;

                $existingHintPath = $node[&#39;HintPath&#39;, $MsbNSString]
                if($existingHintPath -eq $null) &#123;
                    $hint = $proj.CreateElement(&quot;HintPath&quot;, $MsbNSString)
                    $hint.InnerXml = $hintPath
                    $foo = $node.AppendChild($hint)
                &#125; else &#123;
                    $existingHintPath.InnerXml = $hintPath
                &#125;

                &quot;$referenceName.NoReferences&quot;
            &#125;
        &#125;)

        if($changedProj) &#123;
            Write-Host &quot;Saving NuGet-ified references to csproj&quot; -ForegroundColor Yellow
            $proj.Save($csproj)
        &#125; else &#123;
            Write-Host &quot;Found no references to change.&quot;
        &#125;

        # Add packages to packages.config
        $packageXml = [xml] (Get-Content $PackageFilePath)

        $sitecoreNuGetPackages | % &#123;
            $packageNode = $packageXml.CreateElement(&#39;package&#39;);
            $packageNode.SetAttribute(&#39;id&#39;, $_)
            $packageNode.SetAttribute(&#39;version&#39;, $sitecoreVersion)
            $packageNode.SetAttribute(&#39;targetFramework&#39;, $frameworkVersion)

            $foo = $packageXml.DocumentElement.AppendChild($packageNode)
        &#125;

        Write-Host &quot;Updating packages.config with new packages&quot; -ForegroundColor Yellow
        $packageXml.Save($PackageFilePath)
    &#125;
</code></pre>
<h3 id="3-Run-Nugetify-ps1"><a href="#3-Run-Nugetify-ps1" class="headerlink" title="3. Run Nugetify.ps1"></a>3. Run <strong>Nugetify.ps1</strong></h3><p>Open a PowerShell and execute <code>Nugetify.ps1</code>.</p>
<p>That‚Äôs it. Open Visual Studio and verify that everything was converted correctly, and you should be good to go.</p>
<h2 id="What-about-NuGet-3-project-json"><a href="#What-about-NuGet-3-project-json" class="headerlink" title="What about NuGet 3 + project.json?"></a>What about NuGet 3 + <code>project.json</code>?</h2><p>Another option is to use the NuGet 3.x style package management which is integrated into a <code>project.json</code> file that lives next to your csproj files. NuGet 3‚Äôs major advantage is that the <code>project.json</code> both references packages <strong>and</strong> adds them to your project references. So adding packages does not result in alterations to the csproj file, and upgrading packages is as simple as changing a json file.</p>
<p>Sounds idyllic, right? Well there‚Äôs one huge downside. Microsoft, in their infinite wisdom, decided that it was not necessary to support content files being deployed into the project the package is installed into. For Sitecore projects, that means packages that come with config files, such as Unicorn, Synthesis, and Glass Mapper, will not install those files into projects using <code>project.json</code>. The content-containing packages can still be used, but then it becomes your task to reverse engineer the content they install, add that to your project, and handle upgrades of those content files when the package is upgraded.</p>
<p>For the moment, I wouldn‚Äôt use <code>project.json</code>, but I hope it becomes more tenable in the future. But if you want to use it, I have a script for that too - a script that both nugetifies your Sitecore references <strong>and</strong> converts <strong>all</strong> of your packages in <code>packages.config</code> to <code>project.json</code>. This script is based on <a target="_blank" rel="noopener" href="https://github.com/wgtmpeters/nugetprojectjson">this one</a>.</p>
<pre><code># Script to generate project.json for all packages.config file in the solution.
# This script will also migrate non-NuGet Sitecore package references to Sitecore Public NuGet feed

# Run from root solution folder
# execute this script with powershell

# TargetFramework: Use the .NET framework version your projects are targeting, which may NOT be the version Sitecore is built aginst
# SitecoreVersion: NuGet version you want to convert to for local sitecore assembly references
Param
(
      [string] $TargetFramework = &quot;net452&quot;,
    $sitecoreVersion = &#39;8.2.160729&#39;
)

# Filter existing installed NuGet packages to transform versions and such
function Filter-Packages &#123;
    $input | % &#123;
        $package = $_.Node.id
        $version = $_.Node.version

        # Translate nuget package generator 8.2 package version to official
        if($version -eq &quot;8.2.0.160729&quot;) &#123;
            $version = &quot;8.2.160729&quot;
        &#125;

        # Translate 3rd party refs from old SC versions to target public versions
        if($package.Equals(&#39;Microsoft.Extensions.DependencyInjection.Abstractions&#39;)) &#123;
            $version = &#39;1.0.0&#39;
        &#125;

        if($package.Equals(&#39;MongoDB.Driver&#39;)) &#123;
            $package = &#39;mongocsharpdriver&#39;
            $version = &#39;1.11.0&#39;
        &#125;

        # Blacklist these older sitecore nuget generator metapackages, modules, and nonexistant packages
        if($package.EndsWith(&quot;-Core&quot;) `
            -or $package.EndsWith(&quot;-CoreGroup&quot;) `
            -or $package.Equals(&#39;MongoDB.Bson&#39;) `
            -or $package.Equals(&quot;Telerik.Web.UI&quot;)) &#123;

            return # skip loop
        &#125;

        # Packages that started with Sitecore before should now get NoReferences for sanity (note: you may need to exclude sitecore modules whose name begins in Sitecore here)
        if($package.StartsWith(&#39;Sitecore&#39;) `
            -and -not $package.StartsWith(&#39;Sitecore.FakeDb&#39;) `
            -and -not $package.EndsWith(&#39;PatchableIgnoreList&#39;)) &#123;

            $package = &quot;$package.NoReferences&quot;;
        &#125;

        $_.Node.id = $package
        $_.Node.version = $version

        $_
    &#125;
&#125;

$ScriptPath = $MyInvocation.MyCommand.Path
$ScriptDir  = Split-Path -Parent $ScriptPath
$MsbNS = @&#123;msb = &#39;http://schemas.microsoft.com/developer/msbuild/2003&#39;&#125;
$PackagesConfigFileName = &#39;packages.config&#39;

#Create project.json from packages.config
Get-ChildItem -path &#39;.&#39; -Recurse -Include $PackagesConfigFileName |
    ForEach &#123;
        $PackageFilePath = $_.FullName
        $ProjectFilePath = $_.Directory.FullName + &#39;\project.json&#39;
        Write-Host &quot;Processing $PackageFilePath&quot;

        # Find existing csproj to match direct references
        $csproj = Resolve-Path &quot;$($_.Directory)\*.csproj&quot;
        $proj = [xml] (Get-Content $csproj)

        # Find existing Sitecore references and NuGet-ify them
        Write-Host &quot;Checking for non-NuGet Sitecore references in $csproj&quot;
        $xpath = &quot;//msb:Reference/msb:HintPath[not(contains(.,&#39;packages\&#39;))]&quot;

        $changedProj = $false
        $sitecoreNuGetPackages = @(Select-Xml -xpath $xpath $proj -Namespace $MsbNS | foreach &#123;
            $node = $_.Node.ParentNode

            $referenceName = $node.Attributes[&#39;Include&#39;].Value.Split(&#39;,&#39;)[0]

      # Filter non-NuGet references to transform into NuGet packages
            if($referenceName.StartsWith(&quot;Sitecore&quot;) `
                -and -not $referenceName.StartsWith(&#39;Sitecore.Modules&#39;) `
        -and -not $referenceName.Contains(&#39;WFFM&#39;) `
        -and -not $referenceName.StartsWith(&#39;Sitecore.Forms&#39;) `
                -and -not $referenceName.StartsWith(&#39;Sitecore.Foundation&#39;) `
                -and -not $referenceName.StartsWith(&#39;Sitecore.Feature&#39;) `
                -and -not ($referenceName.StartsWith(&#39;Sitecore&#39;) -and $referenceName.EndsWith(&#39;Website&#39;))) &#123;

                $changedProj = $true

                Write-Host &quot;NuGet-ifying assembly reference $referenceName&quot;

                # remove old reference we&#39;re NuGet-ing
                [void]$node.ParentNode.RemoveChild($node);

                &quot;$referenceName.NoReferences&quot;
            &#125;
        &#125;)

        if($changedProj) &#123;
            Write-Host &quot;Saving NuGet-ified references in $csproj&quot;
            $proj.Save($csproj)
        &#125;

        # Generate project.json
        $file = &#39;&#123;
  &quot;dependencies&quot;: &#123;
&#39;

$packages = (Select-xml -xpath &#39;//package&#39; -Path $PackageFilePath | Filter-Packages | % &#123; &quot;    &quot;&quot;&#123;0&#125;&quot;&quot;: &quot;&quot;&#123;1&#125;&quot;&quot;&quot; -f $_.Node.id,$_.Node.version &#125;) -join &quot;,`r`n&quot;

$file += $packages;

$sitecorePackages = (($sitecoreNuGetPackages | % &#123; &quot;    &quot;&quot;&#123;0&#125;&quot;&quot;: &quot;&quot;&#123;1&#125;&quot;&quot;&quot; -f $_, $sitecoreVersion &#125;) -join &quot;,`r`n&quot;)

# separate the json elements if both converted and sitecore packages exist
if($packages.Length -gt 0) &#123;
    $file += &quot;,`r`n&quot;
&#125; else &#123;
    $file += &quot;`r`n&quot;
&#125;

$file += $sitecorePackages

$file += &#39;
  &#125;,
  &quot;frameworks&quot;: &#123;
    &quot;&#39; + $TargetFramework + &#39;&quot;: &#123;&#125;
  &#125;,
  &quot;runtimes&quot;:  &#123;
      &quot;win-anycpu&quot;: &#123;&#125;,
      &quot;win&quot;: &#123;&#125;
  &#125;
&#125;&#39;

$file | Out-File $ProjectFilePath

    Remove-Item $PackageFilePath
&#125;

Get-ChildItem -path &#39;.&#39; -Recurse -Include &#39;*.csproj&#39; | ForEach &#123;
    $CsProjFilePath = $_.FullName
    $ProjectFilePath = $_.Directory.FullName + &#39;\project.json&#39;

    Write-Host $csProjFilePath

    $proj = [xml] (Get-Content $CsProjFilePath)

    #Remove all references to ..packages files
    $xpath = &quot;//msb:Reference/msb:HintPath[contains(.,&#39;packages\&#39;)]&quot;
    $nodes = @(Select-Xml -xpath $xpath $proj -Namespace $MsbNS | foreach &#123;$_.Node&#125;)
    if (!$nodes) &#123; Write-Verbose &quot;RemoveElement: XPath $XPath not found&quot; &#125;
    Write-Output &#39;Reference Nodes found: &#39; $nodes.Count
    foreach($node in $nodes) &#123;
        $referenceNode = $node.ParentNode
        $itemGroupNode = $referenceNode.ParentNode
        [void]$itemGroupNode.RemoveChild($referenceNode)
    &#125;
    [System.XML.XMLElement] $itemGroupNoneNode = $null
    #Find itemgroup with None Elements, if not found add.
    $itemGroupNoneNodes = @(Select-Xml -xpath &quot;//msb:ItemGroup/msb:None&quot; $proj -Namespace $MsbNS | foreach &#123;$_.Node&#125;)
    Write-Output &#39;$itemGroupNoneNode found: &#39; $itemGroupNoneNodes.Count
    if($itemGroupNoneNodes.Count -eq 0)&#123;
        # create itemgroup element for None nodes.
        Write-Output &#39;Adding ItemGroup for None Nodes&#39;
        $itemGroupNoneNode =  $proj.CreateElement(&#39;ItemGroup&#39;,$proj.DocumentElement.NamespaceURI)
        $itemGroupNodes = @(Select-Xml -xpath &quot;//msb:ItemGroup&quot; $proj -Namespace $MsbNS | foreach &#123;$_.Node&#125;)
        #$itemGroupNodes.Count
        [void]$proj.DocumentElement.InsertAfter($itemGroupNoneNode,$itemGroupNodes[$itemGroupNodes.Count-1])

    &#125;else&#123;
        $itemGroupNoneNode = $itemGroupNoneNodes[0].ParentNode
    &#125;

    #Remove packages.config from ItemGroup
    $nodes = @(Select-Xml -xpath &quot;//msb:ItemGroup/msb:None[@Include=&#39;packages.config&#39;]&quot; $proj -Namespace $MsbNS | foreach &#123;$_.Node&#125;)
    Write-Output &#39;packages.config Nodes found: &#39; $nodes.Count
    foreach($node in $nodes) &#123;
        $itemGroupNode = $node.ParentNode
        [void]$itemGroupNode.RemoveChild($node)
    &#125;

    #Remove packages.config from ItemGroup (if it was set to content)
    $nodes = @(Select-Xml -xpath &quot;//msb:ItemGroup/msb:Content[@Include=&#39;packages.config&#39;]&quot; $proj -Namespace $MsbNS | foreach &#123;$_.Node&#125;)
    Write-Output &#39;packages.config Nodes found: &#39; $nodes.Count
    foreach($node in $nodes) &#123;
        $itemGroupNode = $node.ParentNode
        [void]$itemGroupNode.RemoveChild($node)
    &#125;

    #Remove build target EnsureNuGetPackageBuildImports from csproj
    $nodes = @(Select-Xml -xpath &quot;//msb:Target[@Name=&#39;EnsureNuGetPackageBuildImports&#39;]&quot; $proj -Namespace $MsbNS | foreach &#123;$_.Node&#125;)
    Write-Output &#39;EnsureNuGetPackageBuildImports target found: &#39; $nodes.CountAd
    foreach($node in $nodes) &#123;
        $itemGroupNode = $node.ParentNode
        [void]$itemGroupNode.RemoveChild($node)
    &#125;

    #Add project.json to itemGroup
    if( Test-Path $ProjectFilePath)&#123;
        $nodes = @(Select-Xml -xpath &quot;//msb:ItemGroup/msb:None[@Include=&#39;project.json&#39;]&quot; $proj -Namespace $MsbNS | foreach &#123;$_.Node&#125;)
        if($nodes.Count -eq 0)&#123;
            $projectJsonNoneNode = $proj.CreateElement(&quot;None&quot;, $proj.DocumentElement.NamespaceURI)
            $projectJsonNoneNode.SetAttribute(&quot;Include&quot;,&quot;project.json&quot;)
            [void]$itemGroupNoneNode.AppendChild($projectJsonNoneNode)
            Write-Output &#39;Adding None node for project.json&#39;
        &#125;
    &#125;

    #add PropertyGroup nodes targetFrameworkProfile, CopyNuGetImplementations, PlatformTarget
    # Find the TargetFrameworkVersion to be used to find the parent PropertyGroup node
    $xpath = &quot;//msb:PropertyGroup/msb:TargetFrameworkVersion&quot;
    $nodes = @(Select-Xml -xpath $xpath $proj -Namespace $MsbNS | foreach &#123;$_.Node&#125;)
    if ($nodes.Count -gt 0) &#123;
        [System.XML.XMLElement] $node = $nodes[0]
        $propertyGroupNode = $node.ParentNode
        $nodes = @(Select-Xml -xpath &quot;//msb:PropertyGroup/msb:TargetFrameworkProfile&quot; $proj -Namespace $MsbNS | foreach &#123;$_.Node&#125;)
        if($nodes.Count -eq 0)&#123;
            $node = $proj.CreateElement(&quot;TargetFrameworkProfile&quot;, $proj.DocumentElement.NamespaceURI)
            [void]$propertyGroupNode.AppendChild($node)
            Write-Output &#39;Adding TargetFrameworkProfile node for PropertyGroup&#39;
        &#125;
        #$nodes = @(Select-Xml -xpath &quot;//msb:PropertyGroup/msb:CopyNuGetImplementations&quot; $proj -Namespace $MsbNS | foreach &#123;$_.Node&#125;)
        #if($nodes.Count -eq 0)&#123;
        #    $node = $proj.CreateElement(&quot;CopyNuGetImplementations&quot;, $proj.DocumentElement.NamespaceURI)
        #    $textnode = $proj.CreateTextNode(&quot;true&quot;)
        #    $node.AppendChild($textnode)
        #    [void]$propertyGroupNode.AppendChild($node)
        #    Write-Output &#39;Adding CopyNuGetImplementations node for PropertyGroup&#39;
        #&#125;
        $nodes = @(Select-Xml -xpath &quot;//msb:PropertyGroup/msb:PlatformTarget[not(@*)]&quot; $proj -Namespace $MsbNS | foreach &#123;$_.Node&#125;)
        if($nodes.Count -eq 0)&#123;
            $node = $proj.CreateElement(&quot;PlatformTarget&quot;, $proj.DocumentElement.NamespaceURI)
            $textnode = $proj.CreateTextNode(&quot;AnyCPU&quot;)
            $foo = $node.AppendChild($textnode)
            [void]$propertyGroupNode.AppendChild($node)
            Write-Output &#39;Adding PlatformTarget node for PropertyGroup&#39;
        &#125;
    &#125;

    # replace ToolsVersion with 14.0
    $attibutes = Select-Xml -xpath &quot;//@ToolsVersion&quot; $proj -Namespace $MsbNS
    foreach ($attribute in $attibutes)&#123;

        $attribute.Node.value = &quot;14.0&quot;
        Write-Output &#39;Setting ToolsVersion to 14.0&#39;
    &#125;

    $proj.Save($CsProjFilePath)
 &#125;
</code></pre>
<p>Till next time, happy NuGetting!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2016/09/Nugetify-your-Sitecore-References/" data-id="ckrl9emyz006498q72acmf52o" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Precompiled-Views-with-Sitecore-8-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2016/09/Precompiled-Views-with-Sitecore-8-2/">Precompiled Views with Sitecore 8.2</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2016/09/Precompiled-Views-with-Sitecore-8-2/">
    <time datetime="2016-09-02T19:20:43.000Z" itemprop="datePublished">September 2, 2016</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Sitecore/">Sitecore</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>A while ago I wrote a post about <a href="/index.php/2016/01/Benchmark-Show-Precompilation/">speeding up your views with precompilation</a>.</p>
<p>After writing that post I learned about <a target="_blank" rel="noopener" href="https://github.com/RazorGenerator/RazorGenerator">RazorGenerator</a> which <a target="_blank" rel="noopener" href="http://www.chrisvandesteeg.nl/2010/11/22/embedding-pre-compiled-razor-views-in-your-dll/">Chris van de Steeg blogged about</a>. RazorGenerator is better in just about every way compared to <code>aspnet_compiler.exe</code>. Whereas the <code>aspnet_compiler</code> just warms the compiler cache for the current machine, RazorGenerator builds the generated classes for your Razor files <em>directly into your assemblies</em>.</p>
<p>With RazorGenerator you can compile once and deploy everywhere. Getting started with it is almost stupidly simple. Seriously, I described the whole process <a target="_blank" rel="noopener" href="https://twitter.com/kamsar/status/684823059082027008">in one tweet</a>: Install the <code>RazorGenerator.MsBuild</code> NuGet package. That‚Äôs it. So what does that get you?</p>
<ul>
<li>Compile-time view syntax checking. Ever deployed a Razor file that broke at runtime after a ‚Äúsuccessful‚Äù build? Well now your builds will <em>fail</em> if your Razor syntax is invalid. Hoorah!</li>
<li>Your Razor views are compiled into your output assembly (look at it in DotPeek and see the <code>ASP</code> namespace)</li>
<li>It‚Äôs fast. You probably won‚Äôt even notice the build time difference.</li>
</ul>
<h2 id="But-that‚Äôs-not-quite-all"><a href="#But-that‚Äôs-not-quite-all" class="headerlink" title="But that‚Äôs not quite all"></a>But that‚Äôs not quite all</h2><p>Right, so how do you get your precompiled views to actually get loaded? ASP.NET MVC doesn‚Äôt understand how to resolve <em>classes</em> instead of <em>files</em> out of the box. With Sitecore 8.1 and earlier, you could use the <code>RazorGenerator.Mvc</code> NuGet package and <a target="_blank" rel="noopener" href="https://github.com/RazorGenerator/RazorGenerator/wiki/Using-RazorGenerator.Mvc">wire up its <code>PrecompiledViewEngine</code></a> to accomplish this.</p>
<p>Sitecore 8.2 modernizes a lot of the MVC implementation under the covers, and part of that is that the Sitecore infrastructure now supports precompiled views natively! (Wondering why the experience editor starts up a lot faster in 8.2? That‚Äôs why.) It‚Äôs really easy to use, in fact: all you have to do is tell Sitecore which assemblies to look for precompiled views in and it does the rest. Behold:</p>
<pre><code>&lt;configuration xmlns:patch=&quot;http://www.sitecore.net/xmlconfig/&quot;&gt;
  &lt;sitecore&gt;
    &lt;mvc&gt;
      &lt;precompilation&gt;
        &lt;assemblies&gt;
          &lt;assemblyIdentity name=&quot;My.Project&quot; /&gt;
          &lt;assemblyIdentity name=&quot;My.OtherProject&quot; /&gt;
        &lt;/assemblies&gt;
      &lt;/precompilation&gt;
    &lt;/mvc&gt;
  &lt;/sitecore&gt;
&lt;/configuration&gt;
</code></pre>
<p><strong>CAVEAT</strong>: The Sitecore precompiler is greedy by default. When it is on, if a class exists for your view, <em>the physical file for the view is not checked</em>. You can even delete it. This means that you cannot tweak the cshtml file and have updates be reflected. You can enable timestamp checking if you must by changing this setting:</p>
<pre><code>&lt;configuration xmlns:patch=&quot;http://www.sitecore.net/xmlconfig/&quot;&gt;
  &lt;sitecore&gt;
    &lt;settings&gt;
      &lt;!--  MVC: Flag for controlling whether Razor View Engine will look at physical view last modified dates 
        when determining to use a view file from a pre-compiled assembly or from the file system.
        Default: &quot;false&quot;
        --&gt;
        &lt;setting name=&quot;Mvc.UsePhysicalViewsIfNewer&quot; value=&quot;false&quot; /&gt;
      &lt;/settings&gt;
  &lt;/sitecore&gt;
&lt;/configuration&gt;
</code></pre>
<p>Because there are (minor) performance implications of doing the timestamp checks, I would advise <em>enabling</em> this setting for development and <em>disabling</em> the setting for production. You should never, ever be changing files on production after a deployment anyway.</p>
<h2 id="Recap"><a href="#Recap" class="headerlink" title="Recap"></a>Recap</h2><p>If you‚Äôre on Sitecore 8.2, you can get view performance gains by:</p>
<ul>
<li>Installing <code>RazorGenerator.MsBuild</code> on each Visual Studio project that contains Razor views</li>
<li>Registering each of those assemblies with the Sitecore precompiled view engine so that it uses your precompiled classes for view rendering</li>
</ul>
<p>Big thanks to <a target="_blank" rel="noopener" href="https://twitter.com/herskinduk">Kern</a> for setting up the MVC expert panel, without which this feature might well not exist. And we might still have <a href="https://kamsar.net/index.php/2015/02/sitecore-8-experience-editor-performance-optimization/">1:40 startup times</a> after a compile. :)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2016/09/Precompiled-Views-with-Sitecore-8-2/" data-id="ckrl9emyd004798q7g5ct7q94" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/blog/archives/index.php/page/2/">&amp;laquo; Prev</a><a class="page-number" href="/blog/archives/">1</a><a class="page-number" href="/blog/archives/index.php/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/blog/archives/index.php/page/4/">4</a><a class="page-number" href="/blog/archives/index.php/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/blog/archives/index.php/page/11/">11</a><a class="extend next" rel="next" href="/blog/archives/index.php/page/4/">Next &amp;raquo;</a>
    </nav>
  
</section>
      
        <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul id="recent-post" class="no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/JavaScript/">JavaScript</a></p>
              <p class="item-title"><a href="/index.php/2021/07/Fun-with-async-generators-and-for-await/" class="title">Fun with async generators and for await</a></p>
              <p class="item-date"><time datetime="2021-07-26T23:30:51.000Z" itemprop="datePublished">July 26, 2021</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/Jamstack/">Jamstack</a></p>
              <p class="item-title"><a href="/index.php/2020/08/Deploying-multiple-Netlify-sites-from-one-Git-repository/" class="title">Deploying multiple Netlify sites from one monorepo</a></p>
              <p class="item-date"><time datetime="2020-08-21T03:30:32.000Z" itemprop="datePublished">August 20, 2020</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/JSS/">JSS</a></p>
              <p class="item-title"><a href="/index.php/2019/09/Running-JSS-headless-mode-in-containers-part-2-Build-containers/" class="title">Running JSS headless mode in containers part 2: Build containers</a></p>
              <p class="item-date"><time datetime="2019-09-16T02:14:04.000Z" itemprop="datePublished">September 15, 2019</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/JSS/">JSS</a></p>
              <p class="item-title"><a href="/index.php/2019/09/Running-JSS-headless-mode-in-containers-part-1/" class="title">Running JSS headless mode in containers, part 1</a></p>
              <p class="item-date"><time datetime="2019-09-08T19:00:36.000Z" itemprop="datePublished">September 8, 2019</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/C/">C#</a></p>
              <p class="item-title"><a href="/index.php/2019/05/Build-2019-All-the-things/" class="title">Build 2019: All the things</a></p>
              <p class="item-date"><time datetime="2019-05-10T23:01:11.000Z" itemprop="datePublished">May 10, 2019</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/index.php/category/April-1/">April 1</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Blade/">Blade</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Build-Scripts/">Build Scripts</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/C/">C#</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Dianoga/">Dianoga</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/JSS/">JSS</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Jamstack/">Jamstack</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/JavaScript/">JavaScript</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Node-js/">Node.js</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/">Sitecore</a><span class="category-list-count">39</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/Crypto/">Crypto</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/Lucene/">Lucene</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/MVC/">MVC</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/Search/">Search</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/xDB/">xDB</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Synthesis/">Synthesis</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Unicorn/">Unicorn</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/WebConsole/">WebConsole</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  
  <div id="toTop" class="fa fa-chevron-up"></div>
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <p>&copy; 2021 Kam Figy</p>
      <p><small>Opinions expressed on this blog are my own, and not necessarily those of my employer.</small></p>
     <p><small>This work is licensed under a <a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</small></p>
    </div>
  </div>
</footer>
    


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>




<script src="/js/script.js"></script>


  </div>
</body>
</html>