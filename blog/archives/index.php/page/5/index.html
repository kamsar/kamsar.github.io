<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Archives | Kam&#39;s Idea Log</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Kam&#39;s Idea Log">
<meta property="og:url" content="https://kamsar.net/blog/archives/index.php/page/5/index.html">
<meta property="og:site_name" content="Kam&#39;s Idea Log">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Kam Figy">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@kamsar">
  
    <link rel="alternative" href="/index.php/feed" title="Kam&#39;s Idea Log" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-62284328-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


<meta name="generator" content="Hexo 5.4.0"></head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo">
        <span class="site-title">Kam&#39;s Idea Log</span>
        <span class="subtitle">C#, Jamstack, and Shenanigans</span>
      </a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        <div class="profile" id="profile-nav">
          <a id="profile-anchor" href="javascript:;"><img class="avatar" src="https://www.gravatar.com/avatar/314826f5d569260f26ac9f26f9e38b86?s=40" srcset="https://www.gravatar.com/avatar/314826f5d569260f26ac9f26f9e38b86?s=80 2x" alt="omg the beard"><i class="fa fa-caret-down"></i></a>
        </div>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="sitesearch" value="https://kamsar.net"></form>
      </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
      
        <td><a class="main-nav-link" href="/">Home</a></td>
      
        <td><a class="main-nav-link" href="/blog/archives">Archives</a></td>
      
      <td>
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="https://kamsar.net"></form>
      </td>
      </tr>
    </table>
  </div>
  
  <div id="header-sub" class="header-sub header-inner">
    <div class="outer">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/index.php/category/April-1/">April 1</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Blade/">Blade</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Build-Scripts/">Build Scripts</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/C/">C#</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Dianoga/">Dianoga</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/JSS/">JSS</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Jamstack/">Jamstack</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/JavaScript/">JavaScript</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Node-js/">Node.js</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/">Sitecore</a><span class="category-list-count">39</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Synthesis/">Synthesis</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Unicorn/">Unicorn</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/WebConsole/">WebConsole</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>
  
</header>
    <div class="outer">
      <aside id="profile">
  <div class="inner profile-inner">
  	<div class="base-info profile-block">
		  <img id="avatar" src="https://www.gravatar.com/avatar/314826f5d569260f26ac9f26f9e38b86?s=128" srcset="https://www.gravatar.com/avatar/314826f5d569260f26ac9f26f9e38b86?s=256 2x" alt="#sitecorebeard">
      <h2 id="name">Kam Figy</h2>
      <h3 id="title">Principal Platform Architect at</h3>
      <a class="corp-logo" href="https://uniform.dev" target="_blank"><img src="/css/images/uniform-logo.svg" alt="Uniform" width="180"></a>
      <span id="location"><i class="fa fa-map-marker"></i>Vancouver, WA USA</span>
      <a id="follow" target="_blank" rel="noopener" href="https://twitter.com/kamsar">FOLLOW</a>
  	</div>
    <div class="contact-info profile-block">
      <table class="contact-list">
        <tr>
        
          <td><a target="_blank" rel="noopener" href="https://github.com/kamsar" title="github"><i class="fa fa-github"></i></a></td>
        
          <td><a target="_blank" rel="noopener" href="https://twitter.com/kamsar" title="twitter"><i class="fa fa-twitter"></i></a></td>
        
          <td><a href="/index.php/feed" title="rss"><i class="fa fa-rss"></i></a></td>
        
        </tr>
      </table>
    </div>
    <div class="article-info profile-block bio">
      <h2>About</h2>
      <p>Kam has been making websites since 1996, starting out with a 14.4k modem on a <a href="https://en.wikipedia.org/wiki/Party_line_(telephony)" target="_blank">party line</a> in the Hawaiian rainforest. A veteran developer, architect, and speaker, he's been working in the content management space for well over a decade. Kam is the author of <a href="https://github.com/kamsar/Unicorn" target="_blank">Unicorn</a>, <a href="https://github.com/kamsar/Synthesis" target="_blank">Synthesis</a>, <a href="https://github.com/kamsar/Dianoga" target="_blank">Dianoga</a>, and several other open-source libraries.</p>
    </div>
  </div>
</aside>
      <section id="main">
  
  
    
    
      
        <div class="archive-year-wrap">
          <i class="fa fa-calendar"></i>
          <a href="/archives/2015" class="archive-year">2015</a>
        </div>
    
    <article id="post-Unicorn-3-0-2-Released" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2015/11/Unicorn-3-0-2-Released/">Unicorn 3.0.2 Released</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2015/11/Unicorn-3-0-2-Released/">
    <time datetime="2015-11-04T06:17:49.000Z" itemprop="datePublished">November 3, 2015</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Unicorn/">Unicorn</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn">Unicorn</a> 3.0.2 (and <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow">Rainbow</a> 1.0.1) have been released to NuGet. </p>
<p><em>This release includes some critical fixes to the serialization system, and upgrading is highly recommended for all users of <a href="https://kamsar.net/index.php/2015/10/Unicorn-3-0-Released/">Unicorn 3</a>.</em></p>
<h2 id="Improvements"><a href="#Improvements" class="headerlink" title="Improvements"></a>Improvements</h2><ul>
<li>Unicorn auto-publish now reports its activities to the sync console, and operates synchronously to guarantee published state for automated builds.</li>
<li>Guidance on some <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/wiki/The-Transparent-Sync-Guide">Transparent Sync pitfalls</a> has been added to the wiki.</li>
<li>The new <code>Rainbow.SFS.ExtraInvalidFilenameCharacters</code> setting enables TFS users to successfully serialize branch templates which begin in <code>$</code>, a reserved character by TFS. The <code>Rainbow.TFS.config.example</code> file is now shipped with Rainbow to illustrate its usage for TFS.</li>
<li>An <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/src/Unicorn/Standard%20Config%20Files/Unicorn.Configs.SerializationFolder.config.example">example configuration file</a> to demonstrate how to move your serialized items elsewhere has been added.</li>
</ul>
<h2 id="Fixes"><a href="#Fixes" class="headerlink" title="Fixes"></a>Fixes</h2><ul>
<li><strong>CRITICAL</strong> Saving item versions that were not in the default Sitecore language was not updating the serialized item. This has been fixed. <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/76">#76</a></li>
<li><strong>CRITICAL</strong> Serialization of significant empty field values, such as unchecked checkboxes when the standard value is checked, has been fixed. <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/74">#74</a></li>
<li>Items that are restored from the Sitecore recycle bin or archive to Unicorn-controlled locations now result in the item being serialized on restore. <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/72">#72</a></li>
<li>Resetting a field to standard values now correctly results in the field value being removed from the serialized item. <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/74">#74</a></li>
<li>Query string order is always respected when syncing multiple configurations at once using the control panel.</li>
<li>The serialization conflict dialog (if disk doesn’t match base item data on save) now formats correctly using HTML for Sitecore 8+</li>
<li>Using the <em>Dump Item</em> and <em>Dump Tree</em> commands in Sitecore to reserialize partial item trees now correctly serializes an item to all configurations that it may belong to, instead of just the first one.</li>
</ul>
<h2 id="Upgrading"><a href="#Upgrading" class="headerlink" title="Upgrading"></a>Upgrading</h2><p>Upgrading from Unicorn 3.x is as simple as updating your NuGet packages. If it prompts to overwrite any changed config files, I’d suggest doing so and using a diff with your source control to resolve differences.</p>
<p>If you suspect that you have serialized items that may be missing <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/74">significant empty values</a>, you should reserialize those after upgrading to get their values normalized.</p>
<h2 id="The-Credits"><a href="#The-Credits" class="headerlink" title="The Credits"></a>The Credits</h2><p>Unicorn isn’t just my project. Thanks a lot to all the community members who reported bugs, sent pull requests, and diagnosed issues to help make Unicorn better.</p>
<p>Unicorn 3.0.2 is brought to you by…</p>
<p><a target="_blank" rel="noopener" href="https://twitter.com/knifecore">Robin Hermanussen</a><br><a target="_blank" rel="noopener" href="https://twitter.com/TEldblom">Thomas Eldblom</a><br><a target="_blank" rel="noopener" href="https://twitter.com/cardinal252">Nathanael Mann</a><br><a target="_blank" rel="noopener" href="https://twitter.com/GeorgeKarbyn">@GeorgeKarbyn</a><br><a target="_blank" rel="noopener" href="https://twitter.com/williamsk000">Kevin Williams</a><br><a target="_blank" rel="noopener" href="https://github.com/amitthakur2014">@amitthakur2014</a><br><a target="_blank" rel="noopener" href="https://github.com/WizX20">@WizX20</a><br><a target="_blank" rel="noopener" href="https://twitter.com/kamsar">@kamsar</a><br>…and the rest of #unicorn on Sitecore Slack</p>
<p>As usual, if you run into trouble you can <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/new">submit an issue</a> on GitHub, hit me up on Sitecore Slack, or <a target="_blank" rel="noopener" href="https://twitter.com/kamsar">tweet at me</a>.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2015/11/Unicorn-3-0-2-Released/" data-id="ckrl9emy9003p98q7e5s73jip" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Unicorn-3-0-1-Released" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2015/10/Unicorn-3-0-1-Released/">Unicorn 3.0.1 Released</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2015/10/Unicorn-3-0-1-Released/">
    <time datetime="2015-10-12T04:05:26.000Z" itemprop="datePublished">October 11, 2015</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Unicorn/">Unicorn</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>The first maintenance release for Unicorn 3.x has been released to NuGet. Unicorn 3.0.1 brings with it a small set of bug fixes and improvements:</p>
<ul>
<li>Data provider config patch is compatible with Sitecore Commerce and other modules that add data providers (thanks <a target="_blank" rel="noopener" href="https://twitter.com/jonnekats">@jonnekats</a>!)</li>
<li>Fixed a bug in Transparent Sync where syncing an item based on a template that only existed in transparent sync (and not the database) would act like the template did not exist. Ironically this was fixed in 3.0.0 but some n00b forgot to merge the config to activate it! (thanks <a target="_blank" rel="noopener" href="https://github.com/williamsk">Kevin Williams</a>!)</li>
<li>Fixed a race condition that could cause SFS trees to incorrectly reinitialize during a reserialize operation and cause an error (thanks <a target="_blank" rel="noopener" href="https://twitter.com/akshaysura13">@akshaysura13</a>!)</li>
<li>Content editor warnings have been improved:<ul>
<li>The name of the Unicorn configuration that includes the item is now shown so it’s easy to trace back why something is included.</li>
<li>For transparent sync items, there is an indication of whether the item is on disk only or both on disk and in the database as well. Note that items in both places may well have different field values, there is no equality check.</li>
</ul>
</li>
</ul>
<p>Due to the fix to Transparent Sync, this update is recommended for anyone using that feature.</p>
<p>Have fun!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2015/10/Unicorn-3-0-1-Released/" data-id="ckrl9emy8003l98q7bc4k2rw1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Unicorn-3-0-Released" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2015/10/Unicorn-3-0-Released/">Unicorn 3.0 Released</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2015/10/Unicorn-3-0-Released/">
    <time datetime="2015-10-02T18:00:00.000Z" itemprop="datePublished">October 2, 2015</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Unicorn/">Unicorn</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="https://kamsar.net/index.php/2015/09/Unicorn-3-What-s-new/Unicorn_logo.png" alt="patrick you&#39;re a bloody genius"></p>
<p>It’s been over a year since the last major release of Unicorn, but I haven’t been bored. Today I’m happy to announce the release of Unicorn 3.0 and Rainbow 1.0.</p>
<h1 id="Unicorn-101"><a href="#Unicorn-101" class="headerlink" title="Unicorn 101"></a>Unicorn 101</h1><p>Sitecore development artifacts are both code and database items, such as rendering code and rendering items. As developers, we use serialization to write our database artifacts into source control along with our code so that we have a record of all our development artifacts. <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn">Unicorn</a> is a tool to make serializing items and sharing them across teams and deployed environments easy and fun.</p>
<p>Unicorn takes advantage of keeping serialized items always up to date on the disk, which allows all merging to take place using your source control tool. Modern source control tools such as Git or SVN are capable of automatically merging the vast majority of item changes, which saves you time and reduces the chance of human error when merging.</p>
<p>Unicorn 3 is fresh off the compiler and brings with it a <a href="https://kamsar.net/index.php/2015/09/Unicorn-3-What-s-new/">huge raft of improvements</a>. This version brings its own <a href="https://kamsar.net/index.php/2015/07/Rethinking-the-Sitecore-Serialization-Format-Unicorn-3-Preview-part-1/">serialization format</a> and <a href="https://kamsar.net/index.php/2015/08/Reinventing-the-Serialization-File-System-Rainbow-Preview-Part-2/">filesystem hierarchy</a> that are far more friendly to source control and merge conflicts than the default Sitecore format. It’s also ridiculously fast - about 50% faster overall than Unicorn 2 or Sitecore serialization APIs.</p>
<h1 id="What-else-is-new"><a href="#What-else-is-new" class="headerlink" title="What else is new?"></a>What else is new?</h1><p>In fact there are <em>lots more</em> new features added to Unicorn 3 since the <a href="https://kamsar.net/index.php/2015/09/Unicorn-3-What-s-new/">what’s new blog post</a> was written. Not just minor details either! Read on…</p>
<h2 id="Transparent-Sync"><a href="#Transparent-Sync" class="headerlink" title="Transparent Sync"></a>Transparent Sync</h2><p>This is a feature that <a href="https://kamsar.net/index.php/2015/10/Unicorn-Introducing-Transparent-Sync/">demanded its own blog post</a>! Transparent Sync enables Unicorn to sync the serialized items in real time, completely automatically. It does this by using its data provider to directly read the serialized items and inject them into the Sitecore content tree. The items on disk <strong>are</strong> the items in Sitecore: it bypasses the database entirely for transparently synced items.</p>
<p>Seriously, it’s magic. <a href="https://kamsar.net/index.php/2015/10/Unicorn-Introducing-Transparent-Sync/">Transparent Sync</a> might be the best feature of Unicorn 3. You should give it a try!</p>
<h2 id="New-Configuration-Architecture"><a href="#New-Configuration-Architecture" class="headerlink" title="New Configuration Architecture"></a>New Configuration Architecture</h2><p>Previously Unicorn was distributed with its default example configuration directly in <code>Unicorn.config</code>. This was suboptimal because it encouraged modifying the stock config file and making future upgrades more of a merging challenge than they needed to be. In the new order, Unicorn ships <em>without</em> any configurations defined. There are two <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/src/Unicorn/Standard%20Config%20Files/Unicorn.Configs.Default.example">example</a> configuration-adding <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/src/Unicorn/Standard%20Config%20Files/Unicorn.Configs.NewItemsOnly.example">patch files</a> distributed with the NuGet package which you can duplicate and edit to your desires, and the <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/Build/Unicorn.nuget/readme.txt">README distributed with the NuGet package</a> details what you need to do to get started.</p>
<h2 id="Control-Panel-UX-Improvements"><a href="#Control-Panel-UX-Improvements" class="headerlink" title="Control Panel UX Improvements"></a>Control Panel UX Improvements</h2><p>The control panel has been redesigned to have an improved UX when there are many configurations defined. In the old UI, once more than a couple configurations were defined the page would need to scroll. The new UI reduces the vertical space for each configuration significantly:</p>
<img src="/index.php/2015/10/Unicorn-3-0-Released/newui.png" class="" title="new control panel">

<p>The new control panel also has an experience for selecting only the configurations you wish to sync in a single batch:</p>
<img src="/index.php/2015/10/Unicorn-3-0-Released/newui-multiselect.png" class="" title="new control panel">

<p>For automated builds, you can also copy the URL on the sync button when you’ve got multiple configurations selected in the control panel to run the same batch at build time. This is great if you’ve got some configurations that you may not wish to sync during a CI build.</p>
<h2 id="New-Items-Only-Evaluator"><a href="#New-Items-Only-Evaluator" class="headerlink" title="New Items Only Evaluator"></a>New Items Only Evaluator</h2><p>This is an <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn#evaluator">evaluator</a> that changes the behavior of syncing to only write <em>new</em> items from serialization into Sitecore. Existing items with the same ID or items that are not serialized are left alone. This can be useful for example if you’re wanting to push some developer-initiated content items up, like metadata or lookup source items, that you want to always exist but once they have been created they become the content editor’s to do with as they will. A <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/src/Unicorn/Standard%20Config%20Files/Unicorn.Configs.NewItemsOnly.example">sample configuration</a> that enables the NIO evaluator ships with the NuGet package. Thanks to <a target="_blank" rel="noopener" href="https://twitter.com/cardinal252">Nathanael Mann</a> for the feature request.</p>
<h2 id="Exclude-all-children-with-the-predicate"><a href="#Exclude-all-children-with-the-predicate" class="headerlink" title="Exclude all children with the predicate"></a>Exclude all children with the predicate</h2><p>To exclude all children of an item simply add a trailing slash to the <code>&lt;exclude&gt;</code> like so:</p>
<pre><code>&lt;include database=&quot;master&quot; path=&quot;/sitecore/content&quot;&gt;
    &lt;exclude path=&quot;/sitecore/content/&quot; /&gt;
&lt;/include&gt;
</code></pre>
<h2 id="Visual-Studio-Control-Panel-Support"><a href="#Visual-Studio-Control-Panel-Support" class="headerlink" title="Visual Studio Control Panel Support"></a>Visual Studio Control Panel Support</h2><p>Recently a <a target="_blank" rel="noopener" href="https://visualstudiogallery.msdn.microsoft.com/64439022-f470-422a-b663-fbb89aaf6e86">plugin for Visual Studio</a> was released that enables you to run Unicorn syncs directly within Visual Studio. Unicorn 3 supports this tool out of the box, by simply enabling the <code>Unicorn.Remote.config.disabled</code> patch file. </p>
<img src="/index.php/2015/10/Unicorn-3-0-Released/visualstudio.png" class="" title="new control panel">

<p>The <a target="_blank" rel="noopener" href="https://visualstudiogallery.msdn.microsoft.com/64439022-f470-422a-b663-fbb89aaf6e86">Unicorn Control Panel for Visual Studio</a> requires VS2013 or VS2015. It is developed by <a target="_blank" rel="noopener" href="https://twitter.com/berserkerdotnet">Andrii Snihyr</a> - thank you for the community support!</p>
<h2 id="TFS-Support"><a href="#TFS-Support" class="headerlink" title="TFS Support"></a>TFS Support</h2><p>Fellow Sitecore MVP and Connective DX’er <a target="_blank" rel="noopener" href="https://twitter.com/petersondave">Dave Peterson</a> has written up a <a target="_blank" rel="noopener" href="https://github.com/PetersonDave/Rainbow.Tfs">plugin for Rainbow/Unicorn that integrates it with TFS</a>. TFS 2010 (or server workspaces in 2012 and later) have the unfortunate limitation that all files are locked by default. This interferes with Unicorn’s operation as it writes files as items are changed in Sitecore, resulting in errors.</p>
<p>The TFS integration hooks the TFS API to Rainbow’s SFS data store, causing it to actually check out the file Unicorn is about to write or delete before acting. You must use a 32-bit IIS app pool when using the plugin, as the TFS API is 32-bit only.</p>
<p>The TFS plugin is available on NuGet; for installation instructions and the latest info <a target="_blank" rel="noopener" href="https://github.com/PetersonDave/Rainbow.Tfs/blob/master/README.md">see the README on GitHub</a></p>
<h2 id="Documentation"><a href="#Documentation" class="headerlink" title="Documentation"></a>Documentation</h2><p>The documentation in the <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/README.md">README</a>, comments in the <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/tree/master/src/Unicorn/Standard%20Config%20Files">stock config files</a>, and verbiage in the actual control panel and logs have all been reviewed and improved. If you get confused by anything, let me know and I’ll make the docs better or the error message clearer in the next release.</p>
<h2 id="Thank-you"><a href="#Thank-you" class="headerlink" title="Thank you"></a>Thank you</h2><p>Unicorn is a project by and for the Sitecore community. I’d like to thank everyone who’s contributed to the project in a major or minor way: without you, we wouldn’t have this tool today. Thank you!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2015/10/Unicorn-3-0-Released/" data-id="ckrl9emy7003h98q70jru20ro" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Unicorn-Introducing-Transparent-Sync" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2015/10/Unicorn-Introducing-Transparent-Sync/">Introducing Transparent Sync in Unicorn 3</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2015/10/Unicorn-Introducing-Transparent-Sync/">
    <time datetime="2015-10-02T17:50:00.000Z" itemprop="datePublished">October 2, 2015</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Unicorn/">Unicorn</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>A couple years ago <a target="_blank" rel="noopener" href="https://twitter.com/alexshyba">Alex Shyba</a> told me about an idea he had: what if we used a data provider to map serialized items directly into the content tree, bypassing the database and eliminating the need to sync? I was like</p>
<img src="/index.php/2015/10/Unicorn-Introducing-Transparent-Sync/dramatic.gif" class="" title="ermahgerd!">

<p>I went nuts and <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rhino">wrote a prototype</a> that did exactly that. </p>
<p>The prototype, nicknamed Rhino because it has a prominent horn like <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Unicorn">certain other mythical beasts</a>, actually worked fairly well. Unfortunately there are two hard problems in computer science: naming, cache invalidation, and off by one errors. Cache invalidation, specifically using the <code>FileSystemWatcher</code> to observe file changes by source control, was unreliable. Because of how core serialization is to Sitecore development practice, unreliability is not acceptable. Reluctantly, I shelved Rhino and worked on Unicorn 2 instead.</p>
<p><img src="https://kamsar.net/nuget/unicorn/logo.png" alt="unicorn logo"></p>
<p>The idea of Rhino stuck around. The improvements brought around in <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow">Rainbow</a>, such as partial item reading and tighter control around storage, enabled working around the limitations that had precluded Rhino from being useful in production. Thus the idea returns as Transparent Sync, which might just be the best part of Unicorn 3.</p>
<p>Transparent Sync enables Unicorn to sync serialized items in real time, completely automatically. It does this by using its data provider to directly read the serialized items and inject them into the Sitecore content tree. The items on disk <strong>are</strong> the items in Sitecore: it bypasses the database entirely for transparently synced items. Changes made on disk update nearly instantly in the Sitecore editing interfaces.</p>
<img src="/index.php/2015/10/Unicorn-Introducing-Transparent-Sync/notsureif.jpg" class="" title="not sure if witchcraft, or transparent sync">

<p>Imagine a scenario where a development team is working with a feature-branch driven workflow, like <a target="_blank" rel="noopener" href="https://guides.github.com/introduction/flow/">GitHub Flow</a>. In order to perform a code review when using Transparent Sync, you merely checkout the feature branch under review and your Sitecore is immediately configured with the items that the feature includes.</p>
<img src="/index.php/2015/10/Unicorn-Introducing-Transparent-Sync/dontalways.jpg" class="" title="I don" alt="t always do code reviews">

<h2 id="When-should-we-use-Transparent-Sync"><a href="#When-should-we-use-Transparent-Sync" class="headerlink" title="When should we use Transparent Sync?"></a>When should we use Transparent Sync?</h2><p>Transparent Sync is turned off by default because you should understand how it works before enabling it.</p>
<p>Transparent Sync is excellent for development artifacts like templates and rendering items, but it’s inappropriate if you’ve got hundreds of thousands of content items. At startup Unicorn must build an index of metadata, which involves reading the headers of each serialized file. If you have a SSD this penalty is pretty minimal, but a traditional hard drive not so much. In testing I enabled transparent sync for the whole default core and master database (19,228 items) using a SSD and noted about 100ms increase in startup times on average.</p>
<p>Because Transparent Sync bypasses the normal sync process, transparent sync also bypasses anything that is hooked to sync. This would include things like custom evaluators (like <code>NewItemsOnlyEvaluator</code>) and the sync event pipelines. If you are relying on these customizations, turn transparent sync off for the configurations that use them.</p>
<h2 id="How-do-we-use-Transparent-Sync"><a href="#How-do-we-use-Transparent-Sync" class="headerlink" title="How do we use Transparent Sync?"></a>How do we use Transparent Sync?</h2><p>Note: you must perform an initial serialization of a configuration with Transparent Sync <em>off</em> before you enable it. Otherwise the items in the configuration will seem to disappear as transparent sync shows all zero items that are on disk!</p>
<p>Turning transparent sync on is really easy: take the <code>&lt;configuration&gt;</code> you want to add transparent sync to and put this line in it:</p>
<pre><code>&lt;dataProviderConfiguration enableTransparentSync=&quot;true&quot; type=&quot;Unicorn.Data.DataProvider.DefaultUnicornDataProviderConfiguration, Unicorn&quot; /&gt;
</code></pre>
<p>You can also change the setting in the global <code>&lt;defaults&gt;</code> if you want to change the default setting of transparent sync for all configurations.</p>
<p>Once Transparent Sync is enabled all you have to do is change items on disk and the updates will immediately appear within Sitecore.</p>
<h2 id="Going-to-production"><a href="#Going-to-production" class="headerlink" title="Going to production"></a>Going to production</h2><p>In production we usually remove the Unicorn data provider as it’s not normally required. However without the Unicorn data provider, transparently synced items disappear: they aren’t really in the database at all, they’re on disk. There are two approaches to solve this problem:</p>
<ul>
<li>Transparent Synced configurations <em>can</em> sync in the traditional way. This will persist the disk-based items permanently in the database. </li>
<li>Keep the data provider enabled in production. This is appealing because it means you can just deploy files to production and be done with it - and rollback in the same way. Be aware that if the IIS app pool identity cannot write to the serialized items you will be unable to make any ‘emergency’ changes to the items in Sitecore.</li>
</ul>
<h2 id="What-happens-if-I-reserialize-a-Transparent-Sync-configuration"><a href="#What-happens-if-I-reserialize-a-Transparent-Sync-configuration" class="headerlink" title="What happens if I reserialize a Transparent Sync configuration?"></a>What happens if I reserialize a Transparent Sync configuration?</h2><p>The database is used for all reserialize operations. In a Transparent Sync configuration, it is common for items to NOT reside in the database at all. If you reserialize this configuration it will be reset to what <em>is</em> in the database, thus deleting any Transparent Sync items that are not already in the database. Similarly if you use ‘Dump Item’ to do a partial reserialize on a Transparent Sync item it will be reverted to what is in the database, which may well be ‘nothing’.</p>
<p>There are warnings in the control panel if you reserialize a Transparent Sync configuration.</p>
<h2 id="Anything-else"><a href="#Anything-else" class="headerlink" title="Anything else?"></a>Anything else?</h2><p>I hope you have as much fun with Transparent Sync as I had making it!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2015/10/Unicorn-Introducing-Transparent-Sync/" data-id="ckrl9emy8003j98q734cy8ayh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Unicorn-3-What-s-new" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2015/09/Unicorn-3-What-s-new/">Unicorn 3: What&#39;s new?</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2015/09/Unicorn-3-What-s-new/">
    <time datetime="2015-09-14T14:20:00.000Z" itemprop="datePublished">September 14, 2015</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Unicorn/">Unicorn</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Now that I’ve finished being confusing with my <a href="https://kamsar.net/index.php/2015/09/Rainbow-Part-3-What-is-Rainbow/">last</a> <a href="https://kamsar.net/index.php/2015/07/Rethinking-the-Sitecore-Serialization-Format-Unicorn-3-Preview-part-1/">three</a> <a href="https://kamsar.net/index.php/2015/08/Reinventing-the-Serialization-File-System-Rainbow-Preview-Part-2/">posts</a> about <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow">Rainbow</a>, let’s talk about Unicorn 3.</p>
<img src="/index.php/2015/09/Unicorn-3-What-s-new/Unicorn_logo.png" class="" title="new logo!">

<p>Unicorn 3 is the product of a year of thought and implementation. The design goal was nothing less than fixing every annoyance or issue that we ran across in daily usage of Unicorn 2. So what’s new?</p>
<h1 id="New-serialization-format"><a href="#New-serialization-format" class="headerlink" title="New serialization format"></a>New serialization format</h1><p>High on the list of annoyances with daily Unicorn usage was the difficulty of resolving merge conflicts in the Sitecore serialization format. </p>
<p>The only fix for this was to make a <a href="https://kamsar.net/index.php/2015/07/Rethinking-the-Sitecore-Serialization-Format-Unicorn-3-Preview-part-1/">better format</a>: human readable, easily mergeable, and fixing the daily annoyances of the Sitecore format. Because no tool is an island, the new serialization tools Unicorn 3 uses have been split off into their own library: <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow">Rainbow</a>. Rainbow enables others to use the new serialization tools developed for Unicorn 3, without depending on Unicorn.</p>
<p>The details of the new format and why it exists can be found in <a href="https://kamsar.net/index.php/2015/07/Rethinking-the-Sitecore-Serialization-Format-Unicorn-3-Preview-part-1/">part 1 of my Rainbow blog series</a>.</p>
<h1 id="New-file-organization"><a href="#New-file-organization" class="headerlink" title="New file organization"></a>New file organization</h1><p>Alongside designing the new serialization format, another problem was to resolve the longstanding limitations and bugs in the way Sitecore’s built in serialization stores its file hierarchy. <a href="https://kamsar.net/index.php/2015/08/Reinventing-the-Serialization-File-System-Rainbow-Preview-Part-2/">This was worth a whole blog post in and of itself</a>, but in summary I think those limitations have been eliminated.</p>
<p>The new hierarchy also alters the way the storage tree operates. Whereas Sitecore’s model represents an entire database, Unicorn 3 represents a set of subtrees of the database. Depending on the depth of the root paths, this can result in much shorter filesystem paths and fewer over-length path loops.</p>
<h1 id="Improved-user-experience"><a href="#Improved-user-experience" class="headerlink" title="Improved user experience"></a>Improved user experience</h1><h2 id="Improved-console-messaging"><a href="#Improved-console-messaging" class="headerlink" title="Improved console messaging"></a>Improved console messaging</h2><p>Unicorn 3 has greatly improved messaging, both reducing extra output that isn’t necessary as well as vastly better error formatting. This hilarity was a constant annoyance if something went wrong in Unicorn 2 (in this case, invalid serialization format):</p>
<img src="/index.php/2015/09/Unicorn-3-What-s-new/u2error.png" class="" title="seriously? who shipped this.">

<p>Unicorn 3’s version of the same error:</p>
<img src="/index.php/2015/09/Unicorn-3-What-s-new/u3error.png" class="" title="woohoo">

<h2 id="Editor-warnings-for-Unicorn-controlled-items"><a href="#Editor-warnings-for-Unicorn-controlled-items" class="headerlink" title="Editor warnings for Unicorn-controlled items"></a>Editor warnings for Unicorn-controlled items</h2><p>Another common issue is having someone edit an item that Unicorn controls on a deployed server, and having their changes overwritten by the next automated deployment. People asked for a way they could know if an item was “Unicorned” or not. Well, now there is one:</p>
<img src="/index.php/2015/09/Unicorn-3-What-s-new/cewarning.png" class="" title="warning will robinson">

<p>The message shown changes depending on the environment as well; this is how it looks when “production mode” is on:</p>
<img src="/index.php/2015/09/Unicorn-3-What-s-new/cewarning2.png" class="" title="warning will robinson">

<p>And also, if production mode is enabled if you attempt to save the item:</p>
<img src="/index.php/2015/09/Unicorn-3-What-s-new/cewarning3.png" class="" title="warning will robinson">

<h2 id="Unicorn-enabled-serialize-commands"><a href="#Unicorn-enabled-serialize-commands" class="headerlink" title="Unicorn-enabled serialize commands"></a>Unicorn-enabled serialize commands</h2><p>Ever used these handy tools on the by-default-hidden Developer tab of the Sitecore ribbon?</p>
<img src="/index.php/2015/09/Unicorn-3-What-s-new/partialsync.png" class="" title="controls">

<p>Guess what happens if you use these commands on an item Unicorn 3 controls? You guessed it: you can do <strong>partial syncing</strong> and <strong>partial reserialization</strong> using these commands. In Unicorn terms, there is no difference between “update” and “revert”: both just mean “sync.”</p>
<p>Note: Using the commands on non-Unicorn items results in their default behaviour. Also “update database” and “revert database” do not interface with Unicorn at all, and perform their default actions.</p>
<h1 id="Performance-50-more-of-it"><a href="#Performance-50-more-of-it" class="headerlink" title="Performance: 50% more of it"></a>Performance: 50% more of it</h1><p>Unicorn 3 has had significant performance profiling applied to it, and is about 10-20% faster than Unicorn 2 or stock Sitecore serialization. On top of that, multithreading is utilized to further increase sync and reserialize speed. Between threading and optimizations, it’s generally about 50% faster than Unicorn 2. For maximum performance, using SSD storage is highly recommended as it has a major impact on sync speed.</p>
<h1 id="Auto-publish-synced-Items"><a href="#Auto-publish-synced-Items" class="headerlink" title="Auto-publish synced Items"></a>Auto-publish synced Items</h1><p>Unicorn 3 enables efficient auto-publishing of items that a sync has modified, using manual publish queue injection. This option is enabled by default by the <code>Unicorn.AutoPublish.config</code> file. You can remove this file to disable the feature if you don’t like it.</p>
<h1 id="Deleted-template-field-handling"><a href="#Deleted-template-field-handling" class="headerlink" title="Deleted template field handling"></a>Deleted template field handling</h1><p>In Unicorn 2, deleting template fields could cause havoc. If any other serialized item contained a value for the deleted field, and you failed to reserialize that item after deleting the field, your next sync would be greeted with a big ugly error and you’d have to go manually remove the offending field from the file.</p>
<p>Unicorn 3 fixes this issue, by making this error a warning instead. (We can’t just ignore it, because ignoring it would cause syncs that created template fields as well as values for that field to not load the values the first time)</p>
<img src="/index.php/2015/09/Unicorn-3-What-s-new/u3warning.png" class="" title="woohoo">

<h1 id="Versioned-to-Shared-field-conversion"><a href="#Versioned-to-Shared-field-conversion" class="headerlink" title="Versioned to Shared field conversion"></a>Versioned to Shared field conversion</h1><p>Converting a field between shared, versioned, and unversioned by syncing a template was not supported in Unicorn 2. The field itself would change, but the existing values for the field would not move to the correct database table in Sitecore. Unicorn 3 includes the necessary adaptation to migrate stored values when field sharing is changed by a sync.</p>
<h1 id="Improved-configuration-scheme"><a href="#Improved-configuration-scheme" class="headerlink" title="Improved configuration scheme"></a>Improved configuration scheme</h1><p>Unicorn 2 used a single configuration file: <code>Serialization.config</code>. This was a bit confusing as parts of it were ideally removed when deployed to a CE or CD environment and that was not always obvious.</p>
<p>Version 3 addresses this situation by creating its own <code>App_Config\Unicorn</code> folder and splitting the configuration into files that can simply be deleted instead of modified. This folder contains:</p>
<ul>
<li><code>Unicorn.config</code>: Contains core configuration, e.g. predicates and dependency setup, can be left intact anywhere.</li>
<li><code>Unicorn.DataProvider.config</code>: Attaches the Unicorn Data Provider, which handles automatic serialization of changed items to disk. Can be removed for any environment not collecting changes. (usually, any non-dev environment)</li>
<li><code>Unicorn.UI.config</code>: Adds the Unicorn Control Panel, Partial Sync, editor warnings, and other end-user UI elements. Remove for CD environments.</li>
<li><code>Unicorn.AutoPublish.config</code>: Causes Unicorn to automatically publish items that it changes during a sync. Remove if you don’t want this feature, or on CD environments.</li>
<li><code>Unicorn.Deployed.config.disabled</code>: If this config is enabled, typically on a deployed CE instance, saving an item added to Unicorn results in a warning confirmation.</li>
</ul>
<p>Each of these config files also has comments explaining the above as well as what the settings within do.</p>
<h1 id="Technical-Improvements"><a href="#Technical-Improvements" class="headerlink" title="Technical Improvements"></a>Technical Improvements</h1><p>Unicorn 3 also includes numerous miscellaneous technical improvements.</p>
<ul>
<li>No third party dependencies. (that means you, Ninject)</li>
<li>Improved default predicate configuration settings account for Sitecore 8 additions and common modules.</li>
<li>Added <code>SerializationHelper</code>, a handy class that lets you more easily invoke Unicorn operations such as Sync without a lot of setup, if you want to programmatically use Unicorn.</li>
<li>Added pipelines to hook to sync events. <code>unicornSyncBegin</code> occurs when a configuration sync begins. <code>unicornSyncComplete</code> occurs when a configuration sync ends. <code>unicornSyncEnd</code> occurs at the end of all syncs. (e.g. after all configurations have synced if batching &gt; 1)</li>
<li>Thanks to Rainbow, the object model is unified (ALL items are <code>IItemData</code> both from Sitecore and serialized). Previously each had their own parallel models.</li>
</ul>
<h1 id="System-Requirements"><a href="#System-Requirements" class="headerlink" title="System Requirements"></a>System Requirements</h1><p>Unicorn 3 has been developed on Sitecore 7.2 Update-5, as well as Sitecore 8 Update-5. It should be compatible with all version of Sitecore 7 and 8.</p>
<p>Unicorn 3’s code should be easy to adapt to Sitecore 6.2-6.6, however there is no official support for it so you’d want to compile from source.</p>
<h1 id="Ok-ok-Is-it-released-yet"><a href="#Ok-ok-Is-it-released-yet" class="headerlink" title="Ok, ok. Is it released yet?"></a>Ok, ok. Is it released yet?</h1><p>No. But it is in an actively updated beta on NuGet that is fairly stable :)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2015/09/Unicorn-3-What-s-new/" data-id="ckrl9emy7003f98q77f9x6nvz" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Rainbow-Part-3-What-is-Rainbow" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2015/09/Rainbow-Part-3-What-is-Rainbow/">Rainbow Part 3: What is Rainbow?</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2015/09/Rainbow-Part-3-What-is-Rainbow/">
    <time datetime="2015-09-10T18:33:37.000Z" itemprop="datePublished">September 10, 2015</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Unicorn/">Unicorn</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>It may seem a bit weird that in part 3 of a series, we’re talking about what something is.</p>
<img src="/index.php/2015/09/Rainbow-Part-3-What-is-Rainbow/whatis.jpg" class="" title="Nobody can tell you what it is, you have to see it for yourself">

<p>After all, shouldn’t that be part 1? Nope, this is iterative development :)</p>
<p>So, what is <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow">Rainbow</a>? Rainbow is designed to be a complete replacement for the Sitecore serialization format and filesystem organization, as well as enabling cross-source item comparison. It is a pure code library that comes with no UI of any kind, that is designed to be used with other libraries that use its serialization services with their own UIs. Libraries that consume Rainbow - such as <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn">Unicorn</a> - gain the ability to abstract themselves from serialization details. Libraries that extend Rainbow can add new serialization formats, new places to store serialized items, and new ways to organize them.</p>
<p><img src="https://kamsar.net/nuget/rainbow/logo.png" alt="taste it"></p>
<h2 id="Rainbow-Features"><a href="#Rainbow-Features" class="headerlink" title="Rainbow Features"></a>Rainbow Features</h2><h3 id="Universal-Item-Data-and-Data-Stores"><a href="#Universal-Item-Data-and-Data-Stores" class="headerlink" title="Universal Item Data and Data Stores"></a>Universal Item Data and Data Stores</h3><p>Rainbow implements a set of interfaces that wrap the structure of a Sitecore item - item, version, and field. These interfaces provide a universal language that all Rainbow data stores can implement against. You could get an <code>IItemData</code> from Sitecore and write it out to disk as a YAML formatted item. You could get an <code>IItemData</code> from a web service, and deserialize it into a Sitecore database. You could construct an <code>IItemData</code> programmatically, and serialize it to a Sitecore database. Implementations of <code>IDataStore</code> provide places to store item data. It’s completely universal, and everything Rainbow does revolves around these abstractions.</p>
<h3 id="YAML-based-serialization-formatter-improves-the-storage-format-for-serialized-items"><a href="#YAML-based-serialization-formatter-improves-the-storage-format-for-serialized-items" class="headerlink" title="YAML-based serialization formatter improves the storage format for serialized items"></a><a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow/tree/master/src/Rainbow.Storage.Yaml">YAML-based serialization formatter</a> improves the storage format for serialized items</h3><ul>
<li><a href="https://kamsar.net/index.php/2015/07/Rethinking-the-Sitecore-Serialization-Format-Unicorn-3-Preview-part-1/">This post</a> goes into more detail about the hows and whys of the YAML serializer</li>
<li>The format is valid <a target="_blank" rel="noopener" href="http://yaml.org/">YAML</a>. YAML is a language that is designed to store object graphs in a human readable fashion. It uses significant whitespace and indentation to denote data boundaries. Note: only a subset of the YAML spec is allowed for performance reasons.</li>
<li>Any type of endline support. Yes, even <code>\r</code> because one of the default Sitecore database items uses that in its text! No more <a target="_blank" rel="noopener" href="http://seankearney.com/post/Using-Team-Development-for-Sitecore-with-GitHub"><code>.gitattributes</code></a> needed.</li>
<li>No more <code>Content-Length</code> on fields that requires manual recalculation after merge conflicts</li>
<li>Multilists are stored multi-line so fewer conflicts can occur</li>
<li>XML fields (layout, rules) are stored pretty-printed so that fewer conflicts can occur</li>
<li>Customize how fields are stored when serialized yourself with <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow/tree/master/src/Rainbow/Formatting/FieldFormatters">Field Formatters</a></li>
</ul>
<h3 id="Serialization-File-System-SFS-storage-hierarchy"><a href="#Serialization-File-System-SFS-storage-hierarchy" class="headerlink" title="Serialization File System (SFS) storage hierarchy"></a><a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow/tree/master/src/Rainbow/Storage">Serialization File System (SFS)</a> storage hierarchy</h3><ul>
<li><a href="https://kamsar.net/index.php/2015/08/Reinventing-the-Serialization-File-System-Rainbow-Preview-Part-2/">This post</a> goes into more detail about SFS</li>
<li>Human readable file hierarchy</li>
<li>Extremely long item name support</li>
<li>Unlimited path length support</li>
<li>Supports non-unique paths (two items under the same parent with the same name), while keeping it human-readable</li>
<li>Stores each included subtree in its own hierarchy, reducing file name length</li>
<li>You can plug in the serialization formatter you desire - such as the YAML provider - to format items how you want in the tree</li>
</ul>
<h3 id="Deserialize-abstract-items-into-Sitecore-with-the-Sitecore-storage-provider"><a href="#Deserialize-abstract-items-into-Sitecore-with-the-Sitecore-storage-provider" class="headerlink" title="Deserialize abstract items into Sitecore with the Sitecore storage provider"></a><a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow/tree/master/src/Rainbow.Storage.Sc">Deserialize abstract items into Sitecore</a> with the Sitecore storage provider</h3><ul>
<li>Turn Sitecore items into <code>IItemData</code> with the <code>ItemData</code> class</li>
<li>Deserialize an <code>IItemData</code> instance into a Sitecore item with <code>DefaultDeserializer</code> (used via <code>SitecoreDataStore</code>)</li>
<li>Query the Sitecore tree in abstract with <code>SitecoreDataStore</code>, as if it were any other serialization store</li>
</ul>
<h3 id="Item-comparison-APIs"><a href="#Item-comparison-APIs" class="headerlink" title="Item comparison APIs"></a><a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow/tree/master/src/Rainbow/Diff">Item comparison APIs</a></h3><ul>
<li>Compare any two <code>IItemData</code> instances regardless of source</li>
<li>Customize comparison for field types or specific fields with <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow/tree/master/src/Rainbow/Diff/Fields">Field Comparers</a></li>
<li>Get a complete readout of changes as an object model</li>
</ul>
<h2 id="Improvements"><a href="#Improvements" class="headerlink" title="Improvements"></a>Improvements</h2><p>Improvements are in comparison to Sitecore serialization and the functionality in Unicorn 2.</p>
<ul>
<li>Deleting template fields will no longer cause errors on deserialization for items that are serialized with a value for the deleted field (e.g. standard values)</li>
<li>Deserialization knows how to properly change field sharing or field versioning and port existing data to the new sharing setting</li>
</ul>
<h2 id="Rainbow-Organization"><a href="#Rainbow-Organization" class="headerlink" title="Rainbow Organization"></a>Rainbow Organization</h2><p>Rainbow consists of several projects:</p>
<ul>
<li>The core <code>Rainbow</code> project contains core interfaces and components that most all serialization components might need, for example <a href="https://kamsar.net/index.php/2015/08/Reinventing-the-Serialization-File-System-Rainbow-Preview-Part-2/">SFS</a>, item comparison tools, field formatters, and item filtering</li>
<li><code>Rainbow.Storage.Yaml</code> implements serializing and deserializing items using a YAML-based format. This format is ridiculously easier to read and merge than standard Sitecore serialization format, lacking any content length attributes, supporting any type of newline characters, and supporting pretty-printing field values (e.g. multilists, layout) for simpler merging when conflicts occur.</li>
<li><code>Rainbow.Storage.Sc</code> implements a data store using the Sitecore database. This can be used to read and write items to Sitecore using the <code>IDataStore</code> interface.</li>
</ul>
<h2 id="Extending-Rainbow"><a href="#Extending-Rainbow" class="headerlink" title="Extending Rainbow"></a>Extending Rainbow</h2><p>Rainbow is designed to be loosely coupled. It’s recommended that you employ a Dependency Injection framework (e.g. <a target="_blank" rel="noopener" href="https://simpleinjector.org/">SimpleInjector</a>) to make your life constructing Rainbow objects easier. Of course you can also construct objects without DI.</p>
<p>Rainbow has <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow/tree/master/src">extensive unit and integration tests</a> and hopefully easy to understand code, which serve as its living documentation. As of now, Rainbow has 90% test coverage and 220 tests. <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn">Unicorn</a>, which uses Rainbow as a service, can also be a useful source of examples.</p>
<p>If you can’t find what you’re looking for you can find me on Twitter (@kamsar) or on Sitecore Community Slack.</p>
<p>Next time, we’ll start talking about what’s new in Unicorn 3 - other than all the Rainbow things that come along because Unicorn uses Rainbow.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2015/09/Rainbow-Part-3-What-is-Rainbow/" data-id="ckrl9emy6003d98q72k95bvex" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Reinventing-the-Serialization-File-System-Rainbow-Preview-Part-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2015/08/Reinventing-the-Serialization-File-System-Rainbow-Preview-Part-2/">Reinventing the Serialization File System: Rainbow Preview, Part 2</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2015/08/Reinventing-the-Serialization-File-System-Rainbow-Preview-Part-2/">
    <time datetime="2015-08-06T01:16:55.000Z" itemprop="datePublished">August 5, 2015</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Unicorn/">Unicorn</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>This is the second post in a series about <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow">Rainbow</a>, an advanced serialization library for Sitecore. Part 1, dealing with improving the serialization file format, <a href="https://kamsar.net/index.php/2015/07/Rethinking-the-Sitecore-Serialization-Format-Unicorn-3-Preview-part-1/">can be found here</a>.</p>
<h1 id="Introducing-Serialization-File-System"><a href="#Introducing-Serialization-File-System" class="headerlink" title="Introducing Serialization File System"></a>Introducing Serialization File System</h1><p>Rainbow supports the idea of a <em>data store</em>, which is an abstraction of the necessary components to store and retrieve Sitecore items. A data store need not be serialized: Sitecore’s database is itself implemented as a data store as far as Rainbow is concerned.</p>
<p>This time we’ll be talking about the Serialization File System data store. Serialization File System, or SFS for short, is a pattern for organizing files on disk to represent a Sitecore item tree. It’s only a pattern: it depends on a <em>serialization formatter</em>, such as <a href="https://kamsar.net/index.php/2015/07/Rethinking-the-Sitecore-Serialization-Format-Unicorn-3-Preview-part-1/">the YAML formatter</a>, to do the actual serialization and deserialization. This means that you can use whatever format you want, without having to reimplement the whole organizational structure. Or if you can’t stand SFS you can make your own data store and keep the YAML format :)</p>
<h1 id="Why-do-we-need-SFS"><a href="#Why-do-we-need-SFS" class="headerlink" title="Why do we need SFS?"></a>Why do we need SFS?</h1><p>To understand why we need SFS, let’s get down to data structures for a minute here. Windows’ file system is essentially a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/B-tree">B-tree</a>. Sitecore’s content tree is also essentially a B-tree. So we can map the two together pretty easily, right? <strong>WRONG.</strong></p>
<h3 id="Path-Length"><a href="#Path-Length" class="headerlink" title="Path Length"></a>Path Length</h3><p>Sitecore’s content tree is effectively infinite (<em>by definitions of “infinite” that mean “up to 20 levels by default”</em>) in depth. The Win32 filesystem APIs on the other hand, have a maximum path length of 240 characters. So now we run into a problem where you can have a path in Sitecore that is unrepresentable on the filesystem, because the content path is too long. Whoops. Sitecore’s serialization APIs handle this situation, albeit a bit clunkily. They take the item path and apply a trivial hash algorithm to it, then put the item at the root of the serialization tree in a folder named that hash. For example (slightly simplified):</p>
<ul>
<li>given <code>/sitecore/foo/bar/baz/quux/quince</code> (imagine this is longer)</li>
<li><code>baz</code> might be written to <code>c:\serialization\master\sitecore\foo\bar\baz.item</code></li>
<li>but <code>quux</code> might go to <code>c:\serialization\A8CF73\quux.item</code></li>
<li>and <code>quince</code> might go to <code>c:\serialization\C732F1\quince.item</code> - not even a child of quux</li>
</ul>
<p>This solution works, but it also means that the hierarchy becomes nearly unintelligible once short-paths start being used. The hash is not a standard algorithm; there is no obvious way to see what it means without reading the .item file within to see what its path is. It also makes merging very unintuitive if the short-pathed items are changed because the file path tells you nearly nothing.</p>
<p>So now we’ve seen path length problems, but what about a special case of that? What happens if you create an item name that is so long that <em>it alone becomes too long to fit in the Windows filesystem path limits</em>? Imagine an item with a 300-character name. Well if this occurs - as can pretty easily with Web Forms for Marketers - the Sitecore serialization APIs all choke. Unicorn 2 fails because it uses the Sitecore APIs. Pretty sure TDS does too, but I could be wrong.</p>
<h3 id="Filenames-are-not-unique"><a href="#Filenames-are-not-unique" class="headerlink" title="Filenames are not unique"></a>Filenames are not unique</h3><p>Sitecore’s content tree, and the APIs to retrieve items “by path,” are quite misleading. Why? On the Windows filesystem the file name is a unique key. However under the covers of Sitecore the item’s ID is the unique key. Duplicate names are totally allowed - which means that getting something “by path” is horribly ambiguous (.5% of the time, but still). But this is the basis upon which the Sitecore standard serialization hierarchy is built: ambiguity. </p>
<p><strong>But they made the right choice.</strong> Do you want to merge conflicts in items named by ID on disk? How about deal with that you’d hit the path length limit in about 3 levels with 35+ character file names? Thought not. But this means we have a problem to solve: how do we map <em>non-unique nodes</em> in the database (the item name) onto <em>unique nodes</em> (file names) on the file system.</p>
<p>Sitecore’s serialization APIs solve this in a somewhat decent fashion. When an item is serialized the parent paths are evaluated for items of the same name, and if one exists then the item path has the parent ID appended to it. For example:</p>
<ul>
<li>given two items with path <code>/sitecore/foo</code></li>
<li>when you write them to disk they would get a path like <code>c:\serialization\master\sitecore\foo_d0ec0aa931eb46ecb241d1ca18b4c5b2.item</code> where each item has its ID postfixed to the filename</li>
</ul>
<p>Seems legit, right? <strong>Unfortunately it’s very broken and can actually corrupt your serialization tree.</strong> Don’t believe me? Try this:</p>
<ul>
<li>given an item with path <code>/sitecore/foo</code>, serialize it</li>
<li>now we have <code>c:\serialization\master\sitecore\foo.item</code></li>
<li>next we create another <code>foo</code> item with a different ID</li>
<li>now we’ll have <code>foo.item</code>, and <code>foo_d0ec0aa931eb46ecb241d1ca18b4c5b2.item</code> in the same folder</li>
<li>so far, so good. but now serialize the original <code>foo</code> item again.</li>
<li>now we have <code>foo.item</code> with old data, <code>foo_d0ec0aa931eb46ecb241d1ca18b4c5b2.item</code>, AND <code>foo_2195e766591d4baf8ac63a1efa43526d.item</code></li>
<li>yep. two items on disk for the original foo.item, and a corrupted tree. Bad.</li>
</ul>
<h3 id="Pathing-bugs-in-the-API"><a href="#Pathing-bugs-in-the-API" class="headerlink" title="Pathing bugs in the API"></a>Pathing bugs in the API</h3><p>The Sitecore serialization pathing APIs are unfortunately pretty buggy. There are several methods that assume you’d never serialize an item anywhere outside the default serialization folder - and in fact throw an error if you try it. These methods are all static, and thus the only way to change their behavior is by decompiling them and using your own fixed copy of them. That’s not in the least suboptimal, and it’s quite intentional that Rainbow has zero dependency on the Sitecore serialization APIs.</p>
<p>Tired of hearing me rant about bugs? Me too, how about we talk about solving these problems instead!</p>
<h1 id="How-does-SFS-work"><a href="#How-does-SFS-work" class="headerlink" title="How does SFS work"></a>How does SFS work</h1><p>The SFS data store is capable of storing practically infinite item path depths, as long of an item name as you please, handling duplicate filenames in all cases, and writing to any path you please. SFS is based on the idea of a ‘solid’ tree, where every node with children must also contain the serialized parent, for example:</p>
<ul>
<li>given <code>/sitecore</code> as the root</li>
<li>you could serialize <code>/sitecore/foo</code></li>
<li>but you could not serialize <code>/sitecore/foo/bar</code> <em>without also serializing</em> <code>foo</code></li>
</ul>
<p>Sitecore serialization does allow for ‘sparse’ trees where you can have unserialized parents. The astute may be reading this and asking “wtf, do we have to serialize the whole database then?” </p>
<img src="/index.php/2015/08/Reinventing-the-Serialization-File-System-Rainbow-Preview-Part-2/silly.jpg" class="" title="Stop that, it" alt="s silly. Too bad this isn">

<p>SFS supports <em>relative trees</em> instead of a single monolithic tree that represents an entire database like Sitecore uses. For example:</p>
<ul>
<li>given <code>/sitecore/templates/User Defined</code> as the root of a tree</li>
<li>User Defined might be serialized as <code>c:\rainbows\User Defined\User Defined.yml</code></li>
</ul>
<p>See how Rainbow ignores the relative Sitecore path? This means for deep tree roots your filesystem path length can be much shorter because it doesn’t need empty parents, resulting in fewer over-length file paths. It also means that you can browse to the items with fewer clicks in Windows Explorer. Unicorn 3 also allows you to name your trees (which in Unicorn terms map to an <code>&lt;include&gt;</code> entry on your predicate), so your serialization folder might resemble:</p>
<pre><code> c:\rainbow
     Templates
         User Defined.yml
     Funny Giphys
         Animations.yml
     Old School Content\
         Home.yml
         Home
             About us.yml
</code></pre>
<p>Note how the tree root folder name need not match the root item name (though it does by default, but it’s pretty easy to have duplicate names doing that). In the above case the <code>c:\rainbow\templates</code> item might be rooted in Sitecore at <code>/sitecore/templates/User Defined</code>. <em>Note: the use of solid trees does preclude some kinds of exclusions, namely anything not path-based because other exclusions could result in a sparse tree.</em></p>
<h3 id="Long-Path-Handling"><a href="#Long-Path-Handling" class="headerlink" title="Long Path Handling"></a>Long Path Handling</h3><p>SFS handles long content paths by using <em>loopback paths</em>. These are similar in concept to Sitecore’s hashed paths, but unlike hash-paths they actually <em>transplant</em> any children of that path under the loopback path. The loopback paths are also named by the item ID of the parent of the items in the loopback. Let’s look at an example (with a contrived very short max path length):</p>
<ul>
<li>Given <code>c:\rainbow\root\some\rather\long\path\length\thing\parent.yml</code> (ID: 2195e766-591d-4baf-8ac6-3a1efa43526d)</li>
<li>Suppose that adding 3 characters to the end of “parent” makes the child path over-max-length. So if we add <code>loopchild</code> under parent,</li>
<li><code>c:\rainbow\root\2195e766591d4baf8ac63a1efa43526d\loopchild.yml</code> becomes the child’s path, based on the parent item’s ID</li>
<li>If we add <code>quux</code> under <code>loopchild</code>, it goes to <code>c:\rainbow\root\2195e766591d4baf8ac63a1efa43526d\loopchild\quux.yml</code> - under the same loopback, adding a level of human readability hash-paths lack</li>
</ul>
<p>Loopback paths may loop multiple times for extremely long path lengths. Loopbacks also handle the case where some children are short enough to live under the parent and others’ name puts it over the limit into a loopback.</p>
<h3 id="Duplicate-File-Name-Handling"><a href="#Duplicate-File-Name-Handling" class="headerlink" title="Duplicate File Name Handling"></a>Duplicate File Name Handling</h3><p>If you have items of the same name under the same parent in Sitecore, SFS uses a similar approach to Sitecore’s APIs with <code>item_id.yml</code> as the filename format. However SFS does a lot of <em>correctness verification</em> that Sitecore does not, because SFS generates the paths based on the filesystem and not Sitecore. For example, suppose you had two items of the same name and then <em>added different children to each</em>. SFS will actually resolve the path by evaluating down the filesystem paths until it finds the matching path regardless of parentage - and it returns <em>all</em> matches instead of whichever one it feels like. The case of writing items at different times is also handled; SFS checks existing same named items for any with the same ID and reuses the name. So you never get renames for no reason or corrupted trees.</p>
<p>This may sound like a lot of file reading. Yes, it can cause more file reads than Sitecore’s approach. However with a smart path to ID cache, and the ability to read <em>item metadata</em> (which in the case of YAML items means only reading the first 4 lines of the file, which is 3x or more faster than reading the whole thing), both dumping and syncing items from SFS is up to 50% faster than Unicorn 2 on the same items.</p>
<h3 id="Long-Item-Name-Handling"><a href="#Long-Item-Name-Handling" class="headerlink" title="Long Item Name Handling"></a>Long Item Name Handling</h3><p>Obscenely long item names are handled by simply <em>truncating them</em> before putting them on the filesystem. A setting controls the maximum name length. Parent items are properly disambiguated using ID suffixes if two differently named items truncate to the same short name. I serialized a whole Sitecore database with max filename length = 5 to test this. So many duplicate names then!</p>
<h3 id="Reliability"><a href="#Reliability" class="headerlink" title="Reliability"></a>Reliability</h3><p>SFS (and the YAML formatting pieces we talked about last time) has 95% code coverage, and all bugs that have been found so far are covered with additional tests.</p>
<h3 id="Hey-what-about-an-index-file-to-speed-up-querying"><a href="#Hey-what-about-an-index-file-to-speed-up-querying" class="headerlink" title="Hey, what about an index file to speed up querying?"></a>Hey, what about an index file to speed up querying?</h3><p>In fact Rainbow was originally designed to be a general purpose data store, where you could directly query an item by ID, path, template ID, or parent ID. It had in memory indexes that it would maintain, backed variously by a single global index file, and reading the headers of each serialized file. The indexes worked pretty well, in fact. But they had several major problems that caused me to scrap them:</p>
<ul>
<li>There’s no good way to maintain an index cache, because you may not be the only writer to the index file (e.g. you <code>git pull</code> someone else’s changes). <code>FileSystemWatcher</code> is not 100% reliable, and that would be a necessity to avoid data corruption, which is a big deal when you’re talking about serialization.</li>
<li>A centralized index file precludes the possibility of easily copying items between trees because the index entries would have to go with it</li>
<li>A filesystem logically organized for a computer and index, where items are stored by ID-based filenames, is nearly unintelligible to a human and merging becomes hairy, and commit errors due to not being able to see the item path easily would be possible</li>
</ul>
<h1 id="Can-I-have-it-yet"><a href="#Can-I-have-it-yet" class="headerlink" title="Can I have it yet?"></a>Can I have it yet?</h1><p>Why yes, yes you can. But…</p>
<img src="/index.php/2015/08/Reinventing-the-Serialization-File-System-Rainbow-Preview-Part-2/lumbergh.jpg" class="" title="Back up in your *** with the resurrection">

<p>…so if you could just go ahead and download the beta, that’d be great.</p>
<p>Rainbow and Unicorn 3 betas are currently available from NuGet (you’ll need to enable prerelease packages). For a fresh install it should be as simple as installing the Unicorn package - unless you want to hack around the Rainbow APIs, in which case Unicorn is not required. For upgrading from Unicorn 2, <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/wiki/Upgrading-to-Unicorn-3">there’s a doc for that</a>.</p>
<p>It’s vaguely stable, but hasn’t had extended testing in real life Sitecore development like a final release will have. It no doubt has some bugs. The bugs may be more than minor. Feel free to test it if that doesn’t scare you; <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow/issues/new">send me a ticket on GitHub</a> if you find issues. Now’s a great time for feature requests too!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2015/08/Reinventing-the-Serialization-File-System-Rainbow-Preview-Part-2/" data-id="ckrl9emy5003b98q76qn3bbul" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Rethinking-the-Sitecore-Serialization-Format-Unicorn-3-Preview-part-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2015/07/Rethinking-the-Sitecore-Serialization-Format-Unicorn-3-Preview-part-1/">Rethinking the Sitecore Serialization Format: Rainbow Preview, part 1</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2015/07/Rethinking-the-Sitecore-Serialization-Format-Unicorn-3-Preview-part-1/">
    <time datetime="2015-07-23T01:23:27.000Z" itemprop="datePublished">July 22, 2015</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Unicorn/">Unicorn</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>If you’ve worked with Sitecore in a team setting for any length of time, you’ve probably had to deal with item serialization. Item serialization is nearly a requirement to be effective when you need to share templates, renderings, placeholder settings, custom experience buttons, and all the other Sitecore items stored in the databases that are effectively <em>development artifacts</em>, as opposed to content. Being development artifacts, we want to keep them under source control so we can version them, develop feature branches with them, and deploy them using continuous integration to our shared Sitecore installations.</p>
<p>If you’ve dealt with Sitecore’s serialization format in a team environment for any length of time, you’ve probably started to realize some of its shortcomings. Because,</p>
<img src="/index.php/2015/07/Rethinking-the-Sitecore-Serialization-Format-Unicorn-3-Preview-part-1/onedoesnotserialize.jpg" class="" title="One does not simply serialize without merge conflicts">

<p>Let’s pick on multilist fields, for example. This is what a multilist looks like in SSF:</p>
<pre><code>----field----
field: &#123;E391B526-D0C5-439D-803E-17512EAE6222&#125;
name: Allowed Controls
key: allowed controls
content-length: 194

&#123;E11BDB3B-1436-4059-90F6-DE2EE52A4EB4&#125;|&#123;D9C54253-37FF-4D64-8894-5373D8799361&#125;|&#123;F118E540-CC75-4AA9-A62B-D6ED9E6F77E4&#125;|&#123;A813194F-32F4-4501-A430-6602ABF73535&#125;|&#123;2F4ADF0B-9633-4EE9-B339-8CA32E2C3293&#125;
</code></pre>
<p>Now let’s imagine using this in a team environment. Alice creates a new rendering, and needs to add it to placeholder settings so it can be used in Experience Editor. Meanwhile on another branch, Bob adds a different rendering he’s made to the same placeholder settings. What happens? <em>Merge conflict</em>. And not a simple, easy to solve conflict: one where a very long single line has to be merged by hand - because merging is line oriented. On top of that, you must not forget to <em>recalculate the content-length</em>. Oh joy.</p>
<p>Then let’s take a look at the data that’s stored. Do we need <code>key</code> to load the field? Do we need <code>name</code> even? Nope, though having a name around makes it easier to understand - we just don’t need two. Then how about that the format is endline specific - don’t leave home in Git without the special <code>.gitattributes</code> to leave those alone, or the files won’t be read by the Sitecore APIs.</p>
<p>Here’s another gremlin about serialization: it saves fields that aren’t important to <em>development artifacts</em> that are version controlled. Yes, I’m talking about you <code>__Revision</code>, <code>__Updated by</code> and <code>__Updated</code>. Certain Sitecore tools - like say the template editor - cause a ton of item saves and they are not picky about if any actual data fields have changed. This means that if I add a <code>Foo</code> field to my <code>Bar</code> template, the last updated on <code>Bar</code>, <code>Foo</code>, and every one of <code>Bar</code>‘s fields gets changed. Even if there is an actual data change, and the data change is auto-mergeable, you can still get conflicts on the statistical fields. <em>Welcome to annoying merge conflict city, folks!</em></p>
<img src="/index.php/2015/07/Rethinking-the-Sitecore-Serialization-Format-Unicorn-3-Preview-part-1/whatif.jpg" class="" title="What if I told you we could solve this">

<h2 id="Part-I-The-JSON-era"><a href="#Part-I-The-JSON-era" class="headerlink" title="Part I: The JSON era"></a>Part I: The JSON era</h2><p>I’ve been at this a while. Version 1 is largely on the junk pile. Why? JSON.</p>
<p>JSON seemed like an obvious candidate format: it’s quick to parse, mature, and easy as pie to implement with JSON.NET and a few POCOs. In fact, its performance is quite similar to ye olde <code>content-length</code> above. It was certainly a step up, and I was <a target="_blank" rel="noopener" href="https://github.com/hermanussen/sitecore.customserialization">not the only person</a> to think of this idea. I learned a lot and got many ideas from Robin’s prototype, not the least of which was that we should <em>reformat field values to make merging easier</em>.</p>
<p>Oddly enough it was the idea of field reformatting that made JSON an untenable format. The problem is that merging is line oriented - so we would want to reformat that multilist from the first example with one GUID per line such that merge tools could make sense of it. Well JSON does not allow literal newlines in data values, instead it uses the string literal <code>\r</code> and/or <code>\n</code>. Unhelpful - but it makes parsing really fast.</p>
<h2 id="Part-II-YAML-Ain’t-Markup-Language"><a href="#Part-II-YAML-Ain’t-Markup-Language" class="headerlink" title="Part II: YAML Ain’t Markup Language"></a>Part II: YAML Ain’t Markup Language</h2><p>With JSON in the bin, I started poking around for formats that had already been created which would support our needs. YAML (the acronym is the title of this section) fit the bill nicely. The design goals of <a target="_blank" rel="noopener" href="http://yaml.org/spec/1.2/2009-07-21/spec.html">YAML</a> are to be a more human readable superset of JSON for things like configuration files and object persistence. Allows multiple lines, human readable, allows lists and nesting - nice.</p>
<p>Well the downside is that because of the flexibility of the format, YAML parsers are on the order of 10-100x slower than JSON parsers. It was slooooow. But the good news is that the YAML-based serialization format I had designed was much, much simpler than the entire YAML specification. So I wrote my own reader and writer that supported only the subset of YAML that was necessary. It was fast. The format was easy to read and understand. It had the ability to add <em>field formatters</em> to make values mergeable (at present, for multilists and layout fields). I wanted to start using it pretty badly in real projects :)</p>
<p>So without further ado, here is the same item that we took the multilist from above, but in YAML:</p>
<pre><code>---
ID: 38ddd69e-fb0a-4970-926e-dfb0e5b9a5e1
Parent: 68e4c671-797d-4a89-8fa6-775926f1381d
Template: 5c547d4e-7111-4995-95b0-6b561751bf2e
Path: /sitecore/layout/Placeholder Settings/reductio/ad/absurdum
SharedFields:
- ID: 7256bdab-1fd2-49dd-b205-cb4873d2917c
  # Placeholder Key
  Value: heading
- ID: e391b526-d0c5-439d-803e-17512eae6222
  # Allowed Controls
  Type: TreelistEx
  Value: |
    &#123;E11BDB3B-1436-4059-90F6-DE2EE52A4EB4&#125;
    &#123;D9C54253-37FF-4D64-8894-5373D8799361&#125;
    &#123;F118E540-CC75-4AA9-A62B-D6ED9E6F77E4&#125;
    &#123;A813194F-32F4-4501-A430-6602ABF73535&#125;
    &#123;2F4ADF0B-9633-4EE9-B339-8CA32E2C3293&#125;
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: 25bed78c-4957-4165-998a-ca1b52f67497
      # __Created
      Value: 20100310T143300
    - ID: 52807595-0f8f-4b20-8d2a-cb71d28c6103
      # __Owner
      Value: sitecore\admin
    - ID: 5dd74568-4d4b-44c1-b513-0af5f4cda34f
      # __Created by
      Value: sitecore\admin
    - ID: 87871ff5-1965-46d6-884f-01d6a0b9c4c1
      # Description
      Value: &lt;p&gt;The heading of a page, above any content renderings.&lt;/p&gt;
</code></pre>
<p>Notice how the fields’ names - nonessential data - are in YAML comments. Present for humans to read, not necessary for the machine. The <code>Allowed Controls</code> TreelistEx field is also an example of the YAML multiline format, starting with the pipe and the data on a newline, indented further. YAML uses significant whitespace to define structure, making it easy to read and also not requiring hacks like <code>content-length</code> to efficiently parse.</p>
<p>You may notice that only the <code>Allowed Controls</code> field has a field type value. This is because the value was formatted with a <code>FieldFormatter</code>, so when deserializing the value it uses the type to figure out which formatter to “unformat” the value back into Sitecore with.</p>
<p>The way that languages are structured is also slightly different here: each language has a top level list item, but versions are all grouped hierarchically under their language. So in this format, language is a construct aside from “da-DK #1” like the Sitecore database uses.</p>
<p>We’ve also used field level ignores to not even store the constantly changing statistics fields (e.g. <code>__Updated</code>). This is optional, if you choose to do so, but it does lead to wonderfully compact files on disk.</p>
<p>The YAML format is also completely endline ignorant - it doesn’t care if it gets <code>\n</code> or <code>\r\n</code>.</p>
<h2 id="Yes-please"><a href="#Yes-please" class="headerlink" title="Yes, please?"></a>Yes, please?</h2><p>Well sorry - it’s not quite done yet, though the YAML part is pretty stable. The YAML format is a component of my upcoming <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow">Rainbow</a> library. Rainbow is essentially a modernized serialization API that aggressively improves both the serialization format <em>and</em> the storage hierarchy, plus providing deep item comparison capabilities.</p>
<p>Rainbow aims to only be an API and has no default configuration or frontend. It will be freely available to use.</p>
<p>I have several projects that I intend to use Rainbow for - maybe you can think of some uses too?</p>
<ul>
<li>Unicorn 3.0, being developed alongside it, will use Rainbow for storage, comparison, and formatting needs.</li>
<li>Rainbow for SPE will enable serializing and deserializing items in YAML using Sitecore Powershell Extensions</li>
</ul>
<p>At present, Rainbow is alpha-quality. I wouldn’t use it unless you want to get your hands dirty, and I might change APIs as needed.</p>
<p>In the next post of this series, I’ll go over thinking behind improvements to the standard storage hierarchy to enable infinite depth while still being human readable. But there are still some bugs to fix before I write that ;)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2015/07/Rethinking-the-Sitecore-Serialization-Format-Unicorn-3-Preview-part-1/" data-id="ckrl9emy4003998q73cwpc0ko" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Transparent-media-optimization-with-Dianoga-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2015/07/Transparent-media-optimization-with-Dianoga-2/">Transparent media optimization with Dianoga 2</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2015/07/Transparent-media-optimization-with-Dianoga-2/">
    <time datetime="2015-07-04T16:20:21.000Z" itemprop="datePublished">July 4, 2015</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Dianoga/">Dianoga</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>I’ve pushed a significant update to <a href="https://kamsar.net/index.php/2014/07/automatic-sitecore-image-optimization-with-dianoga/">Dianoga</a>, my framework to transparently optimize the size of media library images, including rescaled sizes.</p>
<p>My <a href="https://kamsar.net/index.php/2014/07/automatic-sitecore-image-optimization-with-dianoga/">original post on Dianoga 1.0</a> explains why you’d want to use it in detail, but as an overview how does saving 5-40% overall on image bandwidth sound? All you have to do is install a <a target="_blank" rel="noopener" href="http://www.nuget.org/packages/Dianoga">NuGet package</a> that adds one dll and one config file to your solution. That’s it. You can also find <a target="_blank" rel="noopener" href="https://github.com/kamsar/Dianoga/blob/master/README.md">documentation on GitHub</a>.</p>
<h2 id="What’s-new-in-2-0"><a href="#What’s-new-in-2-0" class="headerlink" title="What’s new in 2.0"></a>What’s new in 2.0</h2><p>Dianoga 2 is faster and more extensible. The key change is that media is now optimized asynchronously, resulting in a near-zero impact on site performance even for the first hit. Dianoga 1.0 ran its optimization in the <code>getMediaStream</code> pipeline, which meant it had to complete the optimization while the browser was waiting for the image. For a large header banner, this could be a couple seconds on slower hardware (for the first hit only). Dianoga 2 replaces the <code>MediaCache</code> and performs asynchronous optimization <em>after</em> the image has been cached. This does mean that the first hit receives unoptimized images, but subsequent requests after the cache has been optimized get the smaller version.</p>
<p>Extensibility has also been improved in Dianoga 2. Previously, there were a lot of hard-coded things such as the path to the optimization tools and the optimizers themselves. Now you can add and remove optimizers in the config (including adding your own, if you wanted say a PNG quantizer), and move the tools around if desired.</p>
<p>There was <a target="_blank" rel="noopener" href="https://github.com/kamsar/Dianoga/issues/1">a bug</a> in Dianoga 1.0 that resulted in the tools DLL becoming locked, which could cause problems with deployment tools. This has been fixed in 2.0 by dynamically loading and unloading at need. Thanks to <a target="_blank" rel="noopener" href="https://twitter.com/ullmark">Markus Ullmark</a> for the issue report.</p>
<h2 id="Upgrade"><a href="#Upgrade" class="headerlink" title="Upgrade"></a>Upgrade</h2><p>Upgrading from Dianoga 1.0 to 2.0 is fairly simple; upgrade the NuGet package. You can choose to overwrite your Dianoga.config file (recommended), or merge it with the latest in GitHub if you don’t want to.</p>
<p>Have fun!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2015/07/Transparent-media-optimization-with-Dianoga-2/" data-id="ckrl9emy4003798q7d2lfg6y8" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Sitecore-Azure-Role-Sizing-Guide" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2015/07/Sitecore-Azure-Role-Sizing-Guide/">Sitecore Azure Role Sizing Guide</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2015/07/Sitecore-Azure-Role-Sizing-Guide/">
    <time datetime="2015-07-03T02:44:20.000Z" itemprop="datePublished">July 2, 2015</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Sitecore/">Sitecore</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>It seems like everyone is hot to get Sitecore on <a target="_blank" rel="noopener" href="http://azure.microsoft.com/">Azure</a> these days, but there’s not a whole lot of guidance out there on how Sitecore scales effectively in an Azure environment. Since I get asked the “what size instances do we need?” or “how much will Azure cost us?” question a lot, I figured some testing was in order.</p>
<p>The environment I tested in is a real actual customer website on Sitecore 7.2 Update-4 (not yet launched but in late beta). The site has been relatively optimized with normal practices - namely, appropriate application of output caching and in-memory object caching. The site scores a B on <a target="_blank" rel="noopener" href="http://www.webpagetest.org/">WebPageTest</a> - due to things out of my control - and is in decent shape. We are deploying to Azure Cloud Services (<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Platform_as_a_service">PaaS</a>), using custom PowerShell scripting - <em>not</em> the Sitecore Azure module (we have had suboptimal experiences with the module). We’re using SQL Azure as the database backend, and the Azure Cache session provider. Note that the Azure Cache session is not supported for xDB (7.5/8) scenarios.</p>
<h2 id="The-Tests"><a href="#The-Tests" class="headerlink" title="The Tests"></a>The Tests</h2><p>I wanted to determine the effects of changing various cloud scaling options relative to real world performance, but I also didn’t want to spend days benchmarking. So I settled on two test scenarios:</p>
<ul>
<li>Frontend performance. This is a JMeter test that hits the site with 10,000 requests to the home page, with 1,000 threads at once. The idea is to beat the server into submission and see how it does.</li>
<li>Backend performance. I chose Lucene search index rebuilding, as that is a taxing process on both the database and server CPUs, and it conveniently reports how long it took to run. Note that you should probably be using Solr for any xDB scenarios or any search-heavy sites.</li>
</ul>
<p>These are not supposed to be ‘end of story’ benchmarks. There are no doubt many bones to pick with them, and they’re certainly not comprehensive. But they do paint a decent picture of overall scaling potential.</p>
<h2 id="Testing-Environment"><a href="#Testing-Environment" class="headerlink" title="Testing Environment"></a>Testing Environment</h2><p>The base testing environment consists of an Azure Cloud Service running two A3 (4-core, 7.5GB RAM, HDDs) web roles. The databases (core, master, web, analytics) are SQL Azure S3 instances running on a SQL Azure v12 (latest) server.</p>
<p>Several role variants were tested:</p>
<ul>
<li>2x A3 roles, which are 4-cores with 7GB RAM and HDD local storage (~$268/mo each)</li>
<li>2x D2 roles, which are 2-cores (D-series cores are ‘60% faster’ per Microsoft) 7GB RAM and SSD local storage (~$254/mo each)</li>
<li>2x D3 roles, 4-cores 14GB RAM and SSD local storage (~$509/mo each)</li>
<li>2x D4 roles, 8-cores 28GB RAM and SSD local storage (~$1018/mo each)</li>
</ul>
<p>In addition, I tested the effect of changing the SQL Azure sizes on the backend with the D4 roles. I did not test the frontend in these cases, because that seemed to scale well on the S3s already.</p>
<ul>
<li>S3 databases, which are 100DTU “standard” (~$150/mo each)</li>
<li>P1 databases, which are 125DTU “premium” (~$465/mo each)</li>
<li>P2 databases, which are 250DTU “premium” (~$930/mo each)</li>
</ul>
<h2 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h2><p>Our first set of tests are comparing the size of the web roles in Azure. It is quite likely that these results would also be loosely applicable to IaaS virtual machine deployments as well.</p>
<h3 id="Throughput"><a href="#Throughput" class="headerlink" title="Throughput"></a>Throughput</h3><img src="/index.php/2015/07/Sitecore-Azure-Role-Sizing-Guide/rps.png" class="" title="Throughput Graph">

<p>The throughput graph is about as expected: add more cores, get more scaling. The one surprise is that the D2 instance, with 4 total cores at a higher clock and SSD disk, is able to match the A3 with 8 total cores (D2 and A3 cost a similar amount). </p>
<p>Keep in mind that all of these were using the same SQL Azure S3 databases as the backend - for general frontend service, especially with output caching, Sitecore is extremely database-efficient and does not bottleneck on lower grade databases even with 16 cores serving. </p>
<p>Note that I strongly suspect the bandwidth between myself and Azure was the bottleneck on the D4 results, as I saw it burst up to more like 500 during the main portion of the test.</p>
<h3 id="Latency"><a href="#Latency" class="headerlink" title="Latency"></a>Latency</h3><img src="/index.php/2015/07/Sitecore-Azure-Role-Sizing-Guide/latency.png" class="" title="Latency Graph">

<p>Latency continues the interesting battle between A3 and D2. The A3 pulls out a minor - within margin of error - victory on average but the SSD of the D2 gives it a convincing performance consistency win with the 95% line over 1 second faster. Given that A3 and D2 cost a similar amount, it seems D2 would be a good choice for budget conscious hosting - but if you can afford Sitecore, you should probably stretch your licenses to more cores per instance.</p>
<p>The D3 is probably the ideal general purpose choice for your web roles. </p>
<p>The latency numbers on the monstrous 8-core D4 instances tell the tale that my 1,000 threads and puny 100Mb/s bandwidth were just making the servers laugh.</p>
<p>These graphs illustrate the latency consistency you gain from a D-series role with SSD:</p>
<img src="/index.php/2015/07/Sitecore-Azure-Role-Sizing-Guide/a3graph.png" class="" title="A3 Latency Graph">
<img src="/index.php/2015/07/Sitecore-Azure-Role-Sizing-Guide/d3graph.png" class="" title="D3 Latency Graph">

<p>These two graphs plot the latency over time during the JMeter test. You can see how the top one (A3) is much less consistent thanks to its HDDs, whereas the lower one (D3) is smoother, indicating fewer latency spikes. The latency decreases in the final stage of the test due to some JMeter threads having completed their 10-request run earlier than others, so less server load is in play.</p>
<h3 id="Bandwidth"><a href="#Bandwidth" class="headerlink" title="Bandwidth"></a>Bandwidth</h3><img src="/index.php/2015/07/Sitecore-Azure-Role-Sizing-Guide/bandwidth.png" class="" title="Bandwidth Graph">

<p>Bandwidth is another measure of how much data is being pushed out. Once again, the lesser gain than you might expect from D4 was due to my downstream connection becoming saturated as the monstrous servers <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=CTjolEUj00g">laughed</a>.</p>
<h3 id="Backend-Rebuild-all-indexes"><a href="#Backend-Rebuild-all-indexes" class="headerlink" title="Backend: Rebuild all indexes"></a>Backend: Rebuild all indexes</h3><p>For this test, I rebuilt the default sitecore_core_index, sitecore_master_index, and sitecore_web_index indices.</p>
<img src="/index.php/2015/07/Sitecore-Azure-Role-Sizing-Guide/backend.png" class="" title="Backend Graph">

<p>Here we see the limitations of the S3 databases creep in during our D4 testing. Up to D3 seems to be limited by CPU speed, but the D4 is actually slower until we both up the max index rebuild parallelism <em>and</em> go to P2 databases to feed the monstrous 8-core beast. </p>
<p>Note that with SQL Azure, the charge is per-db - so if you wanted to kit out core, master, and web on P2s you’d be paying near $3,000/month just for the DBs. At that point it might be worth considering using IaaS SQL or looking at the <a target="_blank" rel="noopener" href="https://azure.microsoft.com/en-us/documentation/articles/sql-database-elastic-pool/">Elastic Database Pools</a> to spread around the bursty load of many databases.</p>
<h2 id="Final-Words"><a href="#Final-Words" class="headerlink" title="Final Words"></a>Final Words</h2><p>Overall Sitecore is a very CPU-intensive application where you can generally get away with saving a few bucks on the databases in favor of more compute, especially in content delivery. As in most applications, SSDs make a significant performance improvement to the point where I would suggest Azure D3 instances for nearly all normal Sitecore in Azure deployments, unless you need <a target="_blank" rel="noopener" href="http://www.realultimatepower.net/">Real Ultimate Power</a> from a D4 - or for the truly ridiculous a 16-core D14 ;)</p>
<p>For general frontend scaling the SQL Azure S3 seems to be the best price/performance until you go past quad cores, or past two web roles (one would assume 4x D3 would be relatively similar to 2x D4). Once you have 16 cores serving the frontend, you’ll be bottlenecked below P2 databases at least for index rebuilding. Publishing probably has similar characteristics.</p>
<p>As always when designing for scale, the first step should be to optimize your code and caching. For example, before I did any caching optimizations I did the same JMeter test on the site. The A3s only put out 40 requests/sec - after output caching and tweaks, they did 144 requests/sec. That’s not to say the site was slow pre-optimization: <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Time_To_First_Byte">TTFB</a> was about 220ms without load. But once you add load, even small optimizations make a huge difference.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2015/07/Sitecore-Azure-Role-Sizing-Guide/" data-id="ckrl9emy3003598q75i14d2eg" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/blog/archives/index.php/page/4/">&amp;laquo; Prev</a><a class="page-number" href="/blog/archives/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/archives/index.php/page/3/">3</a><a class="page-number" href="/blog/archives/index.php/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/blog/archives/index.php/page/6/">6</a><a class="page-number" href="/blog/archives/index.php/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/blog/archives/index.php/page/11/">11</a><a class="extend next" rel="next" href="/blog/archives/index.php/page/6/">Next &amp;raquo;</a>
    </nav>
  
</section>
      
        <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul id="recent-post" class="no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/JavaScript/">JavaScript</a></p>
              <p class="item-title"><a href="/index.php/2021/07/Fun-with-async-generators-and-for-await/" class="title">Fun with async generators and for await</a></p>
              <p class="item-date"><time datetime="2021-07-26T23:30:51.000Z" itemprop="datePublished">July 26, 2021</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/Jamstack/">Jamstack</a></p>
              <p class="item-title"><a href="/index.php/2020/08/Deploying-multiple-Netlify-sites-from-one-Git-repository/" class="title">Deploying multiple Netlify sites from one monorepo</a></p>
              <p class="item-date"><time datetime="2020-08-21T03:30:32.000Z" itemprop="datePublished">August 20, 2020</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/JSS/">JSS</a></p>
              <p class="item-title"><a href="/index.php/2019/09/Running-JSS-headless-mode-in-containers-part-2-Build-containers/" class="title">Running JSS headless mode in containers part 2: Build containers</a></p>
              <p class="item-date"><time datetime="2019-09-16T02:14:04.000Z" itemprop="datePublished">September 15, 2019</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/JSS/">JSS</a></p>
              <p class="item-title"><a href="/index.php/2019/09/Running-JSS-headless-mode-in-containers-part-1/" class="title">Running JSS headless mode in containers, part 1</a></p>
              <p class="item-date"><time datetime="2019-09-08T19:00:36.000Z" itemprop="datePublished">September 8, 2019</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/C/">C#</a></p>
              <p class="item-title"><a href="/index.php/2019/05/Build-2019-All-the-things/" class="title">Build 2019: All the things</a></p>
              <p class="item-date"><time datetime="2019-05-10T23:01:11.000Z" itemprop="datePublished">May 10, 2019</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/index.php/category/April-1/">April 1</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Blade/">Blade</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Build-Scripts/">Build Scripts</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/C/">C#</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Dianoga/">Dianoga</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/JSS/">JSS</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Jamstack/">Jamstack</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/JavaScript/">JavaScript</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Node-js/">Node.js</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/">Sitecore</a><span class="category-list-count">39</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/Crypto/">Crypto</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/Lucene/">Lucene</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/MVC/">MVC</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/Search/">Search</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/xDB/">xDB</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Synthesis/">Synthesis</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Unicorn/">Unicorn</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/WebConsole/">WebConsole</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  
  <div id="toTop" class="fa fa-chevron-up"></div>
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <p>&copy; 2021 Kam Figy</p>
      <p><small>Opinions expressed on this blog are my own, and not necessarily those of my employer.</small></p>
     <p><small>This work is licensed under a <a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</small></p>
    </div>
  </div>
</footer>
    


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>




<script src="/js/script.js"></script>


  </div>
</body>
</html>