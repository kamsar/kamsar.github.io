<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Archives | Kam&#39;s Idea Log</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Kam&#39;s Idea Log">
<meta property="og:url" content="https://kamsar.net/blog/archives/index.php/page/2/index.html">
<meta property="og:site_name" content="Kam&#39;s Idea Log">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Kam Figy">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@kamsar">
  
    <link rel="alternative" href="/index.php/feed" title="Kam&#39;s Idea Log" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-62284328-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


<meta name="generator" content="Hexo 5.4.0"></head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo">
        <span class="site-title">Kam&#39;s Idea Log</span>
        <span class="subtitle">C#, Jamstack, and Shenanigans</span>
      </a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        <div class="profile" id="profile-nav">
          <a id="profile-anchor" href="javascript:;"><img class="avatar" src="https://www.gravatar.com/avatar/314826f5d569260f26ac9f26f9e38b86?s=40" srcset="https://www.gravatar.com/avatar/314826f5d569260f26ac9f26f9e38b86?s=80 2x" alt="omg the beard"><i class="fa fa-caret-down"></i></a>
        </div>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="sitesearch" value="https://kamsar.net"></form>
      </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
      
        <td><a class="main-nav-link" href="/">Home</a></td>
      
        <td><a class="main-nav-link" href="/blog/archives">Archives</a></td>
      
      <td>
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="https://kamsar.net"></form>
      </td>
      </tr>
    </table>
  </div>
  
  <div id="header-sub" class="header-sub header-inner">
    <div class="outer">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/index.php/category/April-1/">April 1</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Blade/">Blade</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Build-Scripts/">Build Scripts</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/C/">C#</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Dianoga/">Dianoga</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/JSS/">JSS</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Jamstack/">Jamstack</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/JavaScript/">JavaScript</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Node-js/">Node.js</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/">Sitecore</a><span class="category-list-count">39</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Synthesis/">Synthesis</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Unicorn/">Unicorn</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/WebConsole/">WebConsole</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>
  
</header>
    <div class="outer">
      <aside id="profile">
  <div class="inner profile-inner">
  	<div class="base-info profile-block">
		  <img id="avatar" src="https://www.gravatar.com/avatar/314826f5d569260f26ac9f26f9e38b86?s=128" srcset="https://www.gravatar.com/avatar/314826f5d569260f26ac9f26f9e38b86?s=256 2x" alt="#sitecorebeard">
      <h2 id="name">Kam Figy</h2>
      <h3 id="title">Principal Platform Architect at</h3>
      <a class="corp-logo" href="https://uniform.dev" target="_blank"><img src="/css/images/uniform-logo.svg" alt="Uniform" width="180"></a>
      <span id="location"><i class="fa fa-map-marker"></i>Vancouver, WA USA</span>
      <a id="follow" target="_blank" rel="noopener" href="https://twitter.com/kamsar">FOLLOW</a>
  	</div>
    <div class="contact-info profile-block">
      <table class="contact-list">
        <tr>
        
          <td><a target="_blank" rel="noopener" href="https://github.com/kamsar" title="github"><i class="fa fa-github"></i></a></td>
        
          <td><a target="_blank" rel="noopener" href="https://twitter.com/kamsar" title="twitter"><i class="fa fa-twitter"></i></a></td>
        
          <td><a href="/index.php/feed" title="rss"><i class="fa fa-rss"></i></a></td>
        
        </tr>
      </table>
    </div>
    <div class="article-info profile-block bio">
      <h2>About</h2>
      <p>Kam has been making websites since 1996, starting out with a 14.4k modem on a <a href="https://en.wikipedia.org/wiki/Party_line_(telephony)" target="_blank">party line</a> in the Hawaiian rainforest. A veteran developer, architect, and speaker, he's been working in the content management space for well over a decade. Kam is the author of <a href="https://github.com/kamsar/Unicorn" target="_blank">Unicorn</a>, <a href="https://github.com/kamsar/Synthesis" target="_blank">Synthesis</a>, <a href="https://github.com/kamsar/Dianoga" target="_blank">Dianoga</a>, and several other open-source libraries.</p>
    </div>
  </div>
</aside>
      <section id="main">
  
  
    
    
      
        <div class="archive-year-wrap">
          <i class="fa fa-calendar"></i>
          <a href="/archives/2017" class="archive-year">2017</a>
        </div>
    
    <article id="post-I-m-a-Sitecorian" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2017/10/I-m-a-Sitecorian/">I&#39;m a Sitecorian!</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2017/10/I-m-a-Sitecorian/">
    <time datetime="2017-10-23T20:01:58.000Z" itemprop="datePublished">October 23, 2017</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Sitecore/">Sitecore</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>I am excited to announce that I am joining the Sitecore product team as a Platform Architect! </p>
<p><img src="https://media.giphy.com/media/1jnyRP4DorCh2/giphy.gif" alt="wth"></p>
<p>Now normally this wouldn’t merit a whole blog post, and we’d just let the recruiters find out about it on LinkedIn. But I’m sure many folks’ next question would be around all the libraries that I maintain and what will happen to them. So let’s address the elephant in the room:</p>
<p><img src="https://media.giphy.com/media/y63H09ZvHJdf2/giphy.gif" alt="not a thing"></p>
<h2 id="Unicorn-Rainbow-and-Dianoga"><a href="#Unicorn-Rainbow-and-Dianoga" class="headerlink" title="Unicorn, Rainbow, and Dianoga"></a><a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn">Unicorn</a>, <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow">Rainbow</a>, and <a target="_blank" rel="noopener" href="https://github.com/kamsar/Dianoga">Dianoga</a></h2><p>These will continue exactly as they are today as independent, community driven projects. I will still be the maintainer. The license will remain MIT.</p>
<p>This also includes the dependency libraries that these projects use (e.g. <a target="_blank" rel="noopener" href="https://github.com/kamsar/Configy">Configy</a>, <a target="_blank" rel="noopener" href="https://github.com/kamsar/Kamsar.WebConsole">WebConsole</a>, <a target="_blank" rel="noopener" href="https://github.com/kamsar/MicroCHAP">MicroCHAP</a>).</p>
<h2 id="Synthesis-amp-Leprechaun"><a href="#Synthesis-amp-Leprechaun" class="headerlink" title="Synthesis &amp; Leprechaun"></a><a target="_blank" rel="noopener" href="https://github.com/kamsar/Synthesis">Synthesis</a> &amp; <a target="_blank" rel="noopener" href="https://github.com/kamsar/Leprechaun">Leprechaun</a></h2><p>Ok hold up: let’s first define what Leprechaun <em>is</em> because I haven’t publicly spoken about it yet. It’s a stable command-line code generator that works from Rainbow serialized items. Kinda like the T4 templates that a lot of people use except that it’s better because:</p>
<ul>
<li>Uses Roslyn and C# Scripting, so it can run outside Visual Studio (e.g. on a CI server)</li>
<li>Ridiculously faster than T4</li>
<li>Has a watch mode that provides instant regeneration when saving templates in Sitecore</li>
<li>Uses the same configuration system as Unicorn does, so it’s familiar and simple to configure</li>
</ul>
<p>Leprechaun is currently working in production on a couple sites, but does not have complete documentation so it may require a bit more spelunking to use. Currently it supports Synthesis out of the box, but it’s easy to add or change code generation templates.</p>
<p>Ok back to what’s happening to these projects. For the last year or so it’s been difficult to come up with the time and inclination to give Synthesis and Leprechaun the love they deserve. In order to get them that love, I am ceding maintainership to the excellent <a target="_blank" rel="noopener" href="https://twitter.com/bllipson">Ben Lipson</a>. Ben is talented developer and Sitecore MVP with a lot of good ideas about where to take these tools. He’ll do a great job.</p>
<p>Aside from transferring the repositories to Ben, nothing else is changing.</p>
<h2 id="Will-you-be-disappearing-from-the-community"><a href="#Will-you-be-disappearing-from-the-community" class="headerlink" title="Will you be disappearing from the community?"></a>Will you be disappearing from the community?</h2><p><img src="https://media.giphy.com/media/O9BPkYr89lK2A/giphy.gif" alt="nope"></p>
<p>No. <code>#venting</code> 4lyfe.</p>
<h2 id="What-will-you-be-working-on-at-Sitecore"><a href="#What-will-you-be-working-on-at-Sitecore" class="headerlink" title="What will you be working on at Sitecore?"></a>What will you be working on at Sitecore?</h2><p>I’ll be on Team X, led by the illustrious <a target="_blank" rel="noopener" href="https://twitter.com/alexshyba">Alex Shyba</a>. In other words, if I told you I’d have to kill you.</p>
<p><img src="https://media.giphy.com/media/u4DnvVypp0q8U/giphy.gif" alt="actually it&#39;s JSS"></p>
<h2 id="giphy-magic8ball-quot-Will-this-be-awesome-quot"><a href="#giphy-magic8ball-quot-Will-this-be-awesome-quot" class="headerlink" title="/giphy #magic8ball &quot;Will this be awesome?&quot;"></a><code>/giphy #magic8ball &quot;Will this be awesome?&quot;</code></h2><p><img src="https://media.giphy.com/media/3o7abB06u9bNzA8lu8/giphy.gif" alt="yes"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2017/10/I-m-a-Sitecorian/" data-id="ckrl9emym005398q78sug7lyt" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Quickly-add-SSL-to-Solr" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2017/10/Quickly-add-SSL-to-Solr/">Quickly add SSL to Solr</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2017/10/Quickly-add-SSL-to-Solr/">
    <time datetime="2017-10-23T15:20:39.000Z" itemprop="datePublished">October 23, 2017</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Sitecore/">Sitecore</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>There have been several people recently who I’ve seen having trouble setting up SSL for their Solr in order to use it with Sitecore 9. So, I present the following gist to you. It’s designed to automate the complete setup process of adding SSL to Solr with a self-signed certificate, and trusting that self-signed certificate. For production setups with a real certificate, it should be quite easy to modify.</p>
<p>It’s been tested on standalone as well as Bitnami Solr. The script requires Windows 10 to use the <code>Import-PfxCertificate</code> cmdlet; if you don’t have that you can remove the trust scripting and do it manually.</p>
<script src="//gist.github.com/c3c8322c1ec40eac64c7dd546e5124de.js"></script>

<p><img src="https://media.giphy.com/media/IB9foBA4PVkKA/giphy.gif" alt="giphy"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2017/10/Quickly-add-SSL-to-Solr/" data-id="ckrl9emyn005898q7cchk9vyk" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-All-about-xConnect-Security" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2017/10/All-about-xConnect-Security/">All about xConnect Security</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2017/10/All-about-xConnect-Security/">
    <time datetime="2017-10-22T20:57:18.000Z" itemprop="datePublished">October 22, 2017</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Sitecore/">Sitecore</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Sitecore 9 introduces the new xConnect server to the ecosystem. xConnect is an abstracted service layer that Sitecore uses for all its analytics and marketing automation features. If you’re using Sitecore XP (aka xDB), you’ll need an xConnect server if you upgrade to Sitecore 9.</p>
<p>xConnect is noteworthy because it introduces client certificate authentication for the Sitecore XP server to communicate with xConnect. Certificates are a complex subject, and can fail in any number of less than helpful ways. This post aims to help you understand how certificates work in Sitecore 9, and provide you some tools to diagnose what’s wrong when they are not working right. </p>
<h2 id="What-is-TLS"><a href="#What-is-TLS" class="headerlink" title="What is TLS?"></a>What is TLS?</h2><p>In order to understand how xConnect works, it’s important to understand what’s going on: <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Transport_Layer_Security">Transport Layer Security</a> (TLS). You may also think of this as “SSL” or “HTTPS.”</p>
<p>TLS is a protocol for establishing secure encrypted connections between a <em>server</em> and a <em>client</em>. The key aspect of TLS is that the client and server can securely exchange encryption keys in such a way that they cannot be observed by malicious parties that may be watching the exchange.</p>
<h2 id="Asymmetric-vs-Symmetric-Encryption"><a href="#Asymmetric-vs-Symmetric-Encryption" class="headerlink" title="Asymmetric vs Symmetric Encryption"></a>Asymmetric vs Symmetric Encryption</h2><p>To understand how TLS works, it’s important to understand the distinction between Asymmetric (also called Public Key) Encryption, and Symmetric Encryption.</p>
<p>If you ever made secret codes as a kid, you’ve probably used <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Symmetric-key_algorithm"><em>symmetric encryption</em></a>. This is where the sender and receiver both need to know a key to decrypt the message, for example a simple <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Caesar_cipher">shift cipher</a> where <code>D</code> = <code>A</code>, <code>E</code> = <code>B</code>, and so forth. Julius Caesar famously sent secret messages by shifting letters three places forward like this. Symmetric encryption does have one major downfall, however: posession of the secret key lets you read any encrypted message even if not the intended recipient.</p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Public-key_cryptography">Asymmetric encryption</a> on the other hand uses two different keys: a <em>public key</em> and a <em>private key</em>. The public key can be shared with anyone without compromising anything. However a client can use the public key to encrypt a message in such a way that it can only be decrypted <em>with the server’s private key</em>. In this way, you can receive private encrypted messages from clients you don’t share any secrets with - but they can still send the server private messages.</p>
<p>TLS uses <em>asymmetric encryption</em> to transfer an encryption key for <em>symmetric encryption</em>, which is used for ongoing data transfer over the encrypted connection. This is done because asymmetric encryption is much much slower than symmetric.</p>
<p>It’s important to understand the difference between public and private keys when you set up Sitecore 9, because they need to be deployed to different servers in your infrastructure. A <em>certificate</em> generally includes both a public and private key, however it can also include only a public key.</p>
<h2 id="xConnect-Setup"><a href="#xConnect-Setup" class="headerlink" title="xConnect Setup"></a>xConnect Setup</h2><p>xConnect uses <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Mutual_authentication">mutual authentication</a> to secure the connections between it and the Sitecore XP server. This is accomplished using <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Transport_Layer_Security#Client-authenticated_TLS_handshake">TLS client certificates</a>.</p>
<p>If you’ve worked with SSL certificates before, this is a stronger form of SSL where not only does the client have to trust the server, but the server also has to trust a second certificate issued to the client. In this case, the client is the Sitecore XP server, and the server is the xConnect server. Let’s take a look at how this works:</p>
<h2 id="SSL-Server-Certificate-Negotiation"><a href="#SSL-Server-Certificate-Negotiation" class="headerlink" title="SSL Server Certificate Negotiation"></a>SSL Server Certificate Negotiation</h2><p>All SSL connections go through this process, whether xConnect or otherwise. In a standard Sitecore 9 XP installation, the xConnect server will have the <em>server certificate</em> installed. The Sitecore XP server will only have a server certificate if access to Sitecore itself, e.g. for administration, is done via SSL (in which case it will likely be a separate server certificate from xConnect’s).</p>
<ol>
<li>Client prepares to make a HTTPS request (e.g. you ask for <code>https://xconnect</code>)</li>
<li>Client sends a <em>ClientHello</em> message to the server. This proposes encryption standards, among other things.</li>
<li>The server replies with a <em>ServerHello</em> message back to the client. This includes the server’s <em>public key</em>, and the encryption standards that the server has selected from what the client proposed in the <em>ClientHello</em>.</li>
<li>The client <em>validates</em> the server certificate (e.g. must have correct domain and trusted issuer)</li>
<li>A symmetric encryption key is generated and exchanged using the server’s public key</li>
<li>Now that an encrypted connection is established, a normal HTTP request is sent over the encrypted channel</li>
</ol>
<h3 id="What-can-go-wrong-with-server-certificate-negotiation"><a href="#What-can-go-wrong-with-server-certificate-negotiation" class="headerlink" title="What can go wrong with server certificate negotiation"></a>What can go wrong with server certificate negotiation</h3><p>The most common issues are domain mismatches and untrusted certificates. Generally you can diagnose issues with server certificates using a web browser - request the site over HTTPS and review the error shown in the browser. Make sure you request the xConnect server URL, <strong>not</strong> the Sitecore XP URL if you are diagnosing an xConnect connectivity issue.</p>
<h4 id="Domain-Mismatches"><a href="#Domain-Mismatches" class="headerlink" title="Domain Mismatches"></a>Domain Mismatches</h4><p>A domain mismatch occurs when a certificate’s domain does not match the domain being requested. For example, a certificate issued to <code>sitecore.net</code> will fail this validation if the site you’re requesting is <code>https://foo.local</code>. Certificates may also be issued using <em>wildcards</em> (e.g. <code>*.sitecore.net</code>). Note that wildcards apply to one level of subdomains only - so in the previous example <code>sitecore.net</code> or <code>foo.sitecore.net</code> would be valid, but <code>bar.foo.sitecore.net</code> would <em>not</em> be.</p>
<p>Domain matching is done based on the host header the server receives. For example if the xConnect server is <code>https://xconnect</code> but can also be accessed via <code>https://127.0.0.1</code>, the certificate will be invalid if the IP address is used because the certificate was not issued for <code>127.0.0.1</code>.</p>
<p>If you have a domain mismatch issue, you will need to either get a new certificate (and update the xConnect IIS site(s) to use the new certificate) or change the domain for xConnect to one that is valid for the certificate.</p>
<h4 id="Untrusted-Certificates"><a href="#Untrusted-Certificates" class="headerlink" title="Untrusted Certificates"></a>Untrusted Certificates</h4><p>To understand trust issues, it’s important to understand how certificates are issued. Certificates are issued by other certificates.</p>
<img src="/index.php/2017/10/All-about-xConnect-Security/cert-issuer.jpg" class="">

<p>In fact, certificates can be issued in <em>chains</em> (Xzibit would definitely approve). Trust issues occur when the certificate that issued the <em>server</em> certificate is not considered to be trusted by the <em>client</em>. On Windows, trust is established by being included in the <em>Trusted Root Certification Authorities</em> in the machine certificates:</p>
<img src="/index.php/2017/10/All-about-xConnect-Security/trusted-certs.png" class="">

<p>Note that to trust a certificate, only the <em>public key</em> for the server certificate must be imported here. If you’re using self-signed certificates that issued themselves - like <code>localhost</code> in the screenshot - you can add the certificate itself to the trusted root certificates by exporting it and reimporting it into the root certificates. If using a commercially issued certificate, that certification authority’s root certificates must be added to the trusted root - in most cases, they are already present.</p>
<h4 id="More-esoteric-errors"><a href="#More-esoteric-errors" class="headerlink" title="More esoteric errors"></a>More esoteric errors</h4><p>There are some less common issues that can also cause server certificate negotiation errors. Servers will be commonly secured against supporting vulnerable <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/RC4">ciphers</a>, <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/SHA-1">hash algorithms</a> or <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/POODLE">SSL protocol versions</a>. You might have heard of Heartbleed or POODLE vulnerabilities, or had to support TLS 1.2 if working with some web APIs such as SalesForce. This is a good idea, but if the server and client cannot mutually agree on a supported cipher, hash, and protocol version the connection will fail. If the certificate is trusted and has the correct domain, this would be the next thing to check.</p>
<p>If you’ve never heard of this before, you can secure your IIS servers using a tool like <a target="_blank" rel="noopener" href="https://www.nartac.com/Products/IISCrypto">IISCrypto</a>. Go do it now, this post will wait.</p>
<p>Note that the .NET HTTP client with framework versions prior to 4.6.2 defaults to only supporting TLS up to 1.1. Many modern security scripts will disable all TLS protocol versions except for 1.2, which will cause HTTP requests from clients with earlier versions of the .NET framework installed to fail.</p>
<h2 id="SSL-Client-Certificate-Negotiation"><a href="#SSL-Client-Certificate-Negotiation" class="headerlink" title="SSL Client Certificate Negotiation"></a>SSL Client Certificate Negotiation</h2><p>Hopefully now you have a decent idea of how <em>server</em> certificates work. But xConnect also uses <em>client certificates</em>. A client certificate enables <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Mutual_authentication"><em>mutual authentication</em></a>. With only a server certificate, the client must decide to trust the server but the server has no way to know if it should trust the client. Enter client certificates.</p>
<p>A client certificate is essentially the opposite of the server certificate. When using a client certificate, the negotiation works similarly to the server certificate, except that when the server sends the <code>ServerHello</code> (#3 above) it requests a client certificate in addition to sending its public key. The client then sends the public key of its <em>client certificate</em> back to the server - and then <em>the server decides whether it should trust the client certificate</em>.</p>
<p>If the client certificate is not trusted, it is rejected. The rules for validating a client certificate are up to the server and do not necessarily follow the same validation rules as a server certificate on the client. In the case of xConnect:</p>
<ul>
<li>The domain/subject on the client certificate does not seem to matter to xConnect</li>
<li>The trusting of the certificate is done using the <em>thumbprint</em> of the certificate (a hash of the certficate which uniquely identifies it). Note that the thumbprint will change when an expired certificate is renewed, so you will need to reconfigure xConnect after renewing a client certificate so that it trusts the newer thumbprint.</li>
<li>The xConnect server must trust the issuer of the client certificate</li>
</ul>
<h3 id="What-can-go-wrong-with-client-certificate-negotiation"><a href="#What-can-go-wrong-with-client-certificate-negotiation" class="headerlink" title="What can go wrong with client certificate negotiation"></a>What can go wrong with client certificate negotiation</h3><p>There are a lot of things that can go wrong with the client certificate, moreso than the server certificate. When troubleshooting, make your first step the Sitecore XP logs - they generally have some basic information about a bad client cert.</p>
<h4 id="If-you’re-receiving-HTTP-4xx-responses"><a href="#If-you’re-receiving-HTTP-4xx-responses" class="headerlink" title="If you’re receiving HTTP 4xx responses"></a>If you’re receiving HTTP 4xx responses</h4><p>Chances are your client certificate validation failed. This could mean:</p>
<ul>
<li>The client certificate is not installed on both the Sitecore XP server and the xConnect server (the xConnect server would only need the public key)</li>
<li>The client certificate is not considered trusted on the xConnect server</li>
<li>The certificate <em>thumbprint</em> configured in the xConnect server’s <code>App_Config\ConnectionStrings.config</code> is missing or incorrect. Note that the thumbprint must be all uppercase with no spaces or colons. If copied from certificate manager, an unprintable character might prefix the thumbprint - check for a hidden character there.</li>
<li>The certificate <em>location</em> configured in the xConnect server’s <code>App_Config\ConnectionStrings.config</code> is incorrect. Normally the certificate should be stored in local machine certificates and have a connection string similar to <code>StoreName=My;StoreLocation=LocalMachine;FindType=FindByThumbprint;FindValue=THUMBPRINTVALUE</code>.</li>
</ul>
<h4 id="“The-certificate-was-not-found”"><a href="#“The-certificate-was-not-found”" class="headerlink" title="“The certificate was not found”"></a>“The certificate was not found”</h4><p>This indicates one of two things:</p>
<ul>
<li>The <em>thumbprint</em> is incorrect in the Sitecore XP server’s <code>App_Config\ConnectionStrings.config</code> file. Note that the thumbprint must be all uppercase with no spaces or colons. If copied from certificate manager, an unprintable character might prefix the thumbprint - check for a hidden character there.</li>
<li>The certificate <em>location</em> configured in the Sitecore XP server’s <code>App_Config\ConnectionStrings.config</code> is incorrect. Normally the certificate should be stored in local machine certificates and have a connection string similar to <code>StoreName=My;StoreLocation=LocalMachine;FindType=FindByThumbprint;FindValue=THUMBPRINTVALUE</code>.</li>
</ul>
<h4 id="System-Net-WebException-The-request-was-aborted-Could-not-create-SSL-TLS-secure-channel"><a href="#System-Net-WebException-The-request-was-aborted-Could-not-create-SSL-TLS-secure-channel" class="headerlink" title="System.Net.WebException: The request was aborted: Could not create SSL/TLS secure channel."></a>System.Net.WebException: The request was aborted: Could not create SSL/TLS secure channel.</h4><p><em>As long as the server certificate is valid</em>, this message is most likely that the Sitecore XP server’s IIS app pool user account does not have read access to the client certificate’s private key. This access is needed so that the Sitecore XP server can encrypt communications using its client certificate.</p>
<p>To remedy this issue, open the local machine certificates (“Manage computer certificates” in a start menu search) on the Sitecore XP server. Find the client certificate (normally under <code>Personal\Certificates</code>). Right click it, choose <code>All Tasks</code>, then <code>Manage Private Keys...</code>. You should get a security assignment window like this:</p>
<img src="/index.php/2017/10/All-about-xConnect-Security/pkey-security.png" class="">

<p>Next, add your IIS app pool user to the ACLs and grant it <code>Read</code> permissions (as above). Remember if you’re using AppPoolIdentity (you should be, unless using a domain account for windows auth to SQL), you must select the account by choosing <code>Local Computer</code> as the search location, and enter <code>IIS APPPOOL\MyAppPoolsName</code> as the account name to find.</p>
<p>Still having issues? Well, you can also use the security audit log to find out which account is failing to get access, then add that account in the key ACLs above:</p>
<img src="/index.php/2017/10/All-about-xConnect-Security/key-security-audit-failure.png" class="">

<h2 id="Local-Development-Tip"><a href="#Local-Development-Tip" class="headerlink" title="Local Development Tip"></a>Local Development Tip</h2><p>If you work at a Sitecore partner and will have multiple copies of Sitecore 9 running locally, this can cause issues if you issue a dedicated SSL server certificate to each site. This is because a given TCP port (e.g. 443, the default) can only have one SSL certificate bound to it. This precludes having multiple Sitecore 9 instances running together locally <em>unless they share the same SSL certificate</em>.</p>
<p>Wildcard certificates are perfect for this job. As long as you use the same top level suffix for all your dev sites (e.g. <code>*.local.dev</code>), you can use the same wildcard certificate for your server certificate for all dev sites. Note that IIS’ self-signed certificate generator will not create a wildcard certificate for you. You’ll have to use something else, like <a target="_blank" rel="noopener" href="https://technet.microsoft.com/en-us/itpro/powershell/windows/pkiclient/new-selfsignedcertificate">New-SelfSignedCertificate</a>, to create one.</p>
<p>Important note: You must issue a wildcard for at least two segments of domain for it to be trusted. For example <code>*.dev</code> is bad, but <code>*.local.dev</code> is good.</p>
<p>Note that <em>client</em> certificates should be unique on each site, only the server certificate should be shared.</p>
<p>In the release version of Sitecore 9, you can also disable the requirement to use encryption with xConnect which can bypass a lot of debugging. Do not do this in production or else a herd of elephants will destroy you.</p>
<h2 id="Advanced-Debugging-with-Wireshark"><a href="#Advanced-Debugging-with-Wireshark" class="headerlink" title="Advanced Debugging with Wireshark"></a>Advanced Debugging with Wireshark</h2><p>It’s possible to watch the SSL negotiation at a TCP/IP level using a network monitor such as <a target="_blank" rel="noopener" href="https://www.wireshark.org/">Wireshark</a>. This can provide insights on why your setup is failing when error messages are less than optimal. For example I spent a couple days diagnosing what turned out to be private key security issues. I figured this out by using Wireshark and observing that the client was never sending its client certificate after the server requested it, and figuring out why that was.</p>
<p>To use Wireshark to watch SSL traffic, you’ll have to set it up to decrypt traffic. <a target="_blank" rel="noopener" href="https://blogs.technet.microsoft.com/nettracer/2013/10/12/decrypting-ssltls-sessions-with-wireshark-reloaded/">This guide</a> walks you through setting up decryption on Windows with an exported private key.</p>
<p>If you’re tracing local dev traffic (e.g. from <code>localhost</code> to <code>localhost</code>, including using your machine’s DNS name) Wireshark will not capture that unless you install <a target="_blank" rel="noopener" href="https://nmap.org/npcap/">npcap</a> instead of the default <code>pcap</code> packet capture software. Once <code>npcap</code> is installed, tell Wireshark to bind to the <code>Npcap Loopback Adapter</code> to see local traffic.</p>
<p>Here is a screenshot of the Wireshark capture where I diagnosed the client certificate security issue:</p>
<img src="/index.php/2017/10/All-about-xConnect-Security/wireshark-trace.png" class="">

<h2 id="Good-luck"><a href="#Good-luck" class="headerlink" title="Good luck!"></a>Good luck!</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2017/10/All-about-xConnect-Security/" data-id="ckrl9emz0006698q72frf3uca" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Where-to-find-Sitecore-documentation" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2017/10/Where-to-find-Sitecore-documentation/">Where to find Sitecore documentation</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2017/10/Where-to-find-Sitecore-documentation/">
    <time datetime="2017-10-22T19:29:29.000Z" itemprop="datePublished">October 22, 2017</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Sitecore/">Sitecore</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <img src="/index.php/2017/10/Where-to-find-Sitecore-documentation/keep-calm-and-rtfm.jpg" class="">

<p>The land of Sitecore documentation is becoming a bit crowded these days. While at Symposium, I heard some people say they didn’t know how to keep up on new documentation - so here’s what I know. No doubt I missed some resources too, but these are the ones I usually use and follow.</p>
<h1 id="Official-Docs"><a href="#Official-Docs" class="headerlink" title="Official Docs"></a>Official Docs</h1><h2 id="Sitecore-Doc-Site"><a href="#Sitecore-Doc-Site" class="headerlink" title="Sitecore Doc Site"></a><a target="_blank" rel="noopener" href="https://doc.sitecore.net/">Sitecore Doc Site</a></h2><p>This is the main place to find documentation for Sitecore, as well as Sitecore modules. It has a handy <a target="_blank" rel="noopener" href="https://doc.sitecore.net/~/link.aspx?_id=C12C95F2683A4AF98BABA504B4701DD7&_z=z">RSS feed</a> of updated articles you should subscribe to.</p>
<p>Unfortunately the RSS feed is not entirely complete due to documentation microsites being proxied in under the main doc site (for example <a target="_blank" rel="noopener" href="http://commercesdn.sitecore.net/SitecoreCommerce/UsersGuide/en-us/index.html">Commerce</a> and the <a target="_blank" rel="noopener" href="https://doc.sitecore.net/developers/scaling-guide/">v9 Scaling Guide</a>). These statically generated sites generally do not provide their own RSS feeds, and are thus harder to track updates to.</p>
<h2 id="Sitecore-Knowledge-Base"><a href="#Sitecore-Knowledge-Base" class="headerlink" title="Sitecore Knowledge Base"></a><a target="_blank" rel="noopener" href="https://kb.sitecore.net/">Sitecore Knowledge Base</a></h2><p>The Sitecore KB lists known issues, support resolutions, security bulletins, and other support information. Like the main doc site, it has its own <a target="_blank" rel="noopener" href="https://kb.sitecore.net/en/Articles_RSS_Feed.aspx">RSS feed</a> of updated articles that is absolutely worth subscribing to.</p>
<h2 id="Sitecore-Helix-Docs"><a href="#Sitecore-Helix-Docs" class="headerlink" title="Sitecore Helix Docs"></a><a target="_blank" rel="noopener" href="http://helix.sitecore.net/">Sitecore Helix Docs</a></h2><p>Sitecore’s official architecture guidance has its own website. Unfortunately, no RSS feed of updates.</p>
<h2 id="Sitecore-JSS-Docs"><a href="#Sitecore-JSS-Docs" class="headerlink" title="Sitecore JSS Docs"></a><a target="_blank" rel="noopener" href="https://jss.sitecore.net/">Sitecore JSS Docs</a></h2><p>The JavaScript Services module has its own separate documentation site. Unfortunately, no RSS feed of updates.</p>
<h2 id="Sitecore-Dev-Site"><a href="#Sitecore-Dev-Site" class="headerlink" title="Sitecore Dev Site"></a><a target="_blank" rel="noopener" href="https://dev.sitecore.net/">Sitecore Dev Site</a></h2><p>Where to go to actually download Sitecore releases and official modules such as SXA and PXM. There’s no RSS feed of new releases and updates, unfortunately.</p>
<h1 id="Community-run-Docs"><a href="#Community-run-Docs" class="headerlink" title="Community-run Docs"></a>Community-run Docs</h1><h2 id="Sitecore-Blog-Feed"><a href="#Sitecore-Blog-Feed" class="headerlink" title="Sitecore Blog Feed"></a><a target="_blank" rel="noopener" href="http://feeds.sitecore.net/">Sitecore Blog Feed</a></h2><p>A Sitecore-run blog aggregator that serves up a fresh helping of most major Sitecore blogs. Worth subscribing to via its <a target="_blank" rel="noopener" href="http://feeds.sitecore.net/Feed/LatestPosts">RSS feed</a>.</p>
<h2 id="Sitecore-StackExchange"><a href="#Sitecore-StackExchange" class="headerlink" title="Sitecore StackExchange"></a><a target="_blank" rel="noopener" href="https://sitecore.stackexchange.com/">Sitecore StackExchange</a></h2><p>A community-driven Q&amp;A site that’s part of <a target="_blank" rel="noopener" href="https://stackexchange.com/">StackExchange</a>. If you have a question about Sitecore, there are many highly active members who are happy to help here.</p>
<h2 id="Sitecore-Slack"><a href="#Sitecore-Slack" class="headerlink" title="Sitecore Slack"></a><a target="_blank" rel="noopener" href="https://www.akshaysura.com/2015/10/27/how-to-join-sitecore-slack-community-chat/">Sitecore Slack</a></h2><p><a target="_blank" rel="noopener" href="https://slack.com/">Slack</a> is a group messaging/discussion tool. The Sitecore Community Slack group has over 2,700 Sitecore developers with very active participation. If you do Sitecore, you should be here.</p>
<h2 id="Unofficial-Sitecore-Training"><a href="#Unofficial-Sitecore-Training" class="headerlink" title="Unofficial Sitecore Training"></a><a target="_blank" rel="noopener" href="http://www.akshaysura.com/2016/02/03/unofficial-sitecore-8-training-webinar-series-full-curriculum/">Unofficial Sitecore Training</a></h2><p>Community run unofficial training videos that cover development practices that are commonly used, but not covered in official Sitecore training. More opinionated, influenced heavily by real-world implementation experiences.</p>
<h2 id="Sitecore-Community-Docs"><a href="#Sitecore-Community-Docs" class="headerlink" title="Sitecore Community Docs"></a><a target="_blank" rel="noopener" href="https://sitecore-community.github.io/docs/">Sitecore Community Docs</a></h2><p>Unofficial documentation. Not updated that often any longer but still some good information, especially the article on <a target="_blank" rel="noopener" href="http://sitecore-community.github.io/docs/documentation/Sitecore%20Fundamentals/Patch%20Files/">config patching</a>.</p>
<h2 id="Sitecore-Powershell-Extensions-Docs"><a href="#Sitecore-Powershell-Extensions-Docs" class="headerlink" title="Sitecore Powershell Extensions Docs"></a><a target="_blank" rel="noopener" href="https://sitecorepowershell.gitbooks.io/sitecore-powershell-extensions/">Sitecore Powershell Extensions Docs</a></h2><p>The SPE documentation is so complete that it’s worth mentioning even though it’s for a single Sitecore module.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2017/10/Where-to-find-Sitecore-documentation/" data-id="ckrl9emyn005698q735v930da" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Unicorn-4-Released" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2017/06/Unicorn-4-Released/">Unicorn 4 Released</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2017/06/Unicorn-4-Released/">
    <time datetime="2017-06-22T19:57:43.000Z" itemprop="datePublished">June 22, 2017</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Unicorn/">Unicorn</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="https://kamsar.net/nuget/unicorn/logo.png" alt="unicorn"></p>
<p>I’m happy to announce the final release of Unicorn 4.0! Unicorn 4 comes with significant performance and developer experience improvements, along with bug fixes. Unicorn 4 is available from NuGet or <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/releases/tag/4.0.0">GitHub</a>.</p>
<h1 id="Project-Dilithium-and-Performance"><a href="#Project-Dilithium-and-Performance" class="headerlink" title="Project Dilithium and Performance"></a>Project Dilithium and Performance</h1><p>Unicorn 4 is faster - a lot faster. Check out these benchmarks:</p>
<p><img src="https://kamsar.net/index.php/2017/02/Unicorn-4-Preview-Project-Dilithium/perf.png" alt="performance benchmarks"></p>
<p>The speed increase is due to optimized caching routines, as well as the <em>Dilithium</em> batch processors. Dilithium is an optional feature that is off by default: because of its newness, it’s still experimental. I’m using it in production though. Give it a try - it can always be turned off without hurting anything.</p>
<p>For more detail into how Unicorn 4 is faster, and what Dilithium does, <a href="https://kamsar.net/index.php/2017/02/Unicorn-4-Preview-Project-Dilithium/">check out this detailed blog post</a>.</p>
<h1 id="Improved-Modular-Configuration"><a href="#Improved-Modular-Configuration" class="headerlink" title="Improved Modular Configuration"></a>Improved Modular Configuration</h1><p>Unicorn 4 features a refactored configuration system that is designed to support <a target="_blank" rel="noopener" href="http://helix.sitecore.net/">Sitecore Helix</a> projects with an improved configuration experience. The new config system is completely backwards-compatible, but now enables <em>configuration inheritance</em>, <em>configuration variables</em>, and <em>configuration extension</em> so that modular projects can encode their conventions (e.g. paths to include, physical paths) into one base config and all the module configs can extend it.</p>
<p>This drastically reduces the verbosity of the module configurations, and improves their maintainability by allowing conventions to be <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY</a>. Here’s a very simple example of a base conventions configuration:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span> <span class="attr">name</span>=<span class="string">&quot;Habitat.Feature.Base&quot;</span> <span class="attr">abstract</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">targetDataStore</span> <span class="attr">physicalRootPath</span>=<span class="string">&quot;$(sourceFolder)\$(layer)\$(module)\serialization&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">predicate</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">name</span>=<span class="string">&quot;$(layer).$(module).Templates&quot;</span> <span class="attr">database</span>=<span class="string">&quot;master&quot;</span> <span class="attr">path</span>=<span class="string">&quot;/sitecore/templates/$(layer)/$(module)&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">predicate</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>And here’s a module configuration that extends it:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span> </span></span><br><span class="line"><span class="tag">	<span class="attr">name</span>=<span class="string">&quot;Feature.News&quot;</span> </span></span><br><span class="line"><span class="tag">	<span class="attr">extends</span>=<span class="string">&quot;Habitat.Feature.Base&quot;</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- automatically stores items at $(sourceFolder)\Feature\News\serialization --&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- automatically includes /sitecore/templates/Feature/News --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>There’s a lot more that you can do with the configuration enhancements in Unicorn 4 too. For additional details, <a href="https://kamsar.net/index.php/2017/02/Unicorn-4-Part-III-Configuration-Enhancements/">read this extensive blog post</a>.</p>
<h1 id="Sitecore-PowerShell-Extensions-Support"><a href="#Sitecore-PowerShell-Extensions-Support" class="headerlink" title="Sitecore PowerShell Extensions Support"></a>Sitecore PowerShell Extensions Support</h1><p><img src="https://kamsar.net/index.php/2017/02/Unicorn-4-Preview-Part-2-SPE-Support/spe.png" alt="unicorn + spe"></p>
<p>Just about anything you can do with Unicorn can now be automated using Sitecore PowerShell Extensions in Unicorn 4. You can now run Unicorn SPE cmdlets to…</p>
<ul>
<li>Run a sync</li>
<li>Serialize an item or tree of items</li>
<li>Dump an item to YAML in the console</li>
<li><a href="https://kamsar.net/index.php/2017/02/Unicorn-4-Preview-Part-2-5-Generating-Packages-with-SPE/">Create a Sitecore package of all the items in a Unicorn configuration</a></li>
<li>And there’s more, all <a href="https://kamsar.net/index.php/2017/02/Unicorn-4-Preview-Part-2-SPE-Support/">in this blog post</a> - and <a href="https://kamsar.net/index.php/2017/02/Unicorn-4-Preview-Part-2-5-Generating-Packages-with-SPE/">this one, about packaging</a></li>
</ul>
<h1 id="Console-Output-Scaling"><a href="#Console-Output-Scaling" class="headerlink" title="Console Output Scaling"></a>Console Output Scaling</h1><p>The Unicorn console has received a serious upgrade in Unicorn 4. If you’ve ever run a sync that changed a large number of items from the Unicorn Control Panel, you may have noticed the browser slow to a crawl and the sync seem to almost stop. The console that underpins Unicorn 3 and earlier started to choke at around 500 lines.</p>
<p>No longer! Unicorn 4’s upgraded console has spit out 100,000 lines without a hitch, and it should scale beyond that.</p>
<p>The automated tool console (PowerShell API) has also received an upgrade. Previously the tool console buffered all the output of a sync before sending it back. This caused problems in certain environments, namely Azure, where TCP connections that don’t send any data for more than four minutes are terminated. This would cause long-running syncs in Azure to die unexpectedly.</p>
<p>In Unicorn 4 the automated tool console emits data in a stream just like the control panel console. There’s also a heartbeat timer where if no new console entries are made for 30 seconds, a <code>.</code> will be sent to make sure the connection is kept active.</p>
<p>The streaming tool console also requires updating your <code>Unicorn.psm1</code> file - not only will you get defense against TCP timeouts, you’ll also be able to see the sync occur in real time using the PSAPI just like you would from the control panel. No more waiting until it’s done to see how things are going :)</p>
<h1 id="Predicates-can-Exclude-by-Template-ID-or-Name"><a href="#Predicates-can-Exclude-by-Template-ID-or-Name" class="headerlink" title="Predicates can Exclude by Template ID or Name"></a>Predicates can Exclude by Template ID or Name</h1><p>Unicorn 4 can now exclude items from a configuration by template ID, thanks to <a target="_blank" rel="noopener" href="https://alan-null.github.io/2017/03/custom-unicorn-predicate">Alan Płócieniak</a>. See also <a target="_blank" rel="noopener" href="https://alan-null.github.io/2017/03/custom-unicorn-predicate">Alan’s original post</a> on the technique.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">include</span> <span class="attr">name</span>=<span class="string">&quot;Template ID&quot;</span> <span class="attr">database</span>=<span class="string">&quot;master&quot;</span> <span class="attr">path</span>=<span class="string">&quot;/sitecore/allowed&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">exclude</span> <span class="attr">templateId</span>=<span class="string">&quot;&#123;3B4F2B85-778D-44F3-9B2D-BEFF1F3575E6&#125;&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>You can also exclude items by a regular expression of their name. This enables scenarios such as wanting to include all templates, but exclude all <code>__Standard values</code> items.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">include</span> <span class="attr">name</span>=<span class="string">&quot;Name pattern&quot;</span> <span class="attr">database</span>=<span class="string">&quot;master&quot;</span> <span class="attr">path</span>=<span class="string">&quot;/sitecore/namepattern&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">exclude</span> <span class="attr">namePattern</span>=<span class="string">&quot;^__Standard values$&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The complete grammar for predicates is always in the <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/src/Unicorn.Tests/Predicates/TestConfiguration.xml#L32">predicate test config</a>.</p>
<h1 id="Breaking-Changes"><a href="#Breaking-Changes" class="headerlink" title="Breaking Changes"></a>Breaking Changes</h1><p>Unicorn 4’s breaking changes do not break any common use-cases of Unicorn, but review them to see if they affect you.</p>
<ul>
<li>The <code>__Originator</code> field is now <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/commit/f7d073b255891ec487e9a092fb2fa172ea77b9ac">serialized by default</a>. This enables proper tracking of the origin of items instantiated from branch templates.</li>
<li>Multithreaded sync support has been removed due to Sitecore bugs preventing realistic use. This was disabled by default already. Dilithium is faster than multithread sync ever was.</li>
<li>The Rainbow <code>UseLegacyAttributeFormatting</code> (formats items in Unicorn &lt; 3.1 format) setting has been removed. The new format is now always used. This has always been off by default.</li>
<li>Rainbow <code>FieldComparer</code>s are no longer activated using the Sitecore Factory, so they only support parameterless constructors (this would only affect custom comparers; the stock ones have always been parameterless)</li>
<li>Due to the console upgrades, a new <code>Unicorn.psm1</code> is required if you are using Unicorn’s PowerShell API. This file also now ships in the NuGet package, so you can be sure you’re getting the right version for your Unicorn.</li>
</ul>
<h1 id="Bug-Fixes"><a href="#Bug-Fixes" class="headerlink" title="Bug Fixes"></a>Bug Fixes</h1><ul>
<li>Transparent sync misc fixes (to renaming, saving display names, instantiating branch templates into TpSync areas)</li>
<li>Renaming an item and changing fields on it in one operation (only possible with Sitecore API) now no longer loses the additional field data in the serialized item</li>
<li>Improved output and logging, clarified messaging, improved developer experience</li>
<li>Content editor warnings now handle items in more than one configuration correctly</li>
<li>Control panel now displays which paths are invalid when initial serialization is blocked due to invalid include paths</li>
<li>The required password length for user serialization is now configurable, should you really really want to use <code>b</code></li>
<li>Using Fast Query while any Transparent Sync configuration is active will now log a warning to the Sitecore logs (fast query cannot find transparent sync items, so items may not be returned as expected). This can be disabled if your logs start to fill with spam and you understand the issue.</li>
<li>PowerShell API now defaults to not write secrets to the console (debug is off by default) for secure-by-default-ness</li>
<li>Fixed a background exception that could occur when modifying serialized items on disk in rare cases, which could cause the app pool to terminate <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues/222">#222</a></li>
<li>The Rainbow data cache now correctly invalidates if an item is moved or renamed on disk after being added to the cache</li>
<li>Choosing many configurations to sync will no longer push the sync button off the page <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/pull/232">#232</a></li>
<li>The default console logging level for interactive syncing has been changed from Info to Debug, since there is no longer a scaling issue with the console output. This provides better insights into what has been changed on items without needing to see the Sitecore logs</li>
</ul>
<h1 id="Upgrading"><a href="#Upgrading" class="headerlink" title="Upgrading"></a>Upgrading</h1><p>If you’re coming from classical Unicorn 3.1 or later, upgrading is actually really simple: just upgrade your NuGet package. Unicorn 4 changes nothing about storage or formatting (except that the <code>__Originator</code> field is no longer ignored by default), so all existing serialized items are compatible.</p>
<p>If you’re invoking Unicorn via its remote PowerShell API, make sure to upgrade your <code>Unicorn.psm1</code> to the Unicorn 4 version to ensure correct error handling with the streaming console.</p>
<h1 id="Thanks"><a href="#Thanks" class="headerlink" title="Thanks"></a>Thanks</h1><p>Thank you to the community members who contributed code and bug reports to this release.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/chemaxa">chemaxa</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Rclemens">Raymond Clemens</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/niles11">Niles11</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/lordstyx">Luuk Ostendorf</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/alan-null">Alan Płócieniak</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/JamesSkemp">James Skemp</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/t00ki">t00ki</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/WimVergouwe">Wim Vergouwe</a></li>
</ul>
<h1 id="Address"><a href="#Address" class="headerlink" title="Address"></a>Address</h1><img src="/index.php/2017/06/Unicorn-4-Released/Elephant.jpg" class="" title="early design for Unicorn 5">
      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2017/06/Unicorn-4-Released/" data-id="ckrl9emym005198q72foh1qrb" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Simplifying-Contact-Facets-with-C-6" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2017/06/Simplifying-Contact-Facets-with-C-6/">Simplifying Contact Facets with C# 6</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2017/06/Simplifying-Contact-Facets-with-C-6/">
    <time datetime="2017-06-02T17:04:08.000Z" itemprop="datePublished">June 2, 2017</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Sitecore/">Sitecore</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/index.php/category/Sitecore/xDB/">xDB</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Contact Facets allow you to persist information about visitors into the Sitecore xDB. We’re not going to get into the theory behind them in this post; for that go read Pete Navarra’s <a target="_blank" rel="noopener" href="https://sitecorehacker.com/2016/09/03/creating-custom-sitecore-xdb-contact-facets/">great blog post</a> that summarizes current practices and how to add facets.</p>
<p>Today we’re going to discuss how to syntactically improve the declaration of a contact facet class using syntaxes available in C# 6.0 (VS 2015) and C# 7.0 (VS 2017). It’s important to note that the C# version is decoupled from the .NET framework version: the C# 7.0 compiler is perfectly capable of emitting C# 7 syntax to a .NET 4.5-targeted assembly, for instance. So you can use these modern language features as long as you’ve got the right version of MSBuild or Visual Studio :)</p>
<p>Here’s the example Pete uses in his post, which follows <a target="_blank" rel="noopener" href="https://community.sitecore.net/technical_blogs/b/getting_to_know_sitecore/posts/introducing-contact-facets">other examples</a> out there as well:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> Sitecore.Analytics.Model.Framework;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> <span class="title">SitecoreHacker.Sandbox.Facets</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Serializable</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MarketingData</span>: <span class="title">Facet</span>, <span class="title">IMarketingData</span></span><br><span class="line">    &#123;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">const</span> <span class="built_in">string</span> CUSTOMER_ID = <span class="string">&quot;CustomerId&quot;</span>;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">const</span> <span class="built_in">string</span> SEGEMENT = <span class="string">&quot;Segment&quot;</span>; <span class="comment">// sic :p</span></span><br><span class="line"> </span><br><span class="line">        <span class="meta">#<span class="meta-keyword">region</span> Properties</span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> CustomerId</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">return</span> GetAttribute&lt;<span class="built_in">string</span>&gt;(CUSTOMER_ID); &#125;</span><br><span class="line">            <span class="keyword">set</span> &#123; SetAttribute(CUSTOMER_ID, <span class="keyword">value</span>); &#125;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Segment</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">return</span> GetAttribute&lt;<span class="built_in">string</span>&gt;(SEGEMENT); &#125;</span><br><span class="line">            <span class="keyword">set</span> &#123; SetAttribute(SEGEMENT, <span class="keyword">value</span>); &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line">         </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MarketingData</span>(<span class="params"></span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            EnsureAttribute&lt;<span class="built_in">string</span>&gt;(CUSTOMER_ID);</span><br><span class="line">            EnsureAttribute&lt;<span class="built_in">string</span>&gt;(SEGEMENT);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>As you can see, the facet API requires string keys for the facet values - in this case stored as <code>const string</code> - to get and set them. Further, as Pete notes:</p>
<blockquote>
<p>I found out the hard way that the constants defined, the value must equal the actual name of the class property for the same attribute.</p>
</blockquote>
<p>Well in C# 6 (VS 2015), there’s a syntax for that. The <a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/nameof"><code>nameof</code></a> statement allows you to get the string name of a variable or property. This essentially hands off the management and maintenance of the <code>const</code> value to the compiler, instead of the developer.</p>
<p>So we can clean up this example by using <code>nameof</code> instead of constants - and get as a bonus refactoring support and compile-time validation of the names:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> Sitecore.Analytics.Model.Framework;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Elephant.Sandbox.Facets</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Serializable</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MarketingData</span>: <span class="title">Facet</span>, <span class="title">IMarketingData</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> CustomerId</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">return</span> GetAttribute&lt;<span class="built_in">string</span>&gt;(<span class="keyword">nameof</span>(CustomerId)); &#125;</span><br><span class="line">            <span class="keyword">set</span> &#123; SetAttribute(<span class="keyword">nameof</span>(CustomerId), <span class="keyword">value</span>); &#125;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Segment</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">return</span> GetAttribute&lt;<span class="built_in">string</span>&gt;(<span class="keyword">nameof</span>(Segment)); &#125;</span><br><span class="line">            <span class="keyword">set</span> &#123; SetAttribute(<span class="keyword">nameof</span>(Segment), <span class="keyword">value</span>); &#125;</span><br><span class="line">        &#125;</span><br><span class="line">         </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MarketingData</span>(<span class="params"></span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            EnsureAttribute&lt;<span class="built_in">string</span>&gt;(<span class="keyword">nameof</span>(CustomerId));</span><br><span class="line">            EnsureAttribute&lt;<span class="built_in">string</span>&gt;(<span class="keyword">nameof</span>(Segment));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Finally if you have C# 7.0 (VS 2017), you can also utilize <a target="_blank" rel="noopener" href="https://blogs.msdn.microsoft.com/dotnet/2017/03/09/new-features-in-c-7-0/">expression bodied members</a> to further clean up the property syntax:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> Sitecore.Analytics.Model.Framework;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Rhino.Sandbox.Facets</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Serializable</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MarketingData</span>: <span class="title">Facet</span>, <span class="title">IMarketingData</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> CustomerId</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// expression bodied members turn the single-expression get </span></span><br><span class="line">            <span class="comment">// into a lamdba-style syntax, removing the need for braces</span></span><br><span class="line">            <span class="keyword">get</span> =&gt; GetAttribute&lt;<span class="built_in">string</span>&gt;(<span class="keyword">nameof</span>(CustomerId));</span><br><span class="line">            <span class="keyword">set</span> =&gt; SetAttribute(<span class="keyword">nameof</span>(CustomerId), <span class="keyword">value</span>);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Segment</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> =&gt; GetAttribute&lt;<span class="built_in">string</span>&gt;(<span class="keyword">nameof</span>(Segment));</span><br><span class="line">            <span class="keyword">set</span> =&gt; SetAttribute(<span class="keyword">nameof</span>(Segment), <span class="keyword">value</span>);</span><br><span class="line">        &#125;</span><br><span class="line">         </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MarketingData</span>(<span class="params"></span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            EnsureAttribute&lt;<span class="built_in">string</span>&gt;(<span class="keyword">nameof</span>(CustomerId));</span><br><span class="line">            EnsureAttribute&lt;<span class="built_in">string</span>&gt;(<span class="keyword">nameof</span>(Segment));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>So there - now go forth and put your data in the xDB :)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2017/06/Simplifying-Contact-Facets-with-C-6/" data-id="ckrl9emyk004z98q75ktq4dv6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Unicorn-4-Part-III-Configuration-Enhancements" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2017/02/Unicorn-4-Part-III-Configuration-Enhancements/">Unicorn 4 Part III: Configuration Enhancements</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2017/02/Unicorn-4-Part-III-Configuration-Enhancements/">
    <time datetime="2017-02-28T03:03:31.000Z" itemprop="datePublished">February 27, 2017</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Unicorn/">Unicorn</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>TL;DR: <a target="_blank" rel="noopener" href="https://www.nuget.org/packages/Unicorn.Core/4.0.0-pre03">Unicorn 4 prerelease</a> is on NuGet right now!</p>
<p>Now that that’s out of the way, let’s talk about another new Unicorn 4 feature: <a target="_blank" rel="noopener" href="http://helix.sitecore.net/">modular architecture</a> friendly configurations. </p>
<img src="/index.php/2017/02/Unicorn-4-Part-III-Configuration-Enhancements/everywhere.jpg" class="">

<p>When <a target="_blank" rel="noopener" href="https://github.com/Sitecore/Habitat">Habitat</a> first launched, I was mildly incredulous at the amount of duplication in its Unicorn configurations. Tons of tiny modules, all of which shared similar but not identical configurations (such as custom root folders) was not really a consideration when multiple configurations were originally conceived. Fast forward to today, and that’s a major use case that is more difficult than it needs to be.</p>
<p>Here’s an example of a Habitat Unicorn configuration:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span> <span class="attr">xmlns:patch</span>=<span class="string">&quot;http://www.sitecore.net/xmlconfig/&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">sitecore</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">unicorn</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">configurations</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span> </span></span><br><span class="line"><span class="tag">        	<span class="attr">name</span>=<span class="string">&quot;Feature.News&quot;</span> </span></span><br><span class="line"><span class="tag">        	<span class="attr">description</span>=<span class="string">&quot;Feature News&quot;</span> </span></span><br><span class="line"><span class="tag">        	<span class="attr">dependencies</span>=<span class="string">&quot;Foundation.Serialization,Foundation.Indexing&quot;</span> </span></span><br><span class="line"><span class="tag">        	<span class="attr">patch:after</span>=<span class="string">&quot;configuration[@name=&#x27;Foundation.Serialization&#x27;]&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">targetDataStore</span> <span class="attr">physicalRootPath</span>=<span class="string">&quot;$(sourceFolder)\feature\news\serialization&quot;</span></span></span><br><span class="line"><span class="tag">                           <span class="attr">type</span>=<span class="string">&quot;Rainbow.Storage.SerializationFileSystemDataStore, Rainbow&quot;</span> <span class="attr">useDataCache</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">                           <span class="attr">singleInstance</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">predicate</span> <span class="attr">type</span>=<span class="string">&quot;Unicorn.Predicates.SerializationPresetPredicate, Unicorn&quot;</span> <span class="attr">singleInstance</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">include</span> <span class="attr">name</span>=<span class="string">&quot;Feature.News.Templates&quot;</span> <span class="attr">database</span>=<span class="string">&quot;master&quot;</span> <span class="attr">path</span>=<span class="string">&quot;/sitecore/templates/Feature/News&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">include</span> <span class="attr">name</span>=<span class="string">&quot;Feature.News.Renderings&quot;</span> <span class="attr">database</span>=<span class="string">&quot;master&quot;</span> <span class="attr">path</span>=<span class="string">&quot;/sitecore/layout/renderings/Feature/News&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">include</span> <span class="attr">name</span>=<span class="string">&quot;Feature.News.Media&quot;</span> <span class="attr">database</span>=<span class="string">&quot;master&quot;</span> <span class="attr">path</span>=<span class="string">&quot;/sitecore/media library/Feature/News&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">predicate</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">roleDataStore</span> <span class="attr">type</span>=<span class="string">&quot;Unicorn.Roles.Data.FilesystemRoleDataStore, Unicorn.Roles&quot;</span> <span class="attr">physicalRootPath</span>=<span class="string">&quot;$(sourceFolder)\feature\news\serialization\Feature.News.Roles&quot;</span> <span class="attr">singleInstance</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">rolePredicate</span> <span class="attr">type</span>=<span class="string">&quot;Unicorn.Roles.RolePredicates.ConfigurationRolePredicate, Unicorn.Roles&quot;</span> <span class="attr">singleInstance</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">include</span> <span class="attr">domain</span>=<span class="string">&quot;modules&quot;</span> <span class="attr">pattern</span>=<span class="string">&quot;^Feature News .*$&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">rolePredicate</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">configurations</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">unicorn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">sitecore</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>It’s long and it has a ton of boilerplate that is either identical in every module, or else defined by system conventions (e.g. physicalRootPath). We don’t need to be that verbose when using Unicorn 4. When we setup a modular, convention-based system using Unicorn 4 we can start by using <em>abstract configurations</em> to define the conventions of our system:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span> <span class="attr">name</span>=<span class="string">&quot;Habitat.Feature.Base&quot;</span> <span class="attr">abstract</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">targetDataStore</span> <span class="attr">physicalRootPath</span>=<span class="string">&quot;$(sourceFolder)\$(layer)\$(module)\serialization&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">predicate</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">name</span>=<span class="string">&quot;$(layer).$(module).Templates&quot;</span> <span class="attr">database</span>=<span class="string">&quot;master&quot;</span> <span class="attr">path</span>=<span class="string">&quot;/sitecore/templates/$(layer)/$(module)&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">name</span>=<span class="string">&quot;$(layer).$(module).Renderings&quot;</span> <span class="attr">database</span>=<span class="string">&quot;master&quot;</span> <span class="attr">path</span>=<span class="string">&quot;/sitecore/layout/renderings/$(layer).$(module)&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">name</span>=<span class="string">&quot;$(layer).$(module).Media&quot;</span> <span class="attr">database</span>=<span class="string">&quot;master&quot;</span> <span class="attr">path</span>=<span class="string">&quot;/sitecore/media library/$(layer).$(module)&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">predicate</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">roleDataStore</span> <span class="attr">type</span>=<span class="string">&quot;Unicorn.Roles.Data.FilesystemRoleDataStore, Unicorn.Roles&quot;</span> <span class="attr">physicalRootPath</span>=<span class="string">&quot;$(sourceFolder)\$(layer)\$(module)\serialization\$(layer).$(module).Roles&quot;</span> <span class="attr">singleInstance</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">rolePredicate</span> <span class="attr">type</span>=<span class="string">&quot;Unicorn.Roles.RolePredicates.ConfigurationRolePredicate, Unicorn.Roles&quot;</span> <span class="attr">singleInstance</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">domain</span>=<span class="string">&quot;modules&quot;</span> <span class="attr">pattern</span>=<span class="string">&quot;^$(layer) $(module) .*$&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">rolePredicate</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This configuration defines a configuration that other configurations can <em>extend</em>. Because of its <code>abstract</code>-ness it is not a Unicorn configuration itself, only a template. Non-abstract configurations may also be extended.</p>
<p>This abstract configuration is also making use of Unicorn 4’s ability to do <em>variable replacement</em> in configurations. The <code>$(layer)</code> and <code>$(module)</code> variables are expanded in the extending configuration and are based on the convention of naming your configurations <code>Layer.Module</code>. You can also expand <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/src/Unicorn/Standard%20Config%20Files/Unicorn.CustomSerializationFolder.config.example#L42">more than one config per module</a> and <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/src/Unicorn/Standard%20Config%20Files/Unicorn.config#L190">use your own variables</a>. Using our abstract <code>Habitat.Feature.Base</code> configuration above, the same <code>Feature.News</code> configuration we started with can now be expressed much more simply:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span> </span></span><br><span class="line"><span class="tag">	<span class="attr">name</span>=<span class="string">&quot;Feature.News&quot;</span> </span></span><br><span class="line"><span class="tag">	<span class="attr">description</span>=<span class="string">&quot;Feature News&quot;</span> </span></span><br><span class="line"><span class="tag">	<span class="attr">dependencies</span>=<span class="string">&quot;Foundation.Serialization,Foundation.Indexing&quot;</span> </span></span><br><span class="line"><span class="tag">	<span class="attr">extends</span>=<span class="string">&quot;Habitat.Feature.Base&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Nice huh? But what if you want to extend or replace a dependency in the inherited configuration? You can do that, too - and using Unicorn 4’s element inheritance system you can also do it very cleanly. Unicorn configurations have always been architecturally a set of independent IoC containers. The <code>&lt;defaults&gt;</code> node in <code>Unicorn.config</code> sets up the defaults, and then each configuration’s nodes override and replace the defaults if they exist. This is how you can <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/src/Unicorn/Standard%20Config%20Files/Unicorn.Configs.NewItemsOnly.example">deploy only new items</a> with the <code>NewItemsOnlyEvaluator</code> - you’re replacing the default evaluator with a different dependency implementation.</p>
<p>Unicorn 4 takes this a step further: with config inheritance, dependencies can be partially extended at an element level. You might have noticed this already in the <code>Habitat.Feature.Base</code> configuration, when we did this:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">targetDataStore</span> <span class="attr">physicalRootPath</span>=<span class="string">&quot;$(sourceFolder)\$(layer)\$(module)\serialization&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>In Unicorn 3, this would have required a <code>type</code> attribute. In Unicorn 4, <em>unless</em> you specify a <code>type</code> attribute, any attributes you add either replace or add to the default (or inherited) implementation. So instead this kept the same default dependency definition and <em>changed</em> an attribute on it - the <code>physicalRootPath</code>. </p>
<p>If you <em>do</em> specify a <code>type</code>, nothing is inherited and it works like Unicorn 3. Thus existing configurations will also work without modification :)</p>
<p>But what about things that have more than just attributes, like the <code>predicate</code>‘s <code>include</code> nodes? You can <em>append</em> elements in the inherited configuration in that case. If we take our <code>Habitat.Feature.Base</code> configuration above and extend it like this:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">predicate</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">include</span> <span class="attr">name</span>=<span class="string">&quot;Foo&quot;</span> <span class="attr">database</span>=<span class="string">&quot;master&quot;</span> <span class="attr">path</span>=<span class="string">&quot;/sitecore/Foo&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">predicate</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The end result is effectively:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">predicate</span> <span class="attr">type</span>=<span class="string">&quot;Unicorn.Predicates.SerializationPresetPredicate, Unicorn&quot;</span> <span class="attr">singleInstance</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">include</span> <span class="attr">name</span>=<span class="string">&quot;Feature.News.Templates&quot;</span> <span class="attr">database</span>=<span class="string">&quot;master&quot;</span> <span class="attr">path</span>=<span class="string">&quot;/sitecore/templates/Feature/News&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">include</span> <span class="attr">name</span>=<span class="string">&quot;Feature.News.Renderings&quot;</span> <span class="attr">database</span>=<span class="string">&quot;master&quot;</span> <span class="attr">path</span>=<span class="string">&quot;/sitecore/layout/renderings/Feature/News&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">include</span> <span class="attr">name</span>=<span class="string">&quot;Feature.News.Media&quot;</span> <span class="attr">database</span>=<span class="string">&quot;master&quot;</span> <span class="attr">path</span>=<span class="string">&quot;/sitecore/media library/Feature/News&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">include</span> <span class="attr">name</span>=<span class="string">&quot;Foo&quot;</span> <span class="attr">database</span>=<span class="string">&quot;master&quot;</span> <span class="attr">path</span>=<span class="string">&quot;/sitecore/Foo&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">predicate</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>You cannot remove inherited predicate nodes (or other dependencies that use children like <code>fieldFilter</code>), so plan accordingly: adding elements only.</p>
<p>And there you have it: with Unicorn 4 you can reasonably simply create serialization conventions for your modules and avoid configuration duplication - or if you’re not ready to go modular, you can at least enjoy not needing to have a <code>type</code> on most configuration nodes.</p>
<h2 id="But-Wait-There’s-More-🐘-The-Console-No-Longer-Sucks"><a href="#But-Wait-There’s-More-🐘-The-Console-No-Longer-Sucks" class="headerlink" title="But Wait, There’s More 🐘: The Console No Longer Sucks"></a>But Wait, There’s More 🐘: The Console No Longer Sucks</h2><h3 id="In-the-Control-Panel…"><a href="#In-the-Control-Panel…" class="headerlink" title="In the Control Panel…"></a>In the Control Panel…</h3><p>The Unicorn console has also received a serious upgrade in Unicorn 4. If you’ve ever run a sync that changed a large number of items from the Unicorn Control Panel, you may have noticed the browser slow to a crawl and the sync seem to almost stop. The console that underpins Unicorn 3 and earlier started to choke at around 500 lines. </p>
<p>No longer! Unicorn 4’s console has spit out <strong>100,000</strong> lines without a hitch.</p>
<h3 id="Automated-Tools-PowerShell-API"><a href="#Automated-Tools-PowerShell-API" class="headerlink" title="Automated Tools (PowerShell API)"></a>Automated Tools (PowerShell API)</h3><p>The automated tool console has also received an upgrade. Previously the tool console buffered all the output of a sync before sending it back. This caused problems in certain environments, namely Azure, where TCP connections that don’t send any data for more than 4 minutes are terminated. This would cause any long-running syncs in Azure to die unexpectedly.</p>
<p>In Unicorn 4 the automated tool console emits data in a stream just like the control panel console. There’s also a heartbeat timer where if no new console entries are made for 30 seconds, a <code>.</code> will be sent to make sure the connection is kept active. </p>
<p>The streaming console also requires updating your <code>Unicorn.psm1</code> file - not only will you get defense against TCP timeouts, you’ll also be able to see the sync occur in real-time using the PSAPI just like you would from the control panel. No more waiting until it’s done to see how things are going :)</p>
<h2 id="Can-I-have-it-yet"><a href="#Can-I-have-it-yet" class="headerlink" title="Can I have it yet?"></a>Can I have it yet?</h2><p>Absolutely. You can find <a target="_blank" rel="noopener" href="https://www.nuget.org/packages/Unicorn/4.0.0-pre03">Unicorn 4.0.0-pre03</a> on NuGet right now!</p>
<h3 id="How-stable-is-this"><a href="#How-stable-is-this" class="headerlink" title="How stable is this?"></a>How stable is this?</h3><p>More stable than you might think. Unicorn 4 is largely additions, fixes, and enhancements to the already stable codebase behind Unicorn 3. The core pieces have not changed very much, unless you enable Dilithium and that’s optional. The new config inheritance stuff has 97% code coverage. That’s not to say it’s bug free either. If you find bugs <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/issues">let me know</a> and I’ll fix them :)</p>
<h3 id="What-about-installing-it"><a href="#What-about-installing-it" class="headerlink" title="What about installing it?"></a>What about installing it?</h3><p>Installation is just like Unicorn 3: Install the <code>Unicorn</code> NuGet package, and follow the directions in the README that will launch on installation to set up configuration(s).</p>
<p>NOTE: <a href="https://kamsar.net/index.php/2017/02/Unicorn-4-Preview-Project-Dilithium/">Dilithium</a> ships disabled by default. If you want to enable it, make a <em>copy</em> of <code>Unicorn.Dilithium.config.example</code> and enable it.</p>
<h3 id="What-about-upgrading-to-it"><a href="#What-about-upgrading-to-it" class="headerlink" title="What about upgrading to it?"></a>What about upgrading to it?</h3><p>If you’re coming from classical Unicorn 3.1 or later, upgrading is actually really simple: just upgrade your NuGet package. Unicorn 4 changes nothing about storage or formatting (<em>except</em> that the <code>__Originator</code> field is no longer ignored by default), so all existing serialized items are compatible.</p>
<p>Taking advantage of the config enhancements detailed above is also entirely optional: Unicorn 3 configurations are totally readable by Unicorn 4.</p>
<p>If you’re invoking Unicorn via its PowerShell API, make sure to upgrade your <code>Unicorn.psm1</code> to the Unicorn 4 version to ensure correct error handling with the streaming console.</p>
<p>Have fun!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2017/02/Unicorn-4-Part-III-Configuration-Enhancements/" data-id="ckrl9emyk004x98q7g23x8mj0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Unicorn-4-Preview-Part-2-5-Generating-Packages-with-SPE" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2017/02/Unicorn-4-Preview-Part-2-5-Generating-Packages-with-SPE/">Unicorn 4 Preview Part 2.5: Generating Unicorn Packages with SPE</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2017/02/Unicorn-4-Preview-Part-2-5-Generating-Packages-with-SPE/">
    <time datetime="2017-02-12T05:09:02.000Z" itemprop="datePublished">February 11, 2017</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Unicorn/">Unicorn</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="/index.php/2017/02/Unicorn-4-Preview-Part-2-SPE-Support/">Last time</a> we talked about how Sitecore PowerShell Extensions support was coming to Unicorn 4. This time, we’ve got a new cmdlet to share.</p>
<p>Over time, many people have asked if there was a way to generate Sitecore packages from Unicorn. The answer has always been no, for many good reasons: packages install slowly, cannot ignore specific fields, or process advanced exclusions like a Unicorn predicate can. This makes them much less safe (and much slower) for deployment purposes compared to a remotely invoked Sync using deployed serialized items.</p>
<p>But there is a great use case for generating packages from Unicorn: authoring modules. As a module author, a method is needed to track the items that belong to your module and also to reliably create Sitecore packages for distribution of your module which contain those items. Unicorn is a natural fit for simply tracking module items, but it has lacked the ability to automatically push updates to release packages like it can to serialized items. This unnecessarily complicates things and reduces release reliability. That’s bad.</p>
<p>So when <a target="_blank" rel="noopener" href="https://twitter.com/MichaelWest101">Michael West</a> and <a target="_blank" rel="noopener" href="https://twitter.com/adamnaj">Adam Najmanowicz</a>, the authors of Sitecore PowerShell Extensions, asked if there was a way we could export Unicorn configurations to packages my answer was <em>absolutely.</em></p>
<p>SPE has long had <a target="_blank" rel="noopener" href="https://doc.sitecorepowershell.com/appendix/commands/Export-Package.html#examples">packaging support</a> built into it, and in fact SPE’s release packages are built using SPE. Unicorn packaging support is also implemented through SPE, and here’s how it works:</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Create a new Sitecore Package (SPE cmdlet)</span></span><br><span class="line"><span class="variable">$pkg</span> = <span class="built_in">New-Package</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Get the Unicorn Configuration(s) we want to package</span></span><br><span class="line"><span class="variable">$configs</span> = <span class="built_in">Get-UnicornConfiguration</span> <span class="string">&quot;Foundation.*&quot;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># Pipe the configs into New-UnicornItemSource </span></span><br><span class="line"><span class="comment"># to process them and add them to the package project</span></span><br><span class="line"><span class="comment"># (without -Project, this would emit the source object(s) </span></span><br><span class="line"><span class="comment">#   which can be manually added with $pkg.Sources.Add())</span></span><br><span class="line"><span class="variable">$configs</span> | <span class="built_in">New-UnicornItemSource</span> <span class="literal">-Project</span> <span class="variable">$pkg</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Export the package to a zip file on disk</span></span><br><span class="line"><span class="built_in">Export-Package</span> <span class="literal">-Project</span> <span class="variable">$pkg</span> <span class="literal">-Path</span> <span class="string">&quot;C:\foo.zip&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>And when you’re done with that, <code>c:\foo.zip</code> would contain a package that when installed will contain the entire contents of any Unicorn configuration matching <code>Foundation.*</code>.</p>
<p><code>New-UnicornItemSource</code> also accepts parameters to specify package installation options, exactly like SPE’s <a target="_blank" rel="noopener" href="https://doc.sitecorepowershell.com/appendix/commands/New-ExplicitItemSource.html">New-ExplicitItemSource</a>. This cmdlet is also very similar to how <code>New-UnicornItemSource</code> works: each item that is included in the configuration is added to the package as an explicit item source. Doing this also means that the exported package completely respects the Unicorn Predicate, including exclusions of child paths (note that if you specify <code>-InstallMode Overwrite</code>, excluded children may be deleted by the package).</p>
<h2 id="Questions"><a href="#Questions" class="headerlink" title="Questions?"></a>Questions?</h2><h3 id="Are-the-packaged-items-pulled-directly-from-the-serialized-items"><a href="#Are-the-packaged-items-pulled-directly-from-the-serialized-items" class="headerlink" title="Are the packaged items pulled directly from the serialized items?"></a>Are the packaged items pulled directly from the serialized items?</h3><p>No, they are pulled from the Sitecore database because the Sitecore packaging APIs work in <code>Item</code>s. So make sure to <em>sync</em> before you generate a package. Unless you’re using Transparent Sync in which case the items will already be up to date.</p>
<h3 id="Should-I-use-this-to-deploy-my-site"><a href="#Should-I-use-this-to-deploy-my-site" class="headerlink" title="Should I use this to deploy my site?"></a>Should I use this to deploy my site?</h3><p>No. As mentioned above, packages are a slower and more dangerous method to deploy item updates to your site.</p>
<h3 id="Does-this-mean-modules-will-start-requiring-Unicorn-🐘"><a href="#Does-this-mean-modules-will-start-requiring-Unicorn-🐘" class="headerlink" title="Does this mean modules will start requiring Unicorn? 🐘"></a>Does this mean modules will start requiring Unicorn? 🐘</h3><p>No. Unicorn would only be used in the development of the module, and the build process used to generate plain old Sitecore Packages for module releases. The module itself would need depend on neither Unicorn, Rainbow, or SPE.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2017/02/Unicorn-4-Preview-Part-2-5-Generating-Packages-with-SPE/" data-id="ckrl9emyj004v98q748kzd9ko" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Where-s-the-comments" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2017/02/Where-s-the-comments/">Where&#39;s the comments?</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2017/02/Where-s-the-comments/">
    <time datetime="2017-02-07T03:20:50.000Z" itemprop="datePublished">February 6, 2017</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Because of low utilization and the fact that Disqus is about to start <a target="_blank" rel="noopener" href="http://www.daedtech.com/im-quitting-disqus/">spamming you with wonderful ads</a>, I’ve decided to turn comments off on my blog. </p>
<p>That’s not to say you’re not allowed to comment, because you can <a target="_blank" rel="noopener" href="https://twitter.com/kamsar">tweet</a> your comments or join <a target="_blank" rel="noopener" href="https://www.akshaysura.com/2015/10/27/how-to-join-sitecore-slack-community-chat/">Sitecore Community Slack</a> and comment all day.</p>
<p>In other news the blog is now fully SSL enabled, courtesy of <a target="_blank" rel="noopener" href="https://www.cloudflare.com/">CloudFlare</a>.</p>
<p>Happy hacking!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2017/02/Where-s-the-comments/" data-id="ckrl9emyj004t98q7etbd1o2s" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Unicorn-4-Preview-Part-2-SPE-Support" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2017/02/Unicorn-4-Preview-Part-2-SPE-Support/">Unicorn 4 Preview, Part 2: SPE Support</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2017/02/Unicorn-4-Preview-Part-2-SPE-Support/">
    <time datetime="2017-02-06T23:16:03.000Z" itemprop="datePublished">February 6, 2017</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Unicorn/">Unicorn</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Unicorn 4 will feature full support for <a target="_blank" rel="noopener" href="https://www.gitbook.com/book/sitecorepowershell/sitecore-powershell-extensions/details">Sitecore PowerShell Extensions</a> (SPE) to perform Unicorn actions. If you’ve ever wanted deep programmatic control over Unicorn (for example “I want to sync Foundation.*”), or if you’ve got an existing deployment process that’s already using SPE Remoting to perform deployment tasks - this is for you.</p>
<img src="/index.php/2017/02/Unicorn-4-Preview-Part-2-SPE-Support/spe.png" class="">

<p>To use Unicorn cmdlets in SPE, all that is necessary is to install the SPE package along with Unicorn. Unicorn 4 comes with configuration that remains quiescent until SPE is installed that will automatically enable the Unicorn cmdlets. In case that’s not clear enough: SPE is an optional addition and will not be required to use Unicorn 4.</p>
<p>So what can we do with Unicorn cmdlets for SPE?</p>
<h2 id="Configurations"><a href="#Configurations" class="headerlink" title="Configurations"></a>Configurations</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Get one</span></span><br><span class="line"><span class="built_in">Get-UnicornConfiguration</span> <span class="string">&quot;Foundation.Foo&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Get by filter</span></span><br><span class="line"><span class="built_in">Get-UnicornConfiguration</span> <span class="string">&quot;Foundation.*&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Get all</span></span><br><span class="line"><span class="built_in">Get-UnicornConfiguration</span></span><br></pre></td></tr></table></figure>

<p>The result of <code>Get-UnicornConfiguration</code> is an array of <code>IConfiguration</code> objects, which you can spelunk (e.g. with their <code>Name</code> property) or pass to other cmdlets. Configurations are read only.</p>
<h2 id="Syncing"><a href="#Syncing" class="headerlink" title="Syncing"></a>Syncing</h2><p>Sync cmdlets make use of <a target="_blank" rel="noopener" href="https://msdn.microsoft.com/en-us/powershell/reference/5.1/microsoft.powershell.utility/write-progress">Write-Progress</a> to provide a similar progress bar experience to the Control Panel, albeit a bit less responsive.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Sync one</span></span><br><span class="line"><span class="built_in">Sync-UnicornConfiguration</span> <span class="string">&quot;Foundation.Foo&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sync multiple by name</span></span><br><span class="line"><span class="built_in">Sync-UnicornConfiguration</span> <span class="selector-tag">@</span>(<span class="string">&quot;Foundation.Foo&quot;</span>, <span class="string">&quot;Foundation.Bar&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Sync multiple from pipeline</span></span><br><span class="line"><span class="built_in">Get-UnicornConfiguration</span> <span class="string">&quot;Foundation.*&quot;</span> | <span class="built_in">Sync-UnicornConfiguration</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sync all, except transparent sync-enabled configurations</span></span><br><span class="line"><span class="built_in">Get-UnicornConfiguration</span> | <span class="built_in">Sync-UnicornConfiguration</span> <span class="literal">-SkipTransparent</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Optionally set log output level (Debug, Info, Warn, Error)</span></span><br><span class="line"><span class="built_in">Sync-UnicornConfiguration</span> <span class="literal">-LogLevel</span> Warn</span><br></pre></td></tr></table></figure>

<p>For example:</p>
<img src="/index.php/2017/02/Unicorn-4-Preview-Part-2-SPE-Support/sync.png" class="">

<h2 id="Partial-Syncing"><a href="#Partial-Syncing" class="headerlink" title="Partial Syncing"></a>Partial Syncing</h2><p>Sometimes you want to only sync a portion of a configuration. You can do that with PowerShell using <code>Sync-UnicornItem</code>.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Sync a single item (note: must be under Unicorn control)</span></span><br><span class="line"><span class="built_in">Get-Item</span> <span class="string">&quot;/sitecore/content&quot;</span> | <span class="built_in">Sync-UnicornItem</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sync multiple single items (note: all must be under Unicorn control)</span></span><br><span class="line"><span class="built_in">Get-ChildItem</span> <span class="string">&quot;/sitecore/content&quot;</span> | <span class="built_in">Sync-UnicornItem</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># Sync an entire item tree, show only warnings and errors</span></span><br><span class="line"><span class="built_in">Get-Item</span> <span class="string">&quot;/sitecore/content&quot;</span> | <span class="built_in">Sync-UnicornItem</span> <span class="literal">-Recurse</span> <span class="literal">-LogLevel</span> Warn</span><br></pre></td></tr></table></figure>

<h2 id="Reserializing"><a href="#Reserializing" class="headerlink" title="Reserializing"></a>Reserializing</h2><p>The cmdlet to reserialize is called <code>Export-UnicornConfiguration</code> because <code>Reserialize</code> is not an <a target="_blank" rel="noopener" href="https://msdn.microsoft.com/en-us/powershell/reference/5.0/microsoft.powershell.core/functions/get-verb">approved verb</a> for a cmdlet :)</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Reserialize one</span></span><br><span class="line"><span class="built_in">Export-UnicornConfiguration</span> <span class="string">&quot;Foundation.Foo&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Reserialize multiple by name</span></span><br><span class="line"><span class="built_in">Export-UnicornConfiguration</span> <span class="selector-tag">@</span>(<span class="string">&quot;Foundation.Foo&quot;</span>, <span class="string">&quot;Foundation.Bar&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Reserialize from pipeline</span></span><br><span class="line"><span class="built_in">Get-UnicornConfiguration</span> <span class="string">&quot;Foundation.*&quot;</span> | <span class="built_in">Export-UnicornConfiguration</span></span><br></pre></td></tr></table></figure>

<h2 id="Partial-Reserializing"><a href="#Partial-Reserializing" class="headerlink" title="Partial Reserializing"></a>Partial Reserializing</h2><p>Sometimes you want to only reserialize a portion of a configuration. You can do that with PowerShell using <code>Export-UnicornItem</code>.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Reserialize a single item (note: must be under Unicorn control)</span></span><br><span class="line"><span class="built_in">Get-Item</span> <span class="string">&quot;/sitecore/content&quot;</span> | <span class="built_in">Export-UnicornItem</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Reserialize multiple single items (note: all must be under Unicorn control)</span></span><br><span class="line"><span class="built_in">Get-ChildItem</span> <span class="string">&quot;/sitecore/content&quot;</span> | <span class="built_in">Export-UnicornItem</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># Reserialize an entire item tree</span></span><br><span class="line"><span class="built_in">Get-Item</span> <span class="string">&quot;/sitecore/content&quot;</span> | <span class="built_in">Export-UnicornItem</span> <span class="literal">-Recurse</span></span><br></pre></td></tr></table></figure>

<h2 id="Converting-to-Raw-YAML"><a href="#Converting-to-Raw-YAML" class="headerlink" title="Converting to Raw YAML"></a>Converting to Raw YAML</h2><p>You can also dump out the raw YAML for an item - or items. The output of <code>ConvertTo-RainbowYaml</code> is either a string or array of strings depending on how many items were passed to it. Note that unless <code>-Raw</code> is specified, the default field formatters and excluded fields Unicorn ships with are used. These are non-customizable and do not follow Unicorn defaults if changed.</p>
<img src="/index.php/2017/02/Unicorn-4-Preview-Part-2-SPE-Support/enyaml.png" class="">

<p>This capability enables casual use of YAML serialization without having to use Unicorn or set up a configuration. It’s not a good solution for general purpose synchronization though simply because the nuances of storing trees of items in files are many. Very many. But I’m curious what uses people will find for this :)</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Convert an item to YAML format (always uses default excludes and field formatters)</span></span><br><span class="line"><span class="built_in">Get-Item</span> <span class="string">&quot;/sitecore/content&quot;</span> | <span class="built_in">ConvertTo-RainbowYaml</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Convert many items to YAML strings</span></span><br><span class="line"><span class="built_in">Get-ChildItem</span> <span class="string">&quot;/sitecore/content&quot;</span> | <span class="built_in">ConvertTo-RainbowYaml</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Disable all field formats and field filtering</span></span><br><span class="line"><span class="comment"># (e.g. disable XML pretty printing,</span></span><br><span class="line"><span class="comment"># and don&#x27;t ignore the Revision and Modified fields, etc)</span></span><br><span class="line"><span class="built_in">Get-Item</span> <span class="string">&quot;/sitecore/content&quot;</span> | <span class="built_in">ConvertTo-RainbowYaml</span> <span class="literal">-Raw</span></span><br></pre></td></tr></table></figure>

<h2 id="Converting-from-Raw-YAML"><a href="#Converting-from-Raw-YAML" class="headerlink" title="Converting from Raw YAML"></a>Converting from Raw YAML</h2><img src="/index.php/2017/02/Unicorn-4-Preview-Part-2-SPE-Support/convertfrom.png" class="">

<p>In Rainbow the <code>IItemData</code> interface is the internal unit of an Item. The <code>ConvertFrom-RainbowYaml</code> cmdlet converts raw YAML string(s) into <code>IItemData</code> which you can then spelunk as objects or deserialize as needed.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Get IItemDatas from YAML variable</span></span><br><span class="line"><span class="variable">$rawYaml</span> | <span class="built_in">ConvertFrom-RainbowYaml</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Get IItemData and disable all field filters</span></span><br><span class="line"><span class="comment"># (use this if you ran ConvertTo-RainbowYaml with -Raw)</span></span><br><span class="line"><span class="variable">$yaml</span> | <span class="built_in">ConvertFrom-RainbowYaml</span> <span class="literal">-Raw</span></span><br></pre></td></tr></table></figure>

<h2 id="Deserialization"><a href="#Deserialization" class="headerlink" title="Deserialization"></a>Deserialization</h2><p>To deserialize items, use <code>Import-RainbowItem</code> which takes <code>IItemData</code> items in and deserializes them into the Sitecore database. No comparison is done before deserialization, which makes this a bit slower than a full Unicorn sync.</p>
<img src="/index.php/2017/02/Unicorn-4-Preview-Part-2-SPE-Support/elephant.png" class="">

<p>As a shorthand <code>Import-RainbowItem</code> also accepts YAML strings, however as <code>IItemData</code> can represent any sort of item, it is not limited only to deserializing YAML-sourced items.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deserialize IItemDatas from ConvertFrom-RainbowYaml</span></span><br><span class="line"><span class="variable">$rawYaml</span> | <span class="built_in">ConvertFrom-RainbowYaml</span> | <span class="built_in">Import-RainbowItem</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Deserialize raw YAML from pipeline into Sitecore </span></span><br><span class="line"><span class="comment"># Shortcut bypassing ConvertFrom-RainbowYaml</span></span><br><span class="line"><span class="variable">$yaml</span> | <span class="built_in">Import-RainbowItem</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Deserialize and disable all field filters</span></span><br><span class="line"><span class="comment"># (use this if you ran ConvertTo-RainbowYaml with -Raw)</span></span><br><span class="line"><span class="variable">$yaml</span> | <span class="built_in">Import-RainbowItem</span> <span class="literal">-Raw</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Deserialize multiple at once</span></span><br><span class="line"><span class="variable">$yamlStringArray</span> | <span class="built_in">Import-RainbowItem</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Complete example that does nothing but eat CPU</span></span><br><span class="line"><span class="built_in">Get-ChildItem</span> <span class="string">&quot;/sitecore/content&quot;</span> | <span class="built_in">ConvertTo-RainbowYaml</span> | <span class="built_in">Import-RainbowItem</span></span><br></pre></td></tr></table></figure>

<h2 id="Questions"><a href="#Questions" class="headerlink" title="Questions?"></a>Questions?</h2><h3 id="Does-this-mean-the-existing-PowerShell-Remote-API-is-obsolete"><a href="#Does-this-mean-the-existing-PowerShell-Remote-API-is-obsolete" class="headerlink" title="Does this mean the existing PowerShell Remote API is obsolete?"></a>Does this mean the existing <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/tree/master/doc/PowerShell%20Remote%20Scripting">PowerShell Remote API</a> is obsolete?</h3><p>No. The existing PowerShell API uses Windows PowerShell to provide remote syncing capability and does not require installing <em>Sitecore</em> PowerShell. They serve different parallel purposes, and both are here to stay.</p>
<h3 id="You-have-no-gifs-or-memes-in-this-post-Is-something-wrong"><a href="#You-have-no-gifs-or-memes-in-this-post-Is-something-wrong" class="headerlink" title="You have no gifs or memes in this post. Is something wrong?"></a>You have no gifs or memes in this post. Is something wrong?</h3><p><img src="https://i.giphy.com/qZZAQDUNeXams.gif" alt="you mad?"></p>
<h3 id="Can-I-have-a-beta-yet"><a href="#Can-I-have-a-beta-yet" class="headerlink" title="Can I have a beta yet?"></a>Can I have a beta yet?</h3><p>I’ll be releasing a beta once I finish the features I have planned. Yep, there’s at least one more ;)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2017/02/Unicorn-4-Preview-Part-2-SPE-Support/" data-id="ckrl9emyi004r98q7beja0xdw" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/blog/archives/">&amp;laquo; Prev</a><a class="page-number" href="/blog/archives/">1</a><span class="page-number current">2</span><a class="page-number" href="/blog/archives/index.php/page/3/">3</a><a class="page-number" href="/blog/archives/index.php/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/blog/archives/index.php/page/11/">11</a><a class="extend next" rel="next" href="/blog/archives/index.php/page/3/">Next &amp;raquo;</a>
    </nav>
  
</section>
      
        <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul id="recent-post" class="no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/JavaScript/">JavaScript</a></p>
              <p class="item-title"><a href="/index.php/2021/07/Fun-with-async-generators-and-for-await/" class="title">Fun with async generators and for await</a></p>
              <p class="item-date"><time datetime="2021-07-26T23:30:51.000Z" itemprop="datePublished">July 26, 2021</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/Jamstack/">Jamstack</a></p>
              <p class="item-title"><a href="/index.php/2020/08/Deploying-multiple-Netlify-sites-from-one-Git-repository/" class="title">Deploying multiple Netlify sites from one monorepo</a></p>
              <p class="item-date"><time datetime="2020-08-21T03:30:32.000Z" itemprop="datePublished">August 20, 2020</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/JSS/">JSS</a></p>
              <p class="item-title"><a href="/index.php/2019/09/Running-JSS-headless-mode-in-containers-part-2-Build-containers/" class="title">Running JSS headless mode in containers part 2: Build containers</a></p>
              <p class="item-date"><time datetime="2019-09-16T02:14:04.000Z" itemprop="datePublished">September 15, 2019</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/JSS/">JSS</a></p>
              <p class="item-title"><a href="/index.php/2019/09/Running-JSS-headless-mode-in-containers-part-1/" class="title">Running JSS headless mode in containers, part 1</a></p>
              <p class="item-date"><time datetime="2019-09-08T19:00:36.000Z" itemprop="datePublished">September 8, 2019</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/C/">C#</a></p>
              <p class="item-title"><a href="/index.php/2019/05/Build-2019-All-the-things/" class="title">Build 2019: All the things</a></p>
              <p class="item-date"><time datetime="2019-05-10T23:01:11.000Z" itemprop="datePublished">May 10, 2019</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/index.php/category/April-1/">April 1</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Blade/">Blade</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Build-Scripts/">Build Scripts</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/C/">C#</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Dianoga/">Dianoga</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/JSS/">JSS</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Jamstack/">Jamstack</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/JavaScript/">JavaScript</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Node-js/">Node.js</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/">Sitecore</a><span class="category-list-count">39</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/Crypto/">Crypto</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/Lucene/">Lucene</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/MVC/">MVC</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/Search/">Search</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/xDB/">xDB</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Synthesis/">Synthesis</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Unicorn/">Unicorn</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/WebConsole/">WebConsole</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  
  <div id="toTop" class="fa fa-chevron-up"></div>
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <p>&copy; 2021 Kam Figy</p>
      <p><small>Opinions expressed on this blog are my own, and not necessarily those of my employer.</small></p>
     <p><small>This work is licensed under a <a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</small></p>
    </div>
  </div>
</footer>
    


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>




<script src="/js/script.js"></script>


  </div>
</body>
</html>