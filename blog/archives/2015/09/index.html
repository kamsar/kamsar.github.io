<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Archives: 2015/9 | Kam&#39;s Idea Log</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Kam&#39;s Idea Log">
<meta property="og:url" content="https://kamsar.net/blog/archives/2015/09/index.html">
<meta property="og:site_name" content="Kam&#39;s Idea Log">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Kam Figy">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@kamsar">
  
    <link rel="alternative" href="/index.php/feed" title="Kam&#39;s Idea Log" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-62284328-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


<meta name="generator" content="Hexo 5.4.0"></head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo">
        <span class="site-title">Kam&#39;s Idea Log</span>
        <span class="subtitle">C#, Jamstack, and Shenanigans</span>
      </a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        <div class="profile" id="profile-nav">
          <a id="profile-anchor" href="javascript:;"><img class="avatar" src="https://www.gravatar.com/avatar/314826f5d569260f26ac9f26f9e38b86?s=40" srcset="https://www.gravatar.com/avatar/314826f5d569260f26ac9f26f9e38b86?s=80 2x" alt="omg the beard"><i class="fa fa-caret-down"></i></a>
        </div>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="sitesearch" value="https://kamsar.net"></form>
      </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
      
        <td><a class="main-nav-link" href="/">Home</a></td>
      
        <td><a class="main-nav-link" href="/blog/archives">Archives</a></td>
      
      <td>
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="https://kamsar.net"></form>
      </td>
      </tr>
    </table>
  </div>
  
  <div id="header-sub" class="header-sub header-inner">
    <div class="outer">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/index.php/category/April-1/">April 1</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Blade/">Blade</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Build-Scripts/">Build Scripts</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/C/">C#</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Dianoga/">Dianoga</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/JSS/">JSS</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Jamstack/">Jamstack</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/JavaScript/">JavaScript</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Node-js/">Node.js</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/">Sitecore</a><span class="category-list-count">39</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Synthesis/">Synthesis</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Unicorn/">Unicorn</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/WebConsole/">WebConsole</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>
  
</header>
    <div class="outer">
      <aside id="profile">
  <div class="inner profile-inner">
  	<div class="base-info profile-block">
		  <img id="avatar" src="https://www.gravatar.com/avatar/314826f5d569260f26ac9f26f9e38b86?s=128" srcset="https://www.gravatar.com/avatar/314826f5d569260f26ac9f26f9e38b86?s=256 2x" alt="#sitecorebeard">
      <h2 id="name">Kam Figy</h2>
      <h3 id="title">Principal Platform Architect at</h3>
      <a class="corp-logo" href="https://uniform.dev" target="_blank"><img src="/css/images/uniform-logo.svg" alt="Uniform" width="180"></a>
      <span id="location"><i class="fa fa-map-marker"></i>Vancouver, WA USA</span>
      <a id="follow" target="_blank" rel="noopener" href="https://twitter.com/kamsar">FOLLOW</a>
  	</div>
    <div class="contact-info profile-block">
      <table class="contact-list">
        <tr>
        
          <td><a target="_blank" rel="noopener" href="https://github.com/kamsar" title="github"><i class="fa fa-github"></i></a></td>
        
          <td><a target="_blank" rel="noopener" href="https://twitter.com/kamsar" title="twitter"><i class="fa fa-twitter"></i></a></td>
        
          <td><a href="/index.php/feed" title="rss"><i class="fa fa-rss"></i></a></td>
        
        </tr>
      </table>
    </div>
    <div class="article-info profile-block bio">
      <h2>About</h2>
      <p>Kam has been making websites since 1996, starting out with a 14.4k modem on a <a href="https://en.wikipedia.org/wiki/Party_line_(telephony)" target="_blank">party line</a> in the Hawaiian rainforest. A veteran developer, architect, and speaker, he's been working in the content management space for well over a decade. Kam is the author of <a href="https://github.com/kamsar/Unicorn" target="_blank">Unicorn</a>, <a href="https://github.com/kamsar/Synthesis" target="_blank">Synthesis</a>, <a href="https://github.com/kamsar/Dianoga" target="_blank">Dianoga</a>, and several other open-source libraries.</p>
    </div>
  </div>
</aside>
      <section id="main">
  
  
    
    
      
        <div class="archive-year-wrap">
          <i class="fa fa-calendar"></i>
          <a href="/archives/2015" class="archive-year">2015</a>
        </div>
    
    <article id="post-Unicorn-3-What-s-new" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2015/09/Unicorn-3-What-s-new/">Unicorn 3: What&#39;s new?</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2015/09/Unicorn-3-What-s-new/">
    <time datetime="2015-09-14T14:20:00.000Z" itemprop="datePublished">September 14, 2015</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Unicorn/">Unicorn</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Now that I’ve finished being confusing with my <a href="https://kamsar.net/index.php/2015/09/Rainbow-Part-3-What-is-Rainbow/">last</a> <a href="https://kamsar.net/index.php/2015/07/Rethinking-the-Sitecore-Serialization-Format-Unicorn-3-Preview-part-1/">three</a> <a href="https://kamsar.net/index.php/2015/08/Reinventing-the-Serialization-File-System-Rainbow-Preview-Part-2/">posts</a> about <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow">Rainbow</a>, let’s talk about Unicorn 3.</p>
<img src="/index.php/2015/09/Unicorn-3-What-s-new/Unicorn_logo.png" class="" title="new logo!">

<p>Unicorn 3 is the product of a year of thought and implementation. The design goal was nothing less than fixing every annoyance or issue that we ran across in daily usage of Unicorn 2. So what’s new?</p>
<h1 id="New-serialization-format"><a href="#New-serialization-format" class="headerlink" title="New serialization format"></a>New serialization format</h1><p>High on the list of annoyances with daily Unicorn usage was the difficulty of resolving merge conflicts in the Sitecore serialization format. </p>
<p>The only fix for this was to make a <a href="https://kamsar.net/index.php/2015/07/Rethinking-the-Sitecore-Serialization-Format-Unicorn-3-Preview-part-1/">better format</a>: human readable, easily mergeable, and fixing the daily annoyances of the Sitecore format. Because no tool is an island, the new serialization tools Unicorn 3 uses have been split off into their own library: <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow">Rainbow</a>. Rainbow enables others to use the new serialization tools developed for Unicorn 3, without depending on Unicorn.</p>
<p>The details of the new format and why it exists can be found in <a href="https://kamsar.net/index.php/2015/07/Rethinking-the-Sitecore-Serialization-Format-Unicorn-3-Preview-part-1/">part 1 of my Rainbow blog series</a>.</p>
<h1 id="New-file-organization"><a href="#New-file-organization" class="headerlink" title="New file organization"></a>New file organization</h1><p>Alongside designing the new serialization format, another problem was to resolve the longstanding limitations and bugs in the way Sitecore’s built in serialization stores its file hierarchy. <a href="https://kamsar.net/index.php/2015/08/Reinventing-the-Serialization-File-System-Rainbow-Preview-Part-2/">This was worth a whole blog post in and of itself</a>, but in summary I think those limitations have been eliminated.</p>
<p>The new hierarchy also alters the way the storage tree operates. Whereas Sitecore’s model represents an entire database, Unicorn 3 represents a set of subtrees of the database. Depending on the depth of the root paths, this can result in much shorter filesystem paths and fewer over-length path loops.</p>
<h1 id="Improved-user-experience"><a href="#Improved-user-experience" class="headerlink" title="Improved user experience"></a>Improved user experience</h1><h2 id="Improved-console-messaging"><a href="#Improved-console-messaging" class="headerlink" title="Improved console messaging"></a>Improved console messaging</h2><p>Unicorn 3 has greatly improved messaging, both reducing extra output that isn’t necessary as well as vastly better error formatting. This hilarity was a constant annoyance if something went wrong in Unicorn 2 (in this case, invalid serialization format):</p>
<img src="/index.php/2015/09/Unicorn-3-What-s-new/u2error.png" class="" title="seriously? who shipped this.">

<p>Unicorn 3’s version of the same error:</p>
<img src="/index.php/2015/09/Unicorn-3-What-s-new/u3error.png" class="" title="woohoo">

<h2 id="Editor-warnings-for-Unicorn-controlled-items"><a href="#Editor-warnings-for-Unicorn-controlled-items" class="headerlink" title="Editor warnings for Unicorn-controlled items"></a>Editor warnings for Unicorn-controlled items</h2><p>Another common issue is having someone edit an item that Unicorn controls on a deployed server, and having their changes overwritten by the next automated deployment. People asked for a way they could know if an item was “Unicorned” or not. Well, now there is one:</p>
<img src="/index.php/2015/09/Unicorn-3-What-s-new/cewarning.png" class="" title="warning will robinson">

<p>The message shown changes depending on the environment as well; this is how it looks when “production mode” is on:</p>
<img src="/index.php/2015/09/Unicorn-3-What-s-new/cewarning2.png" class="" title="warning will robinson">

<p>And also, if production mode is enabled if you attempt to save the item:</p>
<img src="/index.php/2015/09/Unicorn-3-What-s-new/cewarning3.png" class="" title="warning will robinson">

<h2 id="Unicorn-enabled-serialize-commands"><a href="#Unicorn-enabled-serialize-commands" class="headerlink" title="Unicorn-enabled serialize commands"></a>Unicorn-enabled serialize commands</h2><p>Ever used these handy tools on the by-default-hidden Developer tab of the Sitecore ribbon?</p>
<img src="/index.php/2015/09/Unicorn-3-What-s-new/partialsync.png" class="" title="controls">

<p>Guess what happens if you use these commands on an item Unicorn 3 controls? You guessed it: you can do <strong>partial syncing</strong> and <strong>partial reserialization</strong> using these commands. In Unicorn terms, there is no difference between “update” and “revert”: both just mean “sync.”</p>
<p>Note: Using the commands on non-Unicorn items results in their default behaviour. Also “update database” and “revert database” do not interface with Unicorn at all, and perform their default actions.</p>
<h1 id="Performance-50-more-of-it"><a href="#Performance-50-more-of-it" class="headerlink" title="Performance: 50% more of it"></a>Performance: 50% more of it</h1><p>Unicorn 3 has had significant performance profiling applied to it, and is about 10-20% faster than Unicorn 2 or stock Sitecore serialization. On top of that, multithreading is utilized to further increase sync and reserialize speed. Between threading and optimizations, it’s generally about 50% faster than Unicorn 2. For maximum performance, using SSD storage is highly recommended as it has a major impact on sync speed.</p>
<h1 id="Auto-publish-synced-Items"><a href="#Auto-publish-synced-Items" class="headerlink" title="Auto-publish synced Items"></a>Auto-publish synced Items</h1><p>Unicorn 3 enables efficient auto-publishing of items that a sync has modified, using manual publish queue injection. This option is enabled by default by the <code>Unicorn.AutoPublish.config</code> file. You can remove this file to disable the feature if you don’t like it.</p>
<h1 id="Deleted-template-field-handling"><a href="#Deleted-template-field-handling" class="headerlink" title="Deleted template field handling"></a>Deleted template field handling</h1><p>In Unicorn 2, deleting template fields could cause havoc. If any other serialized item contained a value for the deleted field, and you failed to reserialize that item after deleting the field, your next sync would be greeted with a big ugly error and you’d have to go manually remove the offending field from the file.</p>
<p>Unicorn 3 fixes this issue, by making this error a warning instead. (We can’t just ignore it, because ignoring it would cause syncs that created template fields as well as values for that field to not load the values the first time)</p>
<img src="/index.php/2015/09/Unicorn-3-What-s-new/u3warning.png" class="" title="woohoo">

<h1 id="Versioned-to-Shared-field-conversion"><a href="#Versioned-to-Shared-field-conversion" class="headerlink" title="Versioned to Shared field conversion"></a>Versioned to Shared field conversion</h1><p>Converting a field between shared, versioned, and unversioned by syncing a template was not supported in Unicorn 2. The field itself would change, but the existing values for the field would not move to the correct database table in Sitecore. Unicorn 3 includes the necessary adaptation to migrate stored values when field sharing is changed by a sync.</p>
<h1 id="Improved-configuration-scheme"><a href="#Improved-configuration-scheme" class="headerlink" title="Improved configuration scheme"></a>Improved configuration scheme</h1><p>Unicorn 2 used a single configuration file: <code>Serialization.config</code>. This was a bit confusing as parts of it were ideally removed when deployed to a CE or CD environment and that was not always obvious.</p>
<p>Version 3 addresses this situation by creating its own <code>App_Config\Unicorn</code> folder and splitting the configuration into files that can simply be deleted instead of modified. This folder contains:</p>
<ul>
<li><code>Unicorn.config</code>: Contains core configuration, e.g. predicates and dependency setup, can be left intact anywhere.</li>
<li><code>Unicorn.DataProvider.config</code>: Attaches the Unicorn Data Provider, which handles automatic serialization of changed items to disk. Can be removed for any environment not collecting changes. (usually, any non-dev environment)</li>
<li><code>Unicorn.UI.config</code>: Adds the Unicorn Control Panel, Partial Sync, editor warnings, and other end-user UI elements. Remove for CD environments.</li>
<li><code>Unicorn.AutoPublish.config</code>: Causes Unicorn to automatically publish items that it changes during a sync. Remove if you don’t want this feature, or on CD environments.</li>
<li><code>Unicorn.Deployed.config.disabled</code>: If this config is enabled, typically on a deployed CE instance, saving an item added to Unicorn results in a warning confirmation.</li>
</ul>
<p>Each of these config files also has comments explaining the above as well as what the settings within do.</p>
<h1 id="Technical-Improvements"><a href="#Technical-Improvements" class="headerlink" title="Technical Improvements"></a>Technical Improvements</h1><p>Unicorn 3 also includes numerous miscellaneous technical improvements.</p>
<ul>
<li>No third party dependencies. (that means you, Ninject)</li>
<li>Improved default predicate configuration settings account for Sitecore 8 additions and common modules.</li>
<li>Added <code>SerializationHelper</code>, a handy class that lets you more easily invoke Unicorn operations such as Sync without a lot of setup, if you want to programmatically use Unicorn.</li>
<li>Added pipelines to hook to sync events. <code>unicornSyncBegin</code> occurs when a configuration sync begins. <code>unicornSyncComplete</code> occurs when a configuration sync ends. <code>unicornSyncEnd</code> occurs at the end of all syncs. (e.g. after all configurations have synced if batching &gt; 1)</li>
<li>Thanks to Rainbow, the object model is unified (ALL items are <code>IItemData</code> both from Sitecore and serialized). Previously each had their own parallel models.</li>
</ul>
<h1 id="System-Requirements"><a href="#System-Requirements" class="headerlink" title="System Requirements"></a>System Requirements</h1><p>Unicorn 3 has been developed on Sitecore 7.2 Update-5, as well as Sitecore 8 Update-5. It should be compatible with all version of Sitecore 7 and 8.</p>
<p>Unicorn 3’s code should be easy to adapt to Sitecore 6.2-6.6, however there is no official support for it so you’d want to compile from source.</p>
<h1 id="Ok-ok-Is-it-released-yet"><a href="#Ok-ok-Is-it-released-yet" class="headerlink" title="Ok, ok. Is it released yet?"></a>Ok, ok. Is it released yet?</h1><p>No. But it is in an actively updated beta on NuGet that is fairly stable :)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2015/09/Unicorn-3-What-s-new/" data-id="ckrl9emy7003f98q77f9x6nvz" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Rainbow-Part-3-What-is-Rainbow" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2015/09/Rainbow-Part-3-What-is-Rainbow/">Rainbow Part 3: What is Rainbow?</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2015/09/Rainbow-Part-3-What-is-Rainbow/">
    <time datetime="2015-09-10T18:33:37.000Z" itemprop="datePublished">September 10, 2015</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Unicorn/">Unicorn</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>It may seem a bit weird that in part 3 of a series, we’re talking about what something is.</p>
<img src="/index.php/2015/09/Rainbow-Part-3-What-is-Rainbow/whatis.jpg" class="" title="Nobody can tell you what it is, you have to see it for yourself">

<p>After all, shouldn’t that be part 1? Nope, this is iterative development :)</p>
<p>So, what is <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow">Rainbow</a>? Rainbow is designed to be a complete replacement for the Sitecore serialization format and filesystem organization, as well as enabling cross-source item comparison. It is a pure code library that comes with no UI of any kind, that is designed to be used with other libraries that use its serialization services with their own UIs. Libraries that consume Rainbow - such as <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn">Unicorn</a> - gain the ability to abstract themselves from serialization details. Libraries that extend Rainbow can add new serialization formats, new places to store serialized items, and new ways to organize them.</p>
<p><img src="https://kamsar.net/nuget/rainbow/logo.png" alt="taste it"></p>
<h2 id="Rainbow-Features"><a href="#Rainbow-Features" class="headerlink" title="Rainbow Features"></a>Rainbow Features</h2><h3 id="Universal-Item-Data-and-Data-Stores"><a href="#Universal-Item-Data-and-Data-Stores" class="headerlink" title="Universal Item Data and Data Stores"></a>Universal Item Data and Data Stores</h3><p>Rainbow implements a set of interfaces that wrap the structure of a Sitecore item - item, version, and field. These interfaces provide a universal language that all Rainbow data stores can implement against. You could get an <code>IItemData</code> from Sitecore and write it out to disk as a YAML formatted item. You could get an <code>IItemData</code> from a web service, and deserialize it into a Sitecore database. You could construct an <code>IItemData</code> programmatically, and serialize it to a Sitecore database. Implementations of <code>IDataStore</code> provide places to store item data. It’s completely universal, and everything Rainbow does revolves around these abstractions.</p>
<h3 id="YAML-based-serialization-formatter-improves-the-storage-format-for-serialized-items"><a href="#YAML-based-serialization-formatter-improves-the-storage-format-for-serialized-items" class="headerlink" title="YAML-based serialization formatter improves the storage format for serialized items"></a><a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow/tree/master/src/Rainbow.Storage.Yaml">YAML-based serialization formatter</a> improves the storage format for serialized items</h3><ul>
<li><a href="https://kamsar.net/index.php/2015/07/Rethinking-the-Sitecore-Serialization-Format-Unicorn-3-Preview-part-1/">This post</a> goes into more detail about the hows and whys of the YAML serializer</li>
<li>The format is valid <a target="_blank" rel="noopener" href="http://yaml.org/">YAML</a>. YAML is a language that is designed to store object graphs in a human readable fashion. It uses significant whitespace and indentation to denote data boundaries. Note: only a subset of the YAML spec is allowed for performance reasons.</li>
<li>Any type of endline support. Yes, even <code>\r</code> because one of the default Sitecore database items uses that in its text! No more <a target="_blank" rel="noopener" href="http://seankearney.com/post/Using-Team-Development-for-Sitecore-with-GitHub"><code>.gitattributes</code></a> needed.</li>
<li>No more <code>Content-Length</code> on fields that requires manual recalculation after merge conflicts</li>
<li>Multilists are stored multi-line so fewer conflicts can occur</li>
<li>XML fields (layout, rules) are stored pretty-printed so that fewer conflicts can occur</li>
<li>Customize how fields are stored when serialized yourself with <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow/tree/master/src/Rainbow/Formatting/FieldFormatters">Field Formatters</a></li>
</ul>
<h3 id="Serialization-File-System-SFS-storage-hierarchy"><a href="#Serialization-File-System-SFS-storage-hierarchy" class="headerlink" title="Serialization File System (SFS) storage hierarchy"></a><a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow/tree/master/src/Rainbow/Storage">Serialization File System (SFS)</a> storage hierarchy</h3><ul>
<li><a href="https://kamsar.net/index.php/2015/08/Reinventing-the-Serialization-File-System-Rainbow-Preview-Part-2/">This post</a> goes into more detail about SFS</li>
<li>Human readable file hierarchy</li>
<li>Extremely long item name support</li>
<li>Unlimited path length support</li>
<li>Supports non-unique paths (two items under the same parent with the same name), while keeping it human-readable</li>
<li>Stores each included subtree in its own hierarchy, reducing file name length</li>
<li>You can plug in the serialization formatter you desire - such as the YAML provider - to format items how you want in the tree</li>
</ul>
<h3 id="Deserialize-abstract-items-into-Sitecore-with-the-Sitecore-storage-provider"><a href="#Deserialize-abstract-items-into-Sitecore-with-the-Sitecore-storage-provider" class="headerlink" title="Deserialize abstract items into Sitecore with the Sitecore storage provider"></a><a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow/tree/master/src/Rainbow.Storage.Sc">Deserialize abstract items into Sitecore</a> with the Sitecore storage provider</h3><ul>
<li>Turn Sitecore items into <code>IItemData</code> with the <code>ItemData</code> class</li>
<li>Deserialize an <code>IItemData</code> instance into a Sitecore item with <code>DefaultDeserializer</code> (used via <code>SitecoreDataStore</code>)</li>
<li>Query the Sitecore tree in abstract with <code>SitecoreDataStore</code>, as if it were any other serialization store</li>
</ul>
<h3 id="Item-comparison-APIs"><a href="#Item-comparison-APIs" class="headerlink" title="Item comparison APIs"></a><a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow/tree/master/src/Rainbow/Diff">Item comparison APIs</a></h3><ul>
<li>Compare any two <code>IItemData</code> instances regardless of source</li>
<li>Customize comparison for field types or specific fields with <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow/tree/master/src/Rainbow/Diff/Fields">Field Comparers</a></li>
<li>Get a complete readout of changes as an object model</li>
</ul>
<h2 id="Improvements"><a href="#Improvements" class="headerlink" title="Improvements"></a>Improvements</h2><p>Improvements are in comparison to Sitecore serialization and the functionality in Unicorn 2.</p>
<ul>
<li>Deleting template fields will no longer cause errors on deserialization for items that are serialized with a value for the deleted field (e.g. standard values)</li>
<li>Deserialization knows how to properly change field sharing or field versioning and port existing data to the new sharing setting</li>
</ul>
<h2 id="Rainbow-Organization"><a href="#Rainbow-Organization" class="headerlink" title="Rainbow Organization"></a>Rainbow Organization</h2><p>Rainbow consists of several projects:</p>
<ul>
<li>The core <code>Rainbow</code> project contains core interfaces and components that most all serialization components might need, for example <a href="https://kamsar.net/index.php/2015/08/Reinventing-the-Serialization-File-System-Rainbow-Preview-Part-2/">SFS</a>, item comparison tools, field formatters, and item filtering</li>
<li><code>Rainbow.Storage.Yaml</code> implements serializing and deserializing items using a YAML-based format. This format is ridiculously easier to read and merge than standard Sitecore serialization format, lacking any content length attributes, supporting any type of newline characters, and supporting pretty-printing field values (e.g. multilists, layout) for simpler merging when conflicts occur.</li>
<li><code>Rainbow.Storage.Sc</code> implements a data store using the Sitecore database. This can be used to read and write items to Sitecore using the <code>IDataStore</code> interface.</li>
</ul>
<h2 id="Extending-Rainbow"><a href="#Extending-Rainbow" class="headerlink" title="Extending Rainbow"></a>Extending Rainbow</h2><p>Rainbow is designed to be loosely coupled. It’s recommended that you employ a Dependency Injection framework (e.g. <a target="_blank" rel="noopener" href="https://simpleinjector.org/">SimpleInjector</a>) to make your life constructing Rainbow objects easier. Of course you can also construct objects without DI.</p>
<p>Rainbow has <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow/tree/master/src">extensive unit and integration tests</a> and hopefully easy to understand code, which serve as its living documentation. As of now, Rainbow has 90% test coverage and 220 tests. <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn">Unicorn</a>, which uses Rainbow as a service, can also be a useful source of examples.</p>
<p>If you can’t find what you’re looking for you can find me on Twitter (@kamsar) or on Sitecore Community Slack.</p>
<p>Next time, we’ll start talking about what’s new in Unicorn 3 - other than all the Rainbow things that come along because Unicorn uses Rainbow.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2015/09/Rainbow-Part-3-What-is-Rainbow/" data-id="ckrl9emy6003d98q72k95bvex" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
  
</section>
      
        <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul id="recent-post" class="no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/JavaScript/">JavaScript</a></p>
              <p class="item-title"><a href="/index.php/2021/07/Fun-with-async-generators-and-for-await/" class="title">Fun with async generators and for await</a></p>
              <p class="item-date"><time datetime="2021-07-26T23:30:51.000Z" itemprop="datePublished">July 26, 2021</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/Jamstack/">Jamstack</a></p>
              <p class="item-title"><a href="/index.php/2020/08/Deploying-multiple-Netlify-sites-from-one-Git-repository/" class="title">Deploying multiple Netlify sites from one monorepo</a></p>
              <p class="item-date"><time datetime="2020-08-21T03:30:32.000Z" itemprop="datePublished">August 20, 2020</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/JSS/">JSS</a></p>
              <p class="item-title"><a href="/index.php/2019/09/Running-JSS-headless-mode-in-containers-part-2-Build-containers/" class="title">Running JSS headless mode in containers part 2: Build containers</a></p>
              <p class="item-date"><time datetime="2019-09-16T02:14:04.000Z" itemprop="datePublished">September 15, 2019</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/JSS/">JSS</a></p>
              <p class="item-title"><a href="/index.php/2019/09/Running-JSS-headless-mode-in-containers-part-1/" class="title">Running JSS headless mode in containers, part 1</a></p>
              <p class="item-date"><time datetime="2019-09-08T19:00:36.000Z" itemprop="datePublished">September 8, 2019</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/C/">C#</a></p>
              <p class="item-title"><a href="/index.php/2019/05/Build-2019-All-the-things/" class="title">Build 2019: All the things</a></p>
              <p class="item-date"><time datetime="2019-05-10T23:01:11.000Z" itemprop="datePublished">May 10, 2019</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/index.php/category/April-1/">April 1</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Blade/">Blade</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Build-Scripts/">Build Scripts</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/C/">C#</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Dianoga/">Dianoga</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/JSS/">JSS</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Jamstack/">Jamstack</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/JavaScript/">JavaScript</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Node-js/">Node.js</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/">Sitecore</a><span class="category-list-count">39</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/Crypto/">Crypto</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/Lucene/">Lucene</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/MVC/">MVC</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/Search/">Search</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/xDB/">xDB</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Synthesis/">Synthesis</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Unicorn/">Unicorn</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/WebConsole/">WebConsole</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  
  <div id="toTop" class="fa fa-chevron-up"></div>
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <p>&copy; 2021 Kam Figy</p>
      <p><small>Opinions expressed on this blog are my own, and not necessarily those of my employer.</small></p>
     <p><small>This work is licensed under a <a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</small></p>
    </div>
  </div>
</footer>
    


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>




<script src="/js/script.js"></script>


  </div>
</body>
</html>