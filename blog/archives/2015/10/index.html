<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Archives: 2015/10 | Kam&#39;s Idea Log</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Kam&#39;s Idea Log">
<meta property="og:url" content="https://kamsar.net/blog/archives/2015/10/index.html">
<meta property="og:site_name" content="Kam&#39;s Idea Log">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Kam Figy">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@kamsar">
  
    <link rel="alternative" href="/index.php/feed" title="Kam&#39;s Idea Log" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-62284328-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


<meta name="generator" content="Hexo 5.4.0"></head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo">
        <span class="site-title">Kam&#39;s Idea Log</span>
        <span class="subtitle">C#, Jamstack, and Shenanigans</span>
      </a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        <div class="profile" id="profile-nav">
          <a id="profile-anchor" href="javascript:;"><img class="avatar" src="https://www.gravatar.com/avatar/314826f5d569260f26ac9f26f9e38b86?s=40" srcset="https://www.gravatar.com/avatar/314826f5d569260f26ac9f26f9e38b86?s=80 2x" alt="omg the beard"><i class="fa fa-caret-down"></i></a>
        </div>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="sitesearch" value="https://kamsar.net"></form>
      </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
      
        <td><a class="main-nav-link" href="/">Home</a></td>
      
        <td><a class="main-nav-link" href="/blog/archives">Archives</a></td>
      
      <td>
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="https://kamsar.net"></form>
      </td>
      </tr>
    </table>
  </div>
  
  <div id="header-sub" class="header-sub header-inner">
    <div class="outer">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/index.php/category/April-1/">April 1</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Blade/">Blade</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Build-Scripts/">Build Scripts</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/C/">C#</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Dianoga/">Dianoga</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/JSS/">JSS</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Jamstack/">Jamstack</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/JavaScript/">JavaScript</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Node-js/">Node.js</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/">Sitecore</a><span class="category-list-count">39</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Synthesis/">Synthesis</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Unicorn/">Unicorn</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/WebConsole/">WebConsole</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>
  
</header>
    <div class="outer">
      <aside id="profile">
  <div class="inner profile-inner">
  	<div class="base-info profile-block">
		  <img id="avatar" src="https://www.gravatar.com/avatar/314826f5d569260f26ac9f26f9e38b86?s=128" srcset="https://www.gravatar.com/avatar/314826f5d569260f26ac9f26f9e38b86?s=256 2x" alt="#sitecorebeard">
      <h2 id="name">Kam Figy</h2>
      <h3 id="title">Principal Platform Architect at</h3>
      <a class="corp-logo" href="https://uniform.dev" target="_blank"><img src="/css/images/uniform-logo.svg" alt="Uniform" width="180"></a>
      <span id="location"><i class="fa fa-map-marker"></i>Vancouver, WA USA</span>
      <a id="follow" target="_blank" rel="noopener" href="https://twitter.com/kamsar">FOLLOW</a>
  	</div>
    <div class="contact-info profile-block">
      <table class="contact-list">
        <tr>
        
          <td><a target="_blank" rel="noopener" href="https://github.com/kamsar" title="github"><i class="fa fa-github"></i></a></td>
        
          <td><a target="_blank" rel="noopener" href="https://twitter.com/kamsar" title="twitter"><i class="fa fa-twitter"></i></a></td>
        
          <td><a href="/index.php/feed" title="rss"><i class="fa fa-rss"></i></a></td>
        
        </tr>
      </table>
    </div>
    <div class="article-info profile-block bio">
      <h2>About</h2>
      <p>Kam has been making websites since 1996, starting out with a 14.4k modem on a <a href="https://en.wikipedia.org/wiki/Party_line_(telephony)" target="_blank">party line</a> in the Hawaiian rainforest. A veteran developer, architect, and speaker, he's been working in the content management space for well over a decade. Kam is the author of <a href="https://github.com/kamsar/Unicorn" target="_blank">Unicorn</a>, <a href="https://github.com/kamsar/Synthesis" target="_blank">Synthesis</a>, <a href="https://github.com/kamsar/Dianoga" target="_blank">Dianoga</a>, and several other open-source libraries.</p>
    </div>
  </div>
</aside>
      <section id="main">
  
  
    
    
      
        <div class="archive-year-wrap">
          <i class="fa fa-calendar"></i>
          <a href="/archives/2015" class="archive-year">2015</a>
        </div>
    
    <article id="post-Unicorn-3-0-1-Released" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2015/10/Unicorn-3-0-1-Released/">Unicorn 3.0.1 Released</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2015/10/Unicorn-3-0-1-Released/">
    <time datetime="2015-10-12T04:05:26.000Z" itemprop="datePublished">October 11, 2015</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Unicorn/">Unicorn</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>The first maintenance release for Unicorn 3.x has been released to NuGet. Unicorn 3.0.1 brings with it a small set of bug fixes and improvements:</p>
<ul>
<li>Data provider config patch is compatible with Sitecore Commerce and other modules that add data providers (thanks <a target="_blank" rel="noopener" href="https://twitter.com/jonnekats">@jonnekats</a>!)</li>
<li>Fixed a bug in Transparent Sync where syncing an item based on a template that only existed in transparent sync (and not the database) would act like the template did not exist. Ironically this was fixed in 3.0.0 but some n00b forgot to merge the config to activate it! (thanks <a target="_blank" rel="noopener" href="https://github.com/williamsk">Kevin Williams</a>!)</li>
<li>Fixed a race condition that could cause SFS trees to incorrectly reinitialize during a reserialize operation and cause an error (thanks <a target="_blank" rel="noopener" href="https://twitter.com/akshaysura13">@akshaysura13</a>!)</li>
<li>Content editor warnings have been improved:<ul>
<li>The name of the Unicorn configuration that includes the item is now shown so it’s easy to trace back why something is included.</li>
<li>For transparent sync items, there is an indication of whether the item is on disk only or both on disk and in the database as well. Note that items in both places may well have different field values, there is no equality check.</li>
</ul>
</li>
</ul>
<p>Due to the fix to Transparent Sync, this update is recommended for anyone using that feature.</p>
<p>Have fun!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2015/10/Unicorn-3-0-1-Released/" data-id="ckrl9emy8003l98q7bc4k2rw1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Unicorn-3-0-Released" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2015/10/Unicorn-3-0-Released/">Unicorn 3.0 Released</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2015/10/Unicorn-3-0-Released/">
    <time datetime="2015-10-02T18:00:00.000Z" itemprop="datePublished">October 2, 2015</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Unicorn/">Unicorn</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="https://kamsar.net/index.php/2015/09/Unicorn-3-What-s-new/Unicorn_logo.png" alt="patrick you&#39;re a bloody genius"></p>
<p>It’s been over a year since the last major release of Unicorn, but I haven’t been bored. Today I’m happy to announce the release of Unicorn 3.0 and Rainbow 1.0.</p>
<h1 id="Unicorn-101"><a href="#Unicorn-101" class="headerlink" title="Unicorn 101"></a>Unicorn 101</h1><p>Sitecore development artifacts are both code and database items, such as rendering code and rendering items. As developers, we use serialization to write our database artifacts into source control along with our code so that we have a record of all our development artifacts. <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn">Unicorn</a> is a tool to make serializing items and sharing them across teams and deployed environments easy and fun.</p>
<p>Unicorn takes advantage of keeping serialized items always up to date on the disk, which allows all merging to take place using your source control tool. Modern source control tools such as Git or SVN are capable of automatically merging the vast majority of item changes, which saves you time and reduces the chance of human error when merging.</p>
<p>Unicorn 3 is fresh off the compiler and brings with it a <a href="https://kamsar.net/index.php/2015/09/Unicorn-3-What-s-new/">huge raft of improvements</a>. This version brings its own <a href="https://kamsar.net/index.php/2015/07/Rethinking-the-Sitecore-Serialization-Format-Unicorn-3-Preview-part-1/">serialization format</a> and <a href="https://kamsar.net/index.php/2015/08/Reinventing-the-Serialization-File-System-Rainbow-Preview-Part-2/">filesystem hierarchy</a> that are far more friendly to source control and merge conflicts than the default Sitecore format. It’s also ridiculously fast - about 50% faster overall than Unicorn 2 or Sitecore serialization APIs.</p>
<h1 id="What-else-is-new"><a href="#What-else-is-new" class="headerlink" title="What else is new?"></a>What else is new?</h1><p>In fact there are <em>lots more</em> new features added to Unicorn 3 since the <a href="https://kamsar.net/index.php/2015/09/Unicorn-3-What-s-new/">what’s new blog post</a> was written. Not just minor details either! Read on…</p>
<h2 id="Transparent-Sync"><a href="#Transparent-Sync" class="headerlink" title="Transparent Sync"></a>Transparent Sync</h2><p>This is a feature that <a href="https://kamsar.net/index.php/2015/10/Unicorn-Introducing-Transparent-Sync/">demanded its own blog post</a>! Transparent Sync enables Unicorn to sync the serialized items in real time, completely automatically. It does this by using its data provider to directly read the serialized items and inject them into the Sitecore content tree. The items on disk <strong>are</strong> the items in Sitecore: it bypasses the database entirely for transparently synced items.</p>
<p>Seriously, it’s magic. <a href="https://kamsar.net/index.php/2015/10/Unicorn-Introducing-Transparent-Sync/">Transparent Sync</a> might be the best feature of Unicorn 3. You should give it a try!</p>
<h2 id="New-Configuration-Architecture"><a href="#New-Configuration-Architecture" class="headerlink" title="New Configuration Architecture"></a>New Configuration Architecture</h2><p>Previously Unicorn was distributed with its default example configuration directly in <code>Unicorn.config</code>. This was suboptimal because it encouraged modifying the stock config file and making future upgrades more of a merging challenge than they needed to be. In the new order, Unicorn ships <em>without</em> any configurations defined. There are two <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/src/Unicorn/Standard%20Config%20Files/Unicorn.Configs.Default.example">example</a> configuration-adding <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/src/Unicorn/Standard%20Config%20Files/Unicorn.Configs.NewItemsOnly.example">patch files</a> distributed with the NuGet package which you can duplicate and edit to your desires, and the <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/Build/Unicorn.nuget/readme.txt">README distributed with the NuGet package</a> details what you need to do to get started.</p>
<h2 id="Control-Panel-UX-Improvements"><a href="#Control-Panel-UX-Improvements" class="headerlink" title="Control Panel UX Improvements"></a>Control Panel UX Improvements</h2><p>The control panel has been redesigned to have an improved UX when there are many configurations defined. In the old UI, once more than a couple configurations were defined the page would need to scroll. The new UI reduces the vertical space for each configuration significantly:</p>
<img src="/index.php/2015/10/Unicorn-3-0-Released/newui.png" class="" title="new control panel">

<p>The new control panel also has an experience for selecting only the configurations you wish to sync in a single batch:</p>
<img src="/index.php/2015/10/Unicorn-3-0-Released/newui-multiselect.png" class="" title="new control panel">

<p>For automated builds, you can also copy the URL on the sync button when you’ve got multiple configurations selected in the control panel to run the same batch at build time. This is great if you’ve got some configurations that you may not wish to sync during a CI build.</p>
<h2 id="New-Items-Only-Evaluator"><a href="#New-Items-Only-Evaluator" class="headerlink" title="New Items Only Evaluator"></a>New Items Only Evaluator</h2><p>This is an <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn#evaluator">evaluator</a> that changes the behavior of syncing to only write <em>new</em> items from serialization into Sitecore. Existing items with the same ID or items that are not serialized are left alone. This can be useful for example if you’re wanting to push some developer-initiated content items up, like metadata or lookup source items, that you want to always exist but once they have been created they become the content editor’s to do with as they will. A <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/src/Unicorn/Standard%20Config%20Files/Unicorn.Configs.NewItemsOnly.example">sample configuration</a> that enables the NIO evaluator ships with the NuGet package. Thanks to <a target="_blank" rel="noopener" href="https://twitter.com/cardinal252">Nathanael Mann</a> for the feature request.</p>
<h2 id="Exclude-all-children-with-the-predicate"><a href="#Exclude-all-children-with-the-predicate" class="headerlink" title="Exclude all children with the predicate"></a>Exclude all children with the predicate</h2><p>To exclude all children of an item simply add a trailing slash to the <code>&lt;exclude&gt;</code> like so:</p>
<pre><code>&lt;include database=&quot;master&quot; path=&quot;/sitecore/content&quot;&gt;
    &lt;exclude path=&quot;/sitecore/content/&quot; /&gt;
&lt;/include&gt;
</code></pre>
<h2 id="Visual-Studio-Control-Panel-Support"><a href="#Visual-Studio-Control-Panel-Support" class="headerlink" title="Visual Studio Control Panel Support"></a>Visual Studio Control Panel Support</h2><p>Recently a <a target="_blank" rel="noopener" href="https://visualstudiogallery.msdn.microsoft.com/64439022-f470-422a-b663-fbb89aaf6e86">plugin for Visual Studio</a> was released that enables you to run Unicorn syncs directly within Visual Studio. Unicorn 3 supports this tool out of the box, by simply enabling the <code>Unicorn.Remote.config.disabled</code> patch file. </p>
<img src="/index.php/2015/10/Unicorn-3-0-Released/visualstudio.png" class="" title="new control panel">

<p>The <a target="_blank" rel="noopener" href="https://visualstudiogallery.msdn.microsoft.com/64439022-f470-422a-b663-fbb89aaf6e86">Unicorn Control Panel for Visual Studio</a> requires VS2013 or VS2015. It is developed by <a target="_blank" rel="noopener" href="https://twitter.com/berserkerdotnet">Andrii Snihyr</a> - thank you for the community support!</p>
<h2 id="TFS-Support"><a href="#TFS-Support" class="headerlink" title="TFS Support"></a>TFS Support</h2><p>Fellow Sitecore MVP and Connective DX’er <a target="_blank" rel="noopener" href="https://twitter.com/petersondave">Dave Peterson</a> has written up a <a target="_blank" rel="noopener" href="https://github.com/PetersonDave/Rainbow.Tfs">plugin for Rainbow/Unicorn that integrates it with TFS</a>. TFS 2010 (or server workspaces in 2012 and later) have the unfortunate limitation that all files are locked by default. This interferes with Unicorn’s operation as it writes files as items are changed in Sitecore, resulting in errors.</p>
<p>The TFS integration hooks the TFS API to Rainbow’s SFS data store, causing it to actually check out the file Unicorn is about to write or delete before acting. You must use a 32-bit IIS app pool when using the plugin, as the TFS API is 32-bit only.</p>
<p>The TFS plugin is available on NuGet; for installation instructions and the latest info <a target="_blank" rel="noopener" href="https://github.com/PetersonDave/Rainbow.Tfs/blob/master/README.md">see the README on GitHub</a></p>
<h2 id="Documentation"><a href="#Documentation" class="headerlink" title="Documentation"></a>Documentation</h2><p>The documentation in the <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/blob/master/README.md">README</a>, comments in the <a target="_blank" rel="noopener" href="https://github.com/kamsar/Unicorn/tree/master/src/Unicorn/Standard%20Config%20Files">stock config files</a>, and verbiage in the actual control panel and logs have all been reviewed and improved. If you get confused by anything, let me know and I’ll make the docs better or the error message clearer in the next release.</p>
<h2 id="Thank-you"><a href="#Thank-you" class="headerlink" title="Thank you"></a>Thank you</h2><p>Unicorn is a project by and for the Sitecore community. I’d like to thank everyone who’s contributed to the project in a major or minor way: without you, we wouldn’t have this tool today. Thank you!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2015/10/Unicorn-3-0-Released/" data-id="ckrl9emy7003h98q70jru20ro" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    
    
    <article id="post-Unicorn-Introducing-Transparent-Sync" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/index.php/2015/10/Unicorn-Introducing-Transparent-Sync/">Introducing Transparent Sync in Unicorn 3</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/index.php/2015/10/Unicorn-Introducing-Transparent-Sync/">
    <time datetime="2015-10-02T17:50:00.000Z" itemprop="datePublished">October 2, 2015</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/index.php/category/Unicorn/">Unicorn</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>A couple years ago <a target="_blank" rel="noopener" href="https://twitter.com/alexshyba">Alex Shyba</a> told me about an idea he had: what if we used a data provider to map serialized items directly into the content tree, bypassing the database and eliminating the need to sync? I was like</p>
<img src="/index.php/2015/10/Unicorn-Introducing-Transparent-Sync/dramatic.gif" class="" title="ermahgerd!">

<p>I went nuts and <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rhino">wrote a prototype</a> that did exactly that. </p>
<p>The prototype, nicknamed Rhino because it has a prominent horn like <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Unicorn">certain other mythical beasts</a>, actually worked fairly well. Unfortunately there are two hard problems in computer science: naming, cache invalidation, and off by one errors. Cache invalidation, specifically using the <code>FileSystemWatcher</code> to observe file changes by source control, was unreliable. Because of how core serialization is to Sitecore development practice, unreliability is not acceptable. Reluctantly, I shelved Rhino and worked on Unicorn 2 instead.</p>
<p><img src="https://kamsar.net/nuget/unicorn/logo.png" alt="unicorn logo"></p>
<p>The idea of Rhino stuck around. The improvements brought around in <a target="_blank" rel="noopener" href="https://github.com/kamsar/Rainbow">Rainbow</a>, such as partial item reading and tighter control around storage, enabled working around the limitations that had precluded Rhino from being useful in production. Thus the idea returns as Transparent Sync, which might just be the best part of Unicorn 3.</p>
<p>Transparent Sync enables Unicorn to sync serialized items in real time, completely automatically. It does this by using its data provider to directly read the serialized items and inject them into the Sitecore content tree. The items on disk <strong>are</strong> the items in Sitecore: it bypasses the database entirely for transparently synced items. Changes made on disk update nearly instantly in the Sitecore editing interfaces.</p>
<img src="/index.php/2015/10/Unicorn-Introducing-Transparent-Sync/notsureif.jpg" class="" title="not sure if witchcraft, or transparent sync">

<p>Imagine a scenario where a development team is working with a feature-branch driven workflow, like <a target="_blank" rel="noopener" href="https://guides.github.com/introduction/flow/">GitHub Flow</a>. In order to perform a code review when using Transparent Sync, you merely checkout the feature branch under review and your Sitecore is immediately configured with the items that the feature includes.</p>
<img src="/index.php/2015/10/Unicorn-Introducing-Transparent-Sync/dontalways.jpg" class="" title="I don" alt="t always do code reviews">

<h2 id="When-should-we-use-Transparent-Sync"><a href="#When-should-we-use-Transparent-Sync" class="headerlink" title="When should we use Transparent Sync?"></a>When should we use Transparent Sync?</h2><p>Transparent Sync is turned off by default because you should understand how it works before enabling it.</p>
<p>Transparent Sync is excellent for development artifacts like templates and rendering items, but it’s inappropriate if you’ve got hundreds of thousands of content items. At startup Unicorn must build an index of metadata, which involves reading the headers of each serialized file. If you have a SSD this penalty is pretty minimal, but a traditional hard drive not so much. In testing I enabled transparent sync for the whole default core and master database (19,228 items) using a SSD and noted about 100ms increase in startup times on average.</p>
<p>Because Transparent Sync bypasses the normal sync process, transparent sync also bypasses anything that is hooked to sync. This would include things like custom evaluators (like <code>NewItemsOnlyEvaluator</code>) and the sync event pipelines. If you are relying on these customizations, turn transparent sync off for the configurations that use them.</p>
<h2 id="How-do-we-use-Transparent-Sync"><a href="#How-do-we-use-Transparent-Sync" class="headerlink" title="How do we use Transparent Sync?"></a>How do we use Transparent Sync?</h2><p>Note: you must perform an initial serialization of a configuration with Transparent Sync <em>off</em> before you enable it. Otherwise the items in the configuration will seem to disappear as transparent sync shows all zero items that are on disk!</p>
<p>Turning transparent sync on is really easy: take the <code>&lt;configuration&gt;</code> you want to add transparent sync to and put this line in it:</p>
<pre><code>&lt;dataProviderConfiguration enableTransparentSync=&quot;true&quot; type=&quot;Unicorn.Data.DataProvider.DefaultUnicornDataProviderConfiguration, Unicorn&quot; /&gt;
</code></pre>
<p>You can also change the setting in the global <code>&lt;defaults&gt;</code> if you want to change the default setting of transparent sync for all configurations.</p>
<p>Once Transparent Sync is enabled all you have to do is change items on disk and the updates will immediately appear within Sitecore.</p>
<h2 id="Going-to-production"><a href="#Going-to-production" class="headerlink" title="Going to production"></a>Going to production</h2><p>In production we usually remove the Unicorn data provider as it’s not normally required. However without the Unicorn data provider, transparently synced items disappear: they aren’t really in the database at all, they’re on disk. There are two approaches to solve this problem:</p>
<ul>
<li>Transparent Synced configurations <em>can</em> sync in the traditional way. This will persist the disk-based items permanently in the database. </li>
<li>Keep the data provider enabled in production. This is appealing because it means you can just deploy files to production and be done with it - and rollback in the same way. Be aware that if the IIS app pool identity cannot write to the serialized items you will be unable to make any ‘emergency’ changes to the items in Sitecore.</li>
</ul>
<h2 id="What-happens-if-I-reserialize-a-Transparent-Sync-configuration"><a href="#What-happens-if-I-reserialize-a-Transparent-Sync-configuration" class="headerlink" title="What happens if I reserialize a Transparent Sync configuration?"></a>What happens if I reserialize a Transparent Sync configuration?</h2><p>The database is used for all reserialize operations. In a Transparent Sync configuration, it is common for items to NOT reside in the database at all. If you reserialize this configuration it will be reset to what <em>is</em> in the database, thus deleting any Transparent Sync items that are not already in the database. Similarly if you use ‘Dump Item’ to do a partial reserialize on a Transparent Sync item it will be reverted to what is in the database, which may well be ‘nothing’.</p>
<p>There are warnings in the control panel if you reserialize a Transparent Sync configuration.</p>
<h2 id="Anything-else"><a href="#Anything-else" class="headerlink" title="Anything else?"></a>Anything else?</h2><p>I hope you have as much fun with Transparent Sync as I had making it!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kamsar.net/index.php/2015/10/Unicorn-Introducing-Transparent-Sync/" data-id="ckrl9emy8003j98q734cy8ayh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
  
</section>
      
        <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul id="recent-post" class="no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/JavaScript/">JavaScript</a></p>
              <p class="item-title"><a href="/index.php/2021/07/Fun-with-async-generators-and-for-await/" class="title">Fun with async generators and for await</a></p>
              <p class="item-date"><time datetime="2021-07-26T23:30:51.000Z" itemprop="datePublished">July 26, 2021</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/Jamstack/">Jamstack</a></p>
              <p class="item-title"><a href="/index.php/2020/08/Deploying-multiple-Netlify-sites-from-one-Git-repository/" class="title">Deploying multiple Netlify sites from one monorepo</a></p>
              <p class="item-date"><time datetime="2020-08-21T03:30:32.000Z" itemprop="datePublished">August 20, 2020</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/JSS/">JSS</a></p>
              <p class="item-title"><a href="/index.php/2019/09/Running-JSS-headless-mode-in-containers-part-2-Build-containers/" class="title">Running JSS headless mode in containers part 2: Build containers</a></p>
              <p class="item-date"><time datetime="2019-09-16T02:14:04.000Z" itemprop="datePublished">September 15, 2019</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/JSS/">JSS</a></p>
              <p class="item-title"><a href="/index.php/2019/09/Running-JSS-headless-mode-in-containers-part-1/" class="title">Running JSS headless mode in containers, part 1</a></p>
              <p class="item-date"><time datetime="2019-09-08T19:00:36.000Z" itemprop="datePublished">September 8, 2019</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/index.php/category/C/">C#</a></p>
              <p class="item-title"><a href="/index.php/2019/05/Build-2019-All-the-things/" class="title">Build 2019: All the things</a></p>
              <p class="item-date"><time datetime="2019-05-10T23:01:11.000Z" itemprop="datePublished">May 10, 2019</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/index.php/category/April-1/">April 1</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Blade/">Blade</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Build-Scripts/">Build Scripts</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/C/">C#</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Dianoga/">Dianoga</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/JSS/">JSS</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Jamstack/">Jamstack</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/JavaScript/">JavaScript</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Node-js/">Node.js</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/">Sitecore</a><span class="category-list-count">39</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/Crypto/">Crypto</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/Lucene/">Lucene</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/MVC/">MVC</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/Search/">Search</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Sitecore/xDB/">xDB</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Synthesis/">Synthesis</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/Unicorn/">Unicorn</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="/index.php/category/WebConsole/">WebConsole</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  
  <div id="toTop" class="fa fa-chevron-up"></div>
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <p>&copy; 2021 Kam Figy</p>
      <p><small>Opinions expressed on this blog are my own, and not necessarily those of my employer.</small></p>
     <p><small>This work is licensed under a <a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</small></p>
    </div>
  </div>
</footer>
    


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>




<script src="/js/script.js"></script>


  </div>
</body>
</html>